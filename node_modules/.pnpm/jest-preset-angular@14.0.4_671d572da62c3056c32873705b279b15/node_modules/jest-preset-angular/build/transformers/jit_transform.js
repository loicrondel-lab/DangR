"use strict";var jS=Object.create;var la=Object.defineProperty;var KS=Object.getOwnPropertyDescriptor;var zS=Object.getOwnPropertyNames;var XS=Object.getPrototypeOf,YS=Object.prototype.hasOwnProperty;var QS=(t,e)=>()=>(t&&(e=t(t=0)),e);var H=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),JS=(t,e)=>{for(var n in e)la(t,n,{get:e[n],enumerable:!0})},cf=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of zS(e))!YS.call(t,s)&&s!==n&&la(t,s,{get:()=>e[s],enumerable:!(r=KS(e,s))||r.enumerable});return t};var A=(t,e,n)=>(n=t!=null?jS(XS(t)):{},cf(e||!t||!t.__esModule?la(n,"default",{value:t,enumerable:!0}):n,t)),ZS=t=>cf(la({},"__esModule",{value:!0}),t);var k,S=QS(()=>{"use strict";k=require("url").pathToFileURL(__filename)});var Wo=H((I2,Sy)=>{S();var BR="2.0.0",$R=Number.MAX_SAFE_INTEGER||9007199254740991,UR=16,VR=250,qR=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Sy.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:UR,MAX_SAFE_BUILD_LENGTH:VR,MAX_SAFE_INTEGER:$R,RELEASE_TYPES:qR,SEMVER_SPEC_VERSION:BR,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var jo=H((A2,wy)=>{S();var GR=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};wy.exports=GR});var $i=H((dr,xy)=>{S();var{MAX_SAFE_COMPONENT_LENGTH:Ih,MAX_SAFE_BUILD_LENGTH:HR,MAX_LENGTH:WR}=Wo(),jR=jo();dr=xy.exports={};var KR=dr.re=[],zR=dr.safeRe=[],M=dr.src=[],L=dr.t={},XR=0,Ch="[a-zA-Z0-9-]",YR=[["\\s",1],["\\d",WR],[Ch,HR]],QR=t=>{for(let[e,n]of YR)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},Q=(t,e,n)=>{let r=QR(e),s=XR++;jR(t,s,e),L[t]=s,M[s]=e,KR[s]=new RegExp(e,n?"g":void 0),zR[s]=new RegExp(r,n?"g":void 0)};Q("NUMERICIDENTIFIER","0|[1-9]\\d*");Q("NUMERICIDENTIFIERLOOSE","\\d+");Q("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Ch}*`);Q("MAINVERSION",`(${M[L.NUMERICIDENTIFIER]})\\.(${M[L.NUMERICIDENTIFIER]})\\.(${M[L.NUMERICIDENTIFIER]})`);Q("MAINVERSIONLOOSE",`(${M[L.NUMERICIDENTIFIERLOOSE]})\\.(${M[L.NUMERICIDENTIFIERLOOSE]})\\.(${M[L.NUMERICIDENTIFIERLOOSE]})`);Q("PRERELEASEIDENTIFIER",`(?:${M[L.NUMERICIDENTIFIER]}|${M[L.NONNUMERICIDENTIFIER]})`);Q("PRERELEASEIDENTIFIERLOOSE",`(?:${M[L.NUMERICIDENTIFIERLOOSE]}|${M[L.NONNUMERICIDENTIFIER]})`);Q("PRERELEASE",`(?:-(${M[L.PRERELEASEIDENTIFIER]}(?:\\.${M[L.PRERELEASEIDENTIFIER]})*))`);Q("PRERELEASELOOSE",`(?:-?(${M[L.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${M[L.PRERELEASEIDENTIFIERLOOSE]})*))`);Q("BUILDIDENTIFIER",`${Ch}+`);Q("BUILD",`(?:\\+(${M[L.BUILDIDENTIFIER]}(?:\\.${M[L.BUILDIDENTIFIER]})*))`);Q("FULLPLAIN",`v?${M[L.MAINVERSION]}${M[L.PRERELEASE]}?${M[L.BUILD]}?`);Q("FULL",`^${M[L.FULLPLAIN]}$`);Q("LOOSEPLAIN",`[v=\\s]*${M[L.MAINVERSIONLOOSE]}${M[L.PRERELEASELOOSE]}?${M[L.BUILD]}?`);Q("LOOSE",`^${M[L.LOOSEPLAIN]}$`);Q("GTLT","((?:<|>)?=?)");Q("XRANGEIDENTIFIERLOOSE",`${M[L.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Q("XRANGEIDENTIFIER",`${M[L.NUMERICIDENTIFIER]}|x|X|\\*`);Q("XRANGEPLAIN",`[v=\\s]*(${M[L.XRANGEIDENTIFIER]})(?:\\.(${M[L.XRANGEIDENTIFIER]})(?:\\.(${M[L.XRANGEIDENTIFIER]})(?:${M[L.PRERELEASE]})?${M[L.BUILD]}?)?)?`);Q("XRANGEPLAINLOOSE",`[v=\\s]*(${M[L.XRANGEIDENTIFIERLOOSE]})(?:\\.(${M[L.XRANGEIDENTIFIERLOOSE]})(?:\\.(${M[L.XRANGEIDENTIFIERLOOSE]})(?:${M[L.PRERELEASELOOSE]})?${M[L.BUILD]}?)?)?`);Q("XRANGE",`^${M[L.GTLT]}\\s*${M[L.XRANGEPLAIN]}$`);Q("XRANGELOOSE",`^${M[L.GTLT]}\\s*${M[L.XRANGEPLAINLOOSE]}$`);Q("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Ih}})(?:\\.(\\d{1,${Ih}}))?(?:\\.(\\d{1,${Ih}}))?`);Q("COERCE",`${M[L.COERCEPLAIN]}(?:$|[^\\d])`);Q("COERCEFULL",M[L.COERCEPLAIN]+`(?:${M[L.PRERELEASE]})?(?:${M[L.BUILD]})?(?:$|[^\\d])`);Q("COERCERTL",M[L.COERCE],!0);Q("COERCERTLFULL",M[L.COERCEFULL],!0);Q("LONETILDE","(?:~>?)");Q("TILDETRIM",`(\\s*)${M[L.LONETILDE]}\\s+`,!0);dr.tildeTrimReplace="$1~";Q("TILDE",`^${M[L.LONETILDE]}${M[L.XRANGEPLAIN]}$`);Q("TILDELOOSE",`^${M[L.LONETILDE]}${M[L.XRANGEPLAINLOOSE]}$`);Q("LONECARET","(?:\\^)");Q("CARETTRIM",`(\\s*)${M[L.LONECARET]}\\s+`,!0);dr.caretTrimReplace="$1^";Q("CARET",`^${M[L.LONECARET]}${M[L.XRANGEPLAIN]}$`);Q("CARETLOOSE",`^${M[L.LONECARET]}${M[L.XRANGEPLAINLOOSE]}$`);Q("COMPARATORLOOSE",`^${M[L.GTLT]}\\s*(${M[L.LOOSEPLAIN]})$|^$`);Q("COMPARATOR",`^${M[L.GTLT]}\\s*(${M[L.FULLPLAIN]})$|^$`);Q("COMPARATORTRIM",`(\\s*)${M[L.GTLT]}\\s*(${M[L.LOOSEPLAIN]}|${M[L.XRANGEPLAIN]})`,!0);dr.comparatorTrimReplace="$1$2$3";Q("HYPHENRANGE",`^\\s*(${M[L.XRANGEPLAIN]})\\s+-\\s+(${M[L.XRANGEPLAIN]})\\s*$`);Q("HYPHENRANGELOOSE",`^\\s*(${M[L.XRANGEPLAINLOOSE]})\\s+-\\s+(${M[L.XRANGEPLAINLOOSE]})\\s*$`);Q("STAR","(<|>)?=?\\s*\\*");Q("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Q("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Jl=H((D2,Ty)=>{S();var JR=Object.freeze({loose:!0}),ZR=Object.freeze({}),eP=t=>t?typeof t!="object"?JR:t:ZR;Ty.exports=eP});var Ah=H((R2,Ay)=>{S();var Iy=/^[0-9]+$/,Cy=(t,e)=>{let n=Iy.test(t),r=Iy.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},tP=(t,e)=>Cy(e,t);Ay.exports={compareIdentifiers:Cy,rcompareIdentifiers:tP}});var ut=H((k2,_y)=>{S();var Zl=jo(),{MAX_LENGTH:by,MAX_SAFE_INTEGER:ec}=Wo(),{safeRe:Ny,t:Dy}=$i(),nP=Jl(),{compareIdentifiers:Ui}=Ah(),bh=class t{constructor(e,n){if(n=nP(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>by)throw new TypeError(`version is longer than ${by} characters`);Zl("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?Ny[Dy.LOOSE]:Ny[Dy.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>ec||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ec||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ec||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<ec)return i}return s}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Zl("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Ui(this.major,e.major)||Ui(this.minor,e.minor)||Ui(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],s=e.prerelease[n];if(Zl("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return Ui(r,s)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let r=this.build[n],s=e.build[n];if(Zl("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return Ui(r,s)}while(++n)}inc(e,n,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(n){let i=[n,s];r===!1&&(i=[n]),Ui(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};_y.exports=bh});var Ds=H((L2,Py)=>{S();var Ry=ut(),rP=(t,e,n=!1)=>{if(t instanceof Ry)return t;try{return new Ry(t,e)}catch(r){if(!n)return null;throw r}};Py.exports=rP});var My=H((F2,ky)=>{S();var sP=Ds(),iP=(t,e)=>{let n=sP(t,e);return n?n.version:null};ky.exports=iP});var Oy=H(($2,Ly)=>{S();var oP=Ds(),aP=(t,e)=>{let n=oP(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};Ly.exports=aP});var $y=H((V2,By)=>{S();var Fy=ut(),lP=(t,e,n,r,s)=>{typeof n=="string"&&(s=r,r=n,n=void 0);try{return new Fy(t instanceof Fy?t.version:t,n).inc(e,r,s).version}catch{return null}};By.exports=lP});var qy=H((G2,Vy)=>{S();var Uy=Ds(),cP=(t,e)=>{let n=Uy(t,null,!0),r=Uy(e,null,!0),s=n.compare(r);if(s===0)return null;let i=s>0,o=i?n:r,a=i?r:n,l=!!o.prerelease.length;if(!!a.prerelease.length&&!l)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";let u=l?"pre":"";return n.major!==r.major?u+"major":n.minor!==r.minor?u+"minor":n.patch!==r.patch?u+"patch":"prerelease"};Vy.exports=cP});var Hy=H((W2,Gy)=>{S();var uP=ut(),pP=(t,e)=>new uP(t,e).major;Gy.exports=pP});var jy=H((K2,Wy)=>{S();var hP=ut(),fP=(t,e)=>new hP(t,e).minor;Wy.exports=fP});var zy=H((X2,Ky)=>{S();var dP=ut(),mP=(t,e)=>new dP(t,e).patch;Ky.exports=mP});var Yy=H((Q2,Xy)=>{S();var gP=Ds(),vP=(t,e)=>{let n=gP(t,e);return n&&n.prerelease.length?n.prerelease:null};Xy.exports=vP});var rn=H((Z2,Jy)=>{S();var Qy=ut(),yP=(t,e,n)=>new Qy(t,n).compare(new Qy(e,n));Jy.exports=yP});var eE=H((tF,Zy)=>{S();var EP=rn(),SP=(t,e,n)=>EP(e,t,n);Zy.exports=SP});var nE=H((rF,tE)=>{S();var wP=rn(),xP=(t,e)=>wP(t,e,!0);tE.exports=xP});var tc=H((iF,sE)=>{S();var rE=ut(),TP=(t,e,n)=>{let r=new rE(t,n),s=new rE(e,n);return r.compare(s)||r.compareBuild(s)};sE.exports=TP});var oE=H((aF,iE)=>{S();var IP=tc(),CP=(t,e)=>t.sort((n,r)=>IP(n,r,e));iE.exports=CP});var lE=H((cF,aE)=>{S();var AP=tc(),bP=(t,e)=>t.sort((n,r)=>AP(r,n,e));aE.exports=bP});var Ko=H((pF,cE)=>{S();var NP=rn(),DP=(t,e,n)=>NP(t,e,n)>0;cE.exports=DP});var nc=H((fF,uE)=>{S();var _P=rn(),RP=(t,e,n)=>_P(t,e,n)<0;uE.exports=RP});var Nh=H((mF,pE)=>{S();var PP=rn(),kP=(t,e,n)=>PP(t,e,n)===0;pE.exports=kP});var Dh=H((vF,hE)=>{S();var MP=rn(),LP=(t,e,n)=>MP(t,e,n)!==0;hE.exports=LP});var rc=H((EF,fE)=>{S();var OP=rn(),FP=(t,e,n)=>OP(t,e,n)>=0;fE.exports=FP});var sc=H((wF,dE)=>{S();var BP=rn(),$P=(t,e,n)=>BP(t,e,n)<=0;dE.exports=$P});var _h=H((TF,mE)=>{S();var UP=Nh(),VP=Dh(),qP=Ko(),GP=rc(),HP=nc(),WP=sc(),jP=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return UP(t,n,r);case"!=":return VP(t,n,r);case">":return qP(t,n,r);case">=":return GP(t,n,r);case"<":return HP(t,n,r);case"<=":return WP(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};mE.exports=jP});var vE=H((CF,gE)=>{S();var KP=ut(),zP=Ds(),{safeRe:ic,t:oc}=$i(),XP=(t,e)=>{if(t instanceof KP)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?ic[oc.COERCEFULL]:ic[oc.COERCE]);else{let l=e.includePrerelease?ic[oc.COERCERTLFULL]:ic[oc.COERCERTL],c;for(;(c=l.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||c.index+c[0].length!==n.index+n[0].length)&&(n=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(n===null)return null;let r=n[2],s=n[3]||"0",i=n[4]||"0",o=e.includePrerelease&&n[5]?`-${n[5]}`:"",a=e.includePrerelease&&n[6]?`+${n[6]}`:"";return zP(`${r}.${s}.${i}${o}${a}`,e)};gE.exports=XP});var EE=H((bF,yE)=>{"use strict";S();yE.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var wE=H((DF,SE)=>{"use strict";S();SE.exports=he;he.Node=_s;he.create=he;function he(t){var e=this;if(e instanceof he||(e=new he),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)e.push(arguments[n]);return e}he.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e};he.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};he.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};he.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)QP(this,arguments[t]);return this.length};he.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)JP(this,arguments[t]);return this.length};he.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};he.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};he.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;n!==null;r++)t.call(e,n.value,r,this),n=n.next};he.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;n!==null;r--)t.call(e,n.value,r,this),n=n.prev};he.prototype.get=function(t){for(var e=0,n=this.head;n!==null&&e<t;e++)n=n.next;if(e===t&&n!==null)return n.value};he.prototype.getReverse=function(t){for(var e=0,n=this.tail;n!==null&&e<t;e++)n=n.prev;if(e===t&&n!==null)return n.value};he.prototype.map=function(t,e){e=e||this;for(var n=new he,r=this.head;r!==null;)n.push(t.call(e,r.value,this)),r=r.next;return n};he.prototype.mapReverse=function(t,e){e=e||this;for(var n=new he,r=this.tail;r!==null;)n.push(t.call(e,r.value,this)),r=r.prev;return n};he.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;r!==null;s++)n=t(n,r.value,s),r=r.next;return n};he.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;r!==null;s--)n=t(n,r.value,s),r=r.prev;return n};he.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;n!==null;e++)t[e]=n.value,n=n.next;return t};he.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;n!==null;e++)t[e]=n.value,n=n.prev;return t};he.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new he;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=0,s=this.head;s!==null&&r<t;r++)s=s.next;for(;s!==null&&r<e;r++,s=s.next)n.push(s.value);return n};he.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new he;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=this.length,s=this.tail;s!==null&&r>e;r--)s=s.prev;for(;s!==null&&r>t;r--,s=s.prev)n.push(s.value);return n};he.prototype.splice=function(t,e,...n){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var r=0,s=this.head;s!==null&&r<t;r++)s=s.next;for(var i=[],r=0;s&&r<e;r++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var r=0;r<n.length;r++)s=YP(this,s,n[r]);return i};he.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this};function YP(t,e,n){var r=e===t.head?new _s(n,null,e,t):new _s(n,e,e.next,t);return r.next===null&&(t.tail=r),r.prev===null&&(t.head=r),t.length++,r}function QP(t,e){t.tail=new _s(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function JP(t,e){t.head=new _s(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function _s(t,e,n,r){if(!(this instanceof _s))return new _s(t,e,n,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{EE()(he)}catch{}});var AE=H((RF,CE)=>{"use strict";S();var ZP=wE(),Rs=Symbol("max"),gr=Symbol("length"),Vi=Symbol("lengthCalculator"),Xo=Symbol("allowStale"),Ps=Symbol("maxAge"),mr=Symbol("dispose"),xE=Symbol("noDisposeOnSet"),Ye=Symbol("lruList"),_n=Symbol("cache"),IE=Symbol("updateAgeOnGet"),Rh=()=>1,kh=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let n=this[Rs]=e.max||1/0,r=e.length||Rh;if(this[Vi]=typeof r!="function"?Rh:r,this[Xo]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Ps]=e.maxAge||0,this[mr]=e.dispose,this[xE]=e.noDisposeOnSet||!1,this[IE]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Rs]=e||1/0,zo(this)}get max(){return this[Rs]}set allowStale(e){this[Xo]=!!e}get allowStale(){return this[Xo]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Ps]=e,zo(this)}get maxAge(){return this[Ps]}set lengthCalculator(e){typeof e!="function"&&(e=Rh),e!==this[Vi]&&(this[Vi]=e,this[gr]=0,this[Ye].forEach(n=>{n.length=this[Vi](n.value,n.key),this[gr]+=n.length})),zo(this)}get lengthCalculator(){return this[Vi]}get length(){return this[gr]}get itemCount(){return this[Ye].length}rforEach(e,n){n=n||this;for(let r=this[Ye].tail;r!==null;){let s=r.prev;TE(this,e,r,n),r=s}}forEach(e,n){n=n||this;for(let r=this[Ye].head;r!==null;){let s=r.next;TE(this,e,r,n),r=s}}keys(){return this[Ye].toArray().map(e=>e.key)}values(){return this[Ye].toArray().map(e=>e.value)}reset(){this[mr]&&this[Ye]&&this[Ye].length&&this[Ye].forEach(e=>this[mr](e.key,e.value)),this[_n]=new Map,this[Ye]=new ZP,this[gr]=0}dump(){return this[Ye].map(e=>ac(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Ye]}set(e,n,r){if(r=r||this[Ps],r&&typeof r!="number")throw new TypeError("maxAge must be a number");let s=r?Date.now():0,i=this[Vi](n,e);if(this[_n].has(e)){if(i>this[Rs])return qi(this,this[_n].get(e)),!1;let l=this[_n].get(e).value;return this[mr]&&(this[xE]||this[mr](e,l.value)),l.now=s,l.maxAge=r,l.value=n,this[gr]+=i-l.length,l.length=i,this.get(e),zo(this),!0}let o=new Mh(e,n,i,s,r);return o.length>this[Rs]?(this[mr]&&this[mr](e,n),!1):(this[gr]+=o.length,this[Ye].unshift(o),this[_n].set(e,this[Ye].head),zo(this),!0)}has(e){if(!this[_n].has(e))return!1;let n=this[_n].get(e).value;return!ac(this,n)}get(e){return Ph(this,e,!0)}peek(e){return Ph(this,e,!1)}pop(){let e=this[Ye].tail;return e?(qi(this,e),e.value):null}del(e){qi(this,this[_n].get(e))}load(e){this.reset();let n=Date.now();for(let r=e.length-1;r>=0;r--){let s=e[r],i=s.e||0;if(i===0)this.set(s.k,s.v);else{let o=i-n;o>0&&this.set(s.k,s.v,o)}}}prune(){this[_n].forEach((e,n)=>Ph(this,n,!1))}},Ph=(t,e,n)=>{let r=t[_n].get(e);if(r){let s=r.value;if(ac(t,s)){if(qi(t,r),!t[Xo])return}else n&&(t[IE]&&(r.value.now=Date.now()),t[Ye].unshiftNode(r));return s.value}},ac=(t,e)=>{if(!e||!e.maxAge&&!t[Ps])return!1;let n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[Ps]&&n>t[Ps]},zo=t=>{if(t[gr]>t[Rs])for(let e=t[Ye].tail;t[gr]>t[Rs]&&e!==null;){let n=e.prev;qi(t,e),e=n}},qi=(t,e)=>{if(e){let n=e.value;t[mr]&&t[mr](n.key,n.value),t[gr]-=n.length,t[_n].delete(n.key),t[Ye].removeNode(e)}},Mh=class{constructor(e,n,r,s,i){this.key=e,this.value=n,this.length=r,this.now=s,this.maxAge=i||0}},TE=(t,e,n,r)=>{let s=n.value;ac(t,s)&&(qi(t,n),t[Xo]||(s=void 0)),s&&e.call(r,s.value,s.key,t)};CE.exports=kh});var sn=H((kF,_E)=>{S();var Lh=class t{constructor(e,n){if(n=tk(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof Oh)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(s=>!NE(s[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&lk(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&ok)|(this.options.loose&&ak))+":"+e,s=bE.get(r);if(s)return s;let i=this.options.loose,o=i?Ot[It.HYPHENRANGELOOSE]:Ot[It.HYPHENRANGE];e=e.replace(o,yk(this.options.includePrerelease)),Ce("hyphen replace",e),e=e.replace(Ot[It.COMPARATORTRIM],rk),Ce("comparator trim",e),e=e.replace(Ot[It.TILDETRIM],sk),Ce("tilde trim",e),e=e.replace(Ot[It.CARETTRIM],ik),Ce("caret trim",e);let a=e.split(" ").map(h=>ck(h,this.options)).join(" ").split(/\s+/).map(h=>vk(h,this.options));i&&(a=a.filter(h=>(Ce("loose invalid filter",h,this.options),!!h.match(Ot[It.COMPARATORLOOSE])))),Ce("range list",a);let l=new Map,c=a.map(h=>new Oh(h,this.options));for(let h of c){if(NE(h))return[h];l.set(h.value,h)}l.size>1&&l.has("")&&l.delete("");let u=[...l.values()];return bE.set(r,u),u}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(r=>DE(r,n)&&e.set.some(s=>DE(s,n)&&r.every(i=>s.every(o=>i.intersects(o,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new nk(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(Ek(this.set[n],e,this.options))return!0;return!1}};_E.exports=Lh;var ek=AE(),bE=new ek({max:1e3}),tk=Jl(),Oh=Yo(),Ce=jo(),nk=ut(),{safeRe:Ot,t:It,comparatorTrimReplace:rk,tildeTrimReplace:sk,caretTrimReplace:ik}=$i(),{FLAG_INCLUDE_PRERELEASE:ok,FLAG_LOOSE:ak}=Wo(),NE=t=>t.value==="<0.0.0-0",lk=t=>t.value==="",DE=(t,e)=>{let n=!0,r=t.slice(),s=r.pop();for(;n&&r.length;)n=r.every(i=>s.intersects(i,e)),s=r.pop();return n},ck=(t,e)=>(Ce("comp",t,e),t=hk(t,e),Ce("caret",t),t=uk(t,e),Ce("tildes",t),t=dk(t,e),Ce("xrange",t),t=gk(t,e),Ce("stars",t),t),Ct=t=>!t||t.toLowerCase()==="x"||t==="*",uk=(t,e)=>t.trim().split(/\s+/).map(n=>pk(n,e)).join(" "),pk=(t,e)=>{let n=e.loose?Ot[It.TILDELOOSE]:Ot[It.TILDE];return t.replace(n,(r,s,i,o,a)=>{Ce("tilde",t,r,s,i,o,a);let l;return Ct(s)?l="":Ct(i)?l=`>=${s}.0.0 <${+s+1}.0.0-0`:Ct(o)?l=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:a?(Ce("replaceTilde pr",a),l=`>=${s}.${i}.${o}-${a} <${s}.${+i+1}.0-0`):l=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,Ce("tilde return",l),l})},hk=(t,e)=>t.trim().split(/\s+/).map(n=>fk(n,e)).join(" "),fk=(t,e)=>{Ce("caret",t,e);let n=e.loose?Ot[It.CARETLOOSE]:Ot[It.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(s,i,o,a,l)=>{Ce("caret",t,s,i,o,a,l);let c;return Ct(i)?c="":Ct(o)?c=`>=${i}.0.0${r} <${+i+1}.0.0-0`:Ct(a)?i==="0"?c=`>=${i}.${o}.0${r} <${i}.${+o+1}.0-0`:c=`>=${i}.${o}.0${r} <${+i+1}.0.0-0`:l?(Ce("replaceCaret pr",l),i==="0"?o==="0"?c=`>=${i}.${o}.${a}-${l} <${i}.${o}.${+a+1}-0`:c=`>=${i}.${o}.${a}-${l} <${i}.${+o+1}.0-0`:c=`>=${i}.${o}.${a}-${l} <${+i+1}.0.0-0`):(Ce("no pr"),i==="0"?o==="0"?c=`>=${i}.${o}.${a}${r} <${i}.${o}.${+a+1}-0`:c=`>=${i}.${o}.${a}${r} <${i}.${+o+1}.0-0`:c=`>=${i}.${o}.${a} <${+i+1}.0.0-0`),Ce("caret return",c),c})},dk=(t,e)=>(Ce("replaceXRanges",t,e),t.split(/\s+/).map(n=>mk(n,e)).join(" ")),mk=(t,e)=>{t=t.trim();let n=e.loose?Ot[It.XRANGELOOSE]:Ot[It.XRANGE];return t.replace(n,(r,s,i,o,a,l)=>{Ce("xRange",t,r,s,i,o,a,l);let c=Ct(i),u=c||Ct(o),h=u||Ct(a),d=h;return s==="="&&d&&(s=""),l=e.includePrerelease?"-0":"",c?s===">"||s==="<"?r="<0.0.0-0":r="*":s&&d?(u&&(o=0),a=0,s===">"?(s=">=",u?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):s==="<="&&(s="<",u?i=+i+1:o=+o+1),s==="<"&&(l="-0"),r=`${s+i}.${o}.${a}${l}`):u?r=`>=${i}.0.0${l} <${+i+1}.0.0-0`:h&&(r=`>=${i}.${o}.0${l} <${i}.${+o+1}.0-0`),Ce("xRange return",r),r})},gk=(t,e)=>(Ce("replaceStars",t,e),t.trim().replace(Ot[It.STAR],"")),vk=(t,e)=>(Ce("replaceGTE0",t,e),t.trim().replace(Ot[e.includePrerelease?It.GTE0PRE:It.GTE0],"")),yk=t=>(e,n,r,s,i,o,a,l,c,u,h,d,g)=>(Ct(r)?n="":Ct(s)?n=`>=${r}.0.0${t?"-0":""}`:Ct(i)?n=`>=${r}.${s}.0${t?"-0":""}`:o?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,Ct(c)?l="":Ct(u)?l=`<${+c+1}.0.0-0`:Ct(h)?l=`<${c}.${+u+1}.0-0`:d?l=`<=${c}.${u}.${h}-${d}`:t?l=`<${c}.${u}.${+h+1}-0`:l=`<=${l}`,`${n} ${l}`.trim()),Ek=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(Ce(t[r].semver),t[r].semver!==Oh.ANY&&t[r].semver.prerelease.length>0){let s=t[r].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var Yo=H((LF,OE)=>{S();var Qo=Symbol("SemVer ANY"),$h=class t{static get ANY(){return Qo}constructor(e,n){if(n=RE(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Bh("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===Qo?this.value="":this.value=this.operator+this.semver.version,Bh("comp",this)}parse(e){let n=this.options.loose?PE[kE.COMPARATORLOOSE]:PE[kE.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new ME(r[2],this.options.loose):this.semver=Qo}toString(){return this.value}test(e){if(Bh("Comparator.test",e,this.options.loose),this.semver===Qo||e===Qo)return!0;if(typeof e=="string")try{e=new ME(e,this.options)}catch{return!1}return Fh(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new LE(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new LE(this.value,n).test(e.semver):(n=RE(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Fh(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Fh(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};OE.exports=$h;var RE=Jl(),{safeRe:PE,t:kE}=$i(),Fh=_h(),Bh=jo(),ME=ut(),LE=sn()});var Jo=H((FF,FE)=>{S();var Sk=sn(),wk=(t,e,n)=>{try{e=new Sk(e,n)}catch{return!1}return e.test(t)};FE.exports=wk});var $E=H(($F,BE)=>{S();var xk=sn(),Tk=(t,e)=>new xk(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));BE.exports=Tk});var VE=H((VF,UE)=>{S();var Ik=ut(),Ck=sn(),Ak=(t,e,n)=>{let r=null,s=null,i=null;try{i=new Ck(e,n)}catch{return null}return t.forEach(o=>{i.test(o)&&(!r||s.compare(o)===-1)&&(r=o,s=new Ik(r,n))}),r};UE.exports=Ak});var GE=H((GF,qE)=>{S();var bk=ut(),Nk=sn(),Dk=(t,e,n)=>{let r=null,s=null,i=null;try{i=new Nk(e,n)}catch{return null}return t.forEach(o=>{i.test(o)&&(!r||s.compare(o)===1)&&(r=o,s=new bk(r,n))}),r};qE.exports=Dk});var jE=H((WF,WE)=>{S();var Uh=ut(),_k=sn(),HE=Ko(),Rk=(t,e)=>{t=new _k(t,e);let n=new Uh("0.0.0");if(t.test(n)||(n=new Uh("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){let s=t.set[r],i=null;s.forEach(o=>{let a=new Uh(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||HE(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!n||HE(n,i))&&(n=i)}return n&&t.test(n)?n:null};WE.exports=Rk});var zE=H((KF,KE)=>{S();var Pk=sn(),kk=(t,e)=>{try{return new Pk(t,e).range||"*"}catch{return null}};KE.exports=kk});var lc=H((XF,JE)=>{S();var Mk=ut(),QE=Yo(),{ANY:Lk}=QE,Ok=sn(),Fk=Jo(),XE=Ko(),YE=nc(),Bk=sc(),$k=rc(),Uk=(t,e,n,r)=>{t=new Mk(t,r),e=new Ok(e,r);let s,i,o,a,l;switch(n){case">":s=XE,i=Bk,o=YE,a=">",l=">=";break;case"<":s=YE,i=$k,o=XE,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Fk(t,e,r))return!1;for(let c=0;c<e.set.length;++c){let u=e.set[c],h=null,d=null;if(u.forEach(g=>{g.semver===Lk&&(g=new QE(">=0.0.0")),h=h||g,d=d||g,s(g.semver,h.semver,r)?h=g:o(g.semver,d.semver,r)&&(d=g)}),h.operator===a||h.operator===l||(!d.operator||d.operator===a)&&i(t,d.semver))return!1;if(d.operator===l&&o(t,d.semver))return!1}return!0};JE.exports=Uk});var eS=H((QF,ZE)=>{S();var Vk=lc(),qk=(t,e,n)=>Vk(t,e,">",n);ZE.exports=qk});var nS=H((ZF,tS)=>{S();var Gk=lc(),Hk=(t,e,n)=>Gk(t,e,"<",n);tS.exports=Hk});var iS=H((tB,sS)=>{S();var rS=sn(),Wk=(t,e,n)=>(t=new rS(t,n),e=new rS(e,n),t.intersects(e,n));sS.exports=Wk});var aS=H((rB,oS)=>{S();var jk=Jo(),Kk=rn();oS.exports=(t,e,n)=>{let r=[],s=null,i=null,o=t.sort((u,h)=>Kk(u,h,n));for(let u of o)jk(u,e,n)?(i=u,s||(s=u)):(i&&r.push([s,i]),i=null,s=null);s&&r.push([s,null]);let a=[];for(let[u,h]of r)u===h?a.push(u):!h&&u===o[0]?a.push("*"):h?u===o[0]?a.push(`<=${h}`):a.push(`${u} - ${h}`):a.push(`>=${u}`);let l=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e}});var fS=H((iB,hS)=>{S();var lS=sn(),qh=Yo(),{ANY:Vh}=qh,Zo=Jo(),Gh=rn(),zk=(t,e,n={})=>{if(t===e)return!0;t=new lS(t,n),e=new lS(e,n);let r=!1;e:for(let s of t.set){for(let i of e.set){let o=Yk(s,i,n);if(r=r||o!==null,o)continue e}if(r)return!1}return!0},Xk=[new qh(">=0.0.0-0")],cS=[new qh(">=0.0.0")],Yk=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Vh){if(e.length===1&&e[0].semver===Vh)return!0;n.includePrerelease?t=Xk:t=cS}if(e.length===1&&e[0].semver===Vh){if(n.includePrerelease)return!0;e=cS}let r=new Set,s,i;for(let g of t)g.operator===">"||g.operator===">="?s=uS(s,g,n):g.operator==="<"||g.operator==="<="?i=pS(i,g,n):r.add(g.semver);if(r.size>1)return null;let o;if(s&&i){if(o=Gh(s.semver,i.semver,n),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let g of r){if(s&&!Zo(g,String(s),n)||i&&!Zo(g,String(i),n))return null;for(let v of e)if(!Zo(g,String(v),n))return!1;return!0}let a,l,c,u,h=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1,d=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1;h&&h.prerelease.length===1&&i.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(let g of e){if(u=u||g.operator===">"||g.operator===">=",c=c||g.operator==="<"||g.operator==="<=",s){if(d&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===d.major&&g.semver.minor===d.minor&&g.semver.patch===d.patch&&(d=!1),g.operator===">"||g.operator===">="){if(a=uS(s,g,n),a===g&&a!==s)return!1}else if(s.operator===">="&&!Zo(s.semver,String(g),n))return!1}if(i){if(h&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===h.major&&g.semver.minor===h.minor&&g.semver.patch===h.patch&&(h=!1),g.operator==="<"||g.operator==="<="){if(l=pS(i,g,n),l===g&&l!==i)return!1}else if(i.operator==="<="&&!Zo(i.semver,String(g),n))return!1}if(!g.operator&&(i||s)&&o!==0)return!1}return!(s&&c&&!i&&o!==0||i&&u&&!s&&o!==0||d||h)},uS=(t,e,n)=>{if(!t)return e;let r=Gh(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},pS=(t,e,n)=>{if(!t)return e;let r=Gh(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};hS.exports=zk});var vS=H((aB,gS)=>{S();var Hh=$i(),dS=Wo(),Qk=ut(),mS=Ah(),Jk=Ds(),Zk=My(),eM=Oy(),tM=$y(),nM=qy(),rM=Hy(),sM=jy(),iM=zy(),oM=Yy(),aM=rn(),lM=eE(),cM=nE(),uM=tc(),pM=oE(),hM=lE(),fM=Ko(),dM=nc(),mM=Nh(),gM=Dh(),vM=rc(),yM=sc(),EM=_h(),SM=vE(),wM=Yo(),xM=sn(),TM=Jo(),IM=$E(),CM=VE(),AM=GE(),bM=jE(),NM=zE(),DM=lc(),_M=eS(),RM=nS(),PM=iS(),kM=aS(),MM=fS();gS.exports={parse:Jk,valid:Zk,clean:eM,inc:tM,diff:nM,major:rM,minor:sM,patch:iM,prerelease:oM,compare:aM,rcompare:lM,compareLoose:cM,compareBuild:uM,sort:pM,rsort:hM,gt:fM,lt:dM,eq:mM,neq:gM,gte:vM,lte:yM,cmp:EM,coerce:SM,Comparator:wM,Range:xM,satisfies:TM,toComparators:IM,maxSatisfying:CM,minSatisfying:AM,minVersion:bM,validRange:NM,outside:DM,gtr:_M,ltr:RM,intersects:PM,simplifyRange:kM,subset:MM,SemVer:Qk,re:Hh.re,src:Hh.src,tokens:Hh.t,SEMVER_SPEC_VERSION:dS.SEMVER_SPEC_VERSION,RELEASE_TYPES:dS.RELEASE_TYPES,compareIdentifiers:mS.compareIdentifiers,rcompareIdentifiers:mS.rcompareIdentifiers}});var DO={};JS(DO,{angularJitApplicationTransform:()=>Sh});module.exports=ZS(DO);S();S();var HS=require("module");S();var cy=require("module");S();var Zv=require("module");S();var $v=require("module");S();var hf=require("module");S();var uf=require("module"),Fs=(0,uf.createRequire)(k),pf=(t=>typeof Fs<"u"?Fs:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof Fs<"u"?Fs:e)[n]}):t)(function(t){if(typeof Fs<"u")return Fs.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var nw=A(require("typescript"),1),st=A(require("fs"),1),df=require("module"),At=A(require("path"),1),mf=require("url"),MO=(0,hf.createRequire)(k);var ew=class{exists(t){throw ve()}readFile(t){throw ve()}readFileBuffer(t){throw ve()}writeFile(t,e,n){throw ve()}removeFile(t){throw ve()}symlink(t,e){throw ve()}readdir(t){throw ve()}lstat(t){throw ve()}stat(t){throw ve()}pwd(){throw ve()}chdir(t){throw ve()}extname(t){throw ve()}copyFile(t,e){throw ve()}moveFile(t,e){throw ve()}ensureDir(t){throw ve()}removeDeep(t){throw ve()}isCaseSensitive(){throw ve()}resolve(...t){throw ve()}dirname(t){throw ve()}join(t,...e){throw ve()}isRoot(t){throw ve()}isRooted(t){throw ve()}relative(t,e){throw ve()}basename(t,e){throw ve()}realpath(t){throw ve()}getDefaultLibLocation(){throw ve()}normalize(t){throw ve()}};function ve(){return new Error("FileSystem has not been configured. Please call `setFileSystem()` before calling this method.")}var tw=new ew;function ff(t){tw=t}var OO=Symbol("AbsolutePath");var rw=class{pwd(){return this.normalize(process.cwd())}chdir(t){process.chdir(t)}resolve(...t){return this.normalize(At.resolve(...t))}dirname(t){return this.normalize(At.dirname(t))}join(t,...e){return this.normalize(At.join(t,...e))}isRoot(t){return this.dirname(t)===this.normalize(t)}isRooted(t){return At.isAbsolute(t)}relative(t,e){return this.normalize(At.relative(t,e))}basename(t,e){return At.basename(t,e)}extname(t){return At.extname(t)}normalize(t){return t.replace(/\\/g,"/")}},pc=typeof __filename<"u",gf=pc?null:k,sw=pc?__filename:(0,mf.fileURLToPath)(gf),iw=class extends rw{constructor(){super(...arguments),this._caseSensitive=void 0}isCaseSensitive(){return this._caseSensitive===void 0&&(this._caseSensitive=!st.default.existsSync(this.normalize(ow(sw)))),this._caseSensitive}exists(t){return st.default.existsSync(t)}readFile(t){return st.default.readFileSync(t,"utf8")}readFileBuffer(t){return st.default.readFileSync(t)}readdir(t){return st.default.readdirSync(t)}lstat(t){return st.default.lstatSync(t)}stat(t){return st.default.statSync(t)}realpath(t){return this.resolve(st.default.realpathSync(t))}getDefaultLibLocation(){let t=pc?pf:(0,df.createRequire)(gf);return this.resolve(t.resolve("typescript"),"..")}},vf=class extends iw{writeFile(t,e,n=!1){st.default.writeFileSync(t,e,n?{flag:"wx"}:void 0)}removeFile(t){st.default.unlinkSync(t)}symlink(t,e){st.default.symlinkSync(t,e)}copyFile(t,e){st.default.copyFileSync(t,e)}moveFile(t,e){st.default.renameSync(t,e)}ensureDir(t){st.default.mkdirSync(t,{recursive:!0})}removeDeep(t){st.default.rmdirSync(t,{recursive:!0})}};function ow(t){return t.replace(/\w/g,e=>e.toUpperCase()===e?e.toLowerCase():e.toUpperCase())}var Li=A(require("typescript"),1),O=A(require("typescript"),1),Ho=A(require("typescript"),1),Xe=A(require("typescript"),1),nh=A(require("typescript"),1),qv=A(require("typescript"),1);S();var yf=new RegExp(`(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=(["']?)([^\\]"']*)\\5)?\\])|(\\))|(\\s*,\\s*)`,"g"),mn=class t{constructor(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}static parse(e){let n=[],r=(l,c)=>{c.notSelectors.length>0&&!c.element&&c.classNames.length==0&&c.attrs.length==0&&(c.element="*"),l.push(c)},s=new t,i,o=s,a=!1;for(yf.lastIndex=0;i=yf.exec(e);){if(i[1]){if(a)throw new Error("Nesting :not in a selector is not allowed");a=!0,o=new t,s.notSelectors.push(o)}let l=i[2];if(l){let u=i[3];u==="#"?o.addAttribute("id",l.slice(1)):u==="."?o.addClassName(l.slice(1)):o.setElement(l)}let c=i[4];if(c&&o.addAttribute(o.unescapeAttribute(c),i[6]),i[7]&&(a=!1,o=s),i[8]){if(a)throw new Error("Multiple selectors in :not are not supported");r(n,s),s=o=new t}}return r(n,s),n}unescapeAttribute(e){let n="",r=!1;for(let s=0;s<e.length;s++){let i=e.charAt(s);if(i==="\\"){r=!0;continue}if(i==="$"&&!r)throw new Error(`Error in attribute selector "${e}". Unescaped "$" is not supported. Please escape with "\\$".`);r=!1,n+=i}return n}escapeAttribute(e){return e.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}isElementSelector(){return this.hasElementSelector()&&this.classNames.length==0&&this.attrs.length==0&&this.notSelectors.length===0}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getAttrs(){let e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,n=""){this.attrs.push(e,n&&n.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(n=>e+=`.${n}`),this.attrs)for(let n=0;n<this.attrs.length;n+=2){let r=this.escapeAttribute(this.attrs[n]),s=this.attrs[n+1];e+=`[${r}${s?"="+s:""}]`}return this.notSelectors.forEach(n=>e+=`:not(${n})`),e}},Nr=class t{constructor(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}static createNotMatcher(e){let n=new t;return n.addSelectables(e,null),n}addSelectables(e,n){let r=null;e.length>1&&(r=new Lc(e),this._listContexts.push(r));for(let s=0;s<e.length;s++)this._addSelectable(e[s],n,r)}_addSelectable(e,n,r){let s=this,i=e.element,o=e.classNames,a=e.attrs,l=new Oc(e,n,r);if(i&&(a.length===0&&o.length===0?this._addTerminal(s._elementMap,i,l):s=this._addPartial(s._elementPartialMap,i)),o)for(let c=0;c<o.length;c++){let u=a.length===0&&c===o.length-1,h=o[c];u?this._addTerminal(s._classMap,h,l):s=this._addPartial(s._classPartialMap,h)}if(a)for(let c=0;c<a.length;c+=2){let u=c===a.length-2,h=a[c],d=a[c+1];if(u){let g=s._attrValueMap,v=g.get(h);v||(v=new Map,g.set(h,v)),this._addTerminal(v,d,l)}else{let g=s._attrValuePartialMap,v=g.get(h);v||(v=new Map,g.set(h,v)),s=this._addPartial(v,d)}}}_addTerminal(e,n,r){let s=e.get(n);s||(s=[],e.set(n,s)),s.push(r)}_addPartial(e,n){let r=e.get(n);return r||(r=new t,e.set(n,r)),r}match(e,n){let r=!1,s=e.element,i=e.classNames,o=e.attrs;for(let a=0;a<this._listContexts.length;a++)this._listContexts[a].alreadyMatched=!1;if(r=this._matchTerminal(this._elementMap,s,e,n)||r,r=this._matchPartial(this._elementPartialMap,s,e,n)||r,i)for(let a=0;a<i.length;a++){let l=i[a];r=this._matchTerminal(this._classMap,l,e,n)||r,r=this._matchPartial(this._classPartialMap,l,e,n)||r}if(o)for(let a=0;a<o.length;a+=2){let l=o[a],c=o[a+1],u=this._attrValueMap.get(l);c&&(r=this._matchTerminal(u,"",e,n)||r),r=this._matchTerminal(u,c,e,n)||r;let h=this._attrValuePartialMap.get(l);c&&(r=this._matchPartial(h,"",e,n)||r),r=this._matchPartial(h,c,e,n)||r}return r}_matchTerminal(e,n,r,s){if(!e||typeof n!="string")return!1;let i=e.get(n)||[],o=e.get("*");if(o&&(i=i.concat(o)),i.length===0)return!1;let a,l=!1;for(let c=0;c<i.length;c++)a=i[c],l=a.finalize(r,s)||l;return l}_matchPartial(e,n,r,s){if(!e||typeof n!="string")return!1;let i=e.get(n);return i?i.match(r,s):!1}},Lc=class{constructor(e){this.selectors=e,this.alreadyMatched=!1}},Oc=class{constructor(e,n,r){this.selector=e,this.cbContext=n,this.listContext=r,this.notSelectors=e.notSelectors}finalize(e,n){let r=!0;return this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)&&(r=!Nr.createNotMatcher(this.notSelectors).match(e,null)),r&&n&&(!this.listContext||!this.listContext.alreadyMatched)&&(this.listContext&&(this.listContext.alreadyMatched=!0),n(this.selector,this.cbContext)),r}};var Pn;(function(t){t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom"})(Pn||(Pn={}));var Aa;(function(t){t[t.OnPush=0]="OnPush",t[t.Default=1]="Default"})(Aa||(Aa={}));var Zr;(function(t){t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform"})(Zr||(Zr={}));var Fc={name:"custom-elements"},Bc={name:"no-errors-schema"};var ne;(function(t){t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL"})(ne||(ne={}));var Ef;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Ignore=2]="Ignore"})(Ef||(Ef={}));function aw(t){let e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return[t.element&&t.element!=="*"?t.element:"",...t.attrs,...e]}function lw(t){let e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return t.element?[5,t.element,...t.attrs,...e]:t.attrs.length?[3,...t.attrs,...e]:t.classNames&&t.classNames.length?[9,...t.classNames]:[]}function cw(t){let e=aw(t),n=t.notSelectors&&t.notSelectors.length?t.notSelectors.map(r=>lw(r)):[];return e.concat(...n)}function Fo(t){return t?mn.parse(t).map(cw):[]}var ba;function uw(t){return dw(fw(t.nodes).join("")+`[${t.meaning}]`)}function pw(t){return t.id||xm(t)}function xm(t){let e=new $c,n=t.nodes.map(r=>r.visit(e,null));return Tm(n.join(""),t.meaning)}var Na=class{visitText(e,n){return e.value}visitContainer(e,n){return`[${e.children.map(r=>r.visit(this)).join(", ")}]`}visitIcu(e,n){let r=Object.keys(e.cases).map(s=>`${s} {${e.cases[s].visit(this)}}`);return`{${e.expression}, ${e.type}, ${r.join(", ")}}`}visitTagPlaceholder(e,n){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(r=>r.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,n){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,n){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}visitBlockPlaceholder(e,n){return`<ph block name="${e.startName}">${e.children.map(r=>r.visit(this)).join(", ")}</ph name="${e.closeName}">`}},hw=new Na;function fw(t){return t.map(e=>e.visit(hw,null))}var $c=class extends Na{visitIcu(e,n){let r=Object.keys(e.cases).map(s=>`${s} {${e.cases[s].visit(this)}}`);return`{${e.type}, ${r.join(", ")}}`}};function dw(t){ba??=new TextEncoder;let e=[...ba.encode(t)],n=vw(e,Da.Big),r=e.length*8,s=new Uint32Array(80),i=1732584193,o=4023233417,a=2562383102,l=271733878,c=3285377520;n[r>>5]|=128<<24-r%32,n[(r+64>>9<<4)+15]=r;for(let u=0;u<n.length;u+=16){let h=i,d=o,g=a,v=l,I=c;for(let x=0;x<80;x++){x<16?s[x]=n[u+x]:s[x]=hc(s[x-3]^s[x-8]^s[x-14]^s[x-16],1);let N=mw(x,o,a,l),B=N[0],j=N[1],ae=[hc(i,5),B,c,j,s[x]].reduce(Bs);c=l,l=a,a=hc(o,30),o=i,i=ae}i=Bs(i,h),o=Bs(o,d),a=Bs(a,g),l=Bs(l,v),c=Bs(c,I)}return Wi(i)+Wi(o)+Wi(a)+Wi(l)+Wi(c)}function Wi(t){return(t>>>0).toString(16).padStart(8,"0")}function mw(t,e,n,r){return t<20?[e&n|~e&r,1518500249]:t<40?[e^n^r,1859775393]:t<60?[e&n|e&r|n&r,2400959708]:[e^n^r,3395469782]}function Sf(t){ba??=new TextEncoder;let e=ba.encode(t),n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=wf(n,e.length,0),s=wf(n,e.length,102072);return r==0&&(s==0||s==1)&&(r=r^319790063,s=s^-1801410264),BigInt.asUintN(32,BigInt(r))<<BigInt(32)|BigInt.asUintN(32,BigInt(s))}function Tm(t,e=""){let n=Sf(t);return e&&(n=BigInt.asUintN(64,n<<BigInt(1))|n>>BigInt(63)&BigInt(1),n+=Sf(e)),BigInt.asUintN(63,n).toString()}function wf(t,e,n){let r=2654435769,s=2654435769,i=0,o=e-12;for(;i<=o;i+=12){r+=t.getUint32(i,!0),s+=t.getUint32(i+4,!0),n+=t.getUint32(i+8,!0);let l=xf(r,s,n);r=l[0],s=l[1],n=l[2]}let a=e-i;return n+=e,a>=4?(r+=t.getUint32(i,!0),i+=4,a>=8?(s+=t.getUint32(i,!0),i+=4,a>=9&&(n+=t.getUint8(i++)<<8),a>=10&&(n+=t.getUint8(i++)<<16),a===11&&(n+=t.getUint8(i++)<<24)):(a>=5&&(s+=t.getUint8(i++)),a>=6&&(s+=t.getUint8(i++)<<8),a===7&&(s+=t.getUint8(i++)<<16))):(a>=1&&(r+=t.getUint8(i++)),a>=2&&(r+=t.getUint8(i++)<<8),a===3&&(r+=t.getUint8(i++)<<16)),xf(r,s,n)[2]}function xf(t,e,n){return t-=e,t-=n,t^=n>>>13,e-=n,e-=t,e^=t<<8,n-=t,n-=e,n^=e>>>13,t-=e,t-=n,t^=n>>>12,e-=n,e-=t,e^=t<<16,n-=t,n-=e,n^=e>>>5,t-=e,t-=n,t^=n>>>3,e-=n,e-=t,e^=t<<10,n-=t,n-=e,n^=e>>>15,[t,e,n]}var Da;(function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"})(Da||(Da={}));function Bs(t,e){return gw(t,e)[1]}function gw(t,e){let n=(t&65535)+(e&65535),r=(t>>>16)+(e>>>16)+(n>>>16);return[r>>>16,r<<16|n&65535]}function hc(t,e){return t<<e|t>>>32-e}function vw(t,e){let n=t.length+3>>>2,r=[];for(let s=0;s<n;s++)r[s]=yw(t,s*4,e);return r}function Tf(t,e){return e>=t.length?0:t[e]}function yw(t,e,n){let r=0;if(n===Da.Big)for(let s=0;s<4;s++)r+=Tf(t,e+s)<<24-8*s;else for(let s=0;s<4;s++)r+=Tf(t,e+s)<<8*s;return r}var ro;(function(t){t[t.None=0]="None",t[t.Const=1]="Const"})(ro||(ro={}));var Dr=class{constructor(e=ro.None){this.modifiers=e}hasModifier(e){return(this.modifiers&e)!==0}},Xt;(function(t){t[t.Dynamic=0]="Dynamic",t[t.Bool=1]="Bool",t[t.String=2]="String",t[t.Int=3]="Int",t[t.Number=4]="Number",t[t.Function=5]="Function",t[t.Inferred=6]="Inferred",t[t.None=7]="None"})(Xt||(Xt={}));var gn=class extends Dr{constructor(e,n){super(n),this.name=e}visitType(e,n){return e.visitBuiltinType(this,n)}},yt=class extends Dr{constructor(e,n,r=null){super(n),this.value=e,this.typeParams=r}visitType(e,n){return e.visitExpressionType(this,n)}},Uc=class extends Dr{constructor(e,n){super(n),this.of=e}visitType(e,n){return e.visitArrayType(this,n)}},Vc=class extends Dr{constructor(e,n){super(n),this.valueType=e||null}visitType(e,n){return e.visitMapType(this,n)}},ri=class extends Dr{constructor(e,n){super(n),this.type=e}visitType(e,n){return e.visitTransplantedType(this,n)}},en=new gn(Xt.Dynamic),lt=new gn(Xt.Inferred),Im=new gn(Xt.Bool),Ew=new gn(Xt.Int),Di=new gn(Xt.Number),Il=new gn(Xt.String),Sw=new gn(Xt.Function),vn=new gn(Xt.None),Yt;(function(t){t[t.Minus=0]="Minus",t[t.Plus=1]="Plus"})(Yt||(Yt={}));var T;(function(t){t[t.Equals=0]="Equals",t[t.NotEquals=1]="NotEquals",t[t.Identical=2]="Identical",t[t.NotIdentical=3]="NotIdentical",t[t.Minus=4]="Minus",t[t.Plus=5]="Plus",t[t.Divide=6]="Divide",t[t.Multiply=7]="Multiply",t[t.Modulo=8]="Modulo",t[t.And=9]="And",t[t.Or=10]="Or",t[t.BitwiseOr=11]="BitwiseOr",t[t.BitwiseAnd=12]="BitwiseAnd",t[t.Lower=13]="Lower",t[t.LowerEquals=14]="LowerEquals",t[t.Bigger=15]="Bigger",t[t.BiggerEquals=16]="BiggerEquals",t[t.NullishCoalesce=17]="NullishCoalesce"})(T||(T={}));function Cm(t,e){return t==null||e==null?t==e:t.isEquivalent(e)}function Am(t,e,n){let r=t.length;if(r!==e.length)return!1;for(let s=0;s<r;s++)if(!n(t[s],e[s]))return!1;return!0}function St(t,e){return Am(t,e,(n,r)=>n.isEquivalent(r))}var ie=class{constructor(e,n){this.type=e||null,this.sourceSpan=n||null}prop(e,n){return new tt(this,e,null,n)}key(e,n,r){return new yn(this,e,n,r)}callFn(e,n,r){return new et(this,e,null,n,r)}instantiate(e,n,r){return new ii(this,e,n,r)}conditional(e,n=null,r){return new wt(this,e,n,null,r)}equals(e,n){return new ee(T.Equals,this,e,null,n)}notEquals(e,n){return new ee(T.NotEquals,this,e,null,n)}identical(e,n){return new ee(T.Identical,this,e,null,n)}notIdentical(e,n){return new ee(T.NotIdentical,this,e,null,n)}minus(e,n){return new ee(T.Minus,this,e,null,n)}plus(e,n){return new ee(T.Plus,this,e,null,n)}divide(e,n){return new ee(T.Divide,this,e,null,n)}multiply(e,n){return new ee(T.Multiply,this,e,null,n)}modulo(e,n){return new ee(T.Modulo,this,e,null,n)}and(e,n){return new ee(T.And,this,e,null,n)}bitwiseOr(e,n,r=!0){return new ee(T.BitwiseOr,this,e,null,n,r)}bitwiseAnd(e,n,r=!0){return new ee(T.BitwiseAnd,this,e,null,n,r)}or(e,n){return new ee(T.Or,this,e,null,n)}lower(e,n){return new ee(T.Lower,this,e,null,n)}lowerEquals(e,n){return new ee(T.LowerEquals,this,e,null,n)}bigger(e,n){return new ee(T.Bigger,this,e,null,n)}biggerEquals(e,n){return new ee(T.BiggerEquals,this,e,null,n)}isBlank(e){return this.equals(Wn,e)}nullishCoalesce(e,n){return new ee(T.NullishCoalesce,this,e,null,n)}toStmt(){return new je(this,null)}},Pt=class t extends ie{constructor(e,n,r){super(n,r),this.name=e}isEquivalent(e){return e instanceof t&&this.name===e.name}isConstant(){return!1}visitExpression(e,n){return e.visitReadVarExpr(this,n)}clone(){return new t(this.name,this.type,this.sourceSpan)}set(e){return new so(this.name,e,null,this.sourceSpan)}},os=class t extends ie{constructor(e,n,r){super(n,r),this.expr=e}visitExpression(e,n){return e.visitTypeofExpr(this,n)}isEquivalent(e){return e instanceof t&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr.clone())}},V=class t extends ie{constructor(e,n,r){super(n,r),this.node=e}isEquivalent(e){return e instanceof t&&this.node===e.node}isConstant(){return!1}visitExpression(e,n){return e.visitWrappedNodeExpr(this,n)}clone(){return new t(this.node,this.type,this.sourceSpan)}},so=class t extends ie{constructor(e,n,r,s){super(r||n.type,s),this.name=e,this.value=n}isEquivalent(e){return e instanceof t&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,n){return e.visitWriteVarExpr(this,n)}clone(){return new t(this.name,this.value.clone(),this.type,this.sourceSpan)}toDeclStmt(e,n){return new nt(this.name,this.value,e,n,this.sourceSpan)}toConstDecl(){return this.toDeclStmt(lt,Le.Final)}},si=class t extends ie{constructor(e,n,r,s,i){super(s||r.type,i),this.receiver=e,this.index=n,this.value=r}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,n){return e.visitWriteKeyExpr(this,n)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.value.clone(),this.type,this.sourceSpan)}},as=class t extends ie{constructor(e,n,r,s,i){super(s||r.type,i),this.receiver=e,this.name=n,this.value=r}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,n){return e.visitWritePropExpr(this,n)}clone(){return new t(this.receiver.clone(),this.name,this.value.clone(),this.type,this.sourceSpan)}},et=class t extends ie{constructor(e,n,r,s,i=!1){super(r,s),this.fn=e,this.args=n,this.pure=i}get receiver(){return this.fn}isEquivalent(e){return e instanceof t&&this.fn.isEquivalent(e.fn)&&St(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(e,n){return e.visitInvokeFunctionExpr(this,n)}clone(){return new t(this.fn.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan,this.pure)}},io=class t extends ie{constructor(e,n,r,s){super(r,s),this.tag=e,this.template=n}isEquivalent(e){return e instanceof t&&this.tag.isEquivalent(e.tag)&&Am(this.template.elements,e.template.elements,(n,r)=>n.text===r.text)&&St(this.template.expressions,e.template.expressions)}isConstant(){return!1}visitExpression(e,n){return e.visitTaggedTemplateExpr(this,n)}clone(){return new t(this.tag.clone(),this.template.clone(),this.type,this.sourceSpan)}},ii=class t extends ie{constructor(e,n,r,s){super(r,s),this.classExpr=e,this.args=n}isEquivalent(e){return e instanceof t&&this.classExpr.isEquivalent(e.classExpr)&&St(this.args,e.args)}isConstant(){return!1}visitExpression(e,n){return e.visitInstantiateExpr(this,n)}clone(){return new t(this.classExpr.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan)}},Re=class t extends ie{constructor(e,n,r){super(n,r),this.value=e}isEquivalent(e){return e instanceof t&&this.value===e.value}isConstant(){return!0}visitExpression(e,n){return e.visitLiteralExpr(this,n)}clone(){return new t(this.value,this.type,this.sourceSpan)}},oi=class t{constructor(e,n){this.elements=e,this.expressions=n}clone(){return new t(this.elements.map(e=>e.clone()),this.expressions.map(e=>e.clone()))}},ai=class t{constructor(e,n,r){this.text=e,this.sourceSpan=n,this.rawText=r??n?.toString()??qc(xa(e))}clone(){return new t(this.text,this.sourceSpan,this.rawText)}},Ar=class{constructor(e,n){this.text=e,this.sourceSpan=n}},ns=class{constructor(e,n,r){this.text=e,this.sourceSpan=n,this.associatedMessage=r}},ww="|",If="@@",xw="\u241F",oo=class t extends ie{constructor(e,n,r,s,i){super(Il,i),this.metaBlock=e,this.messageParts=n,this.placeHolderNames=r,this.expressions=s}isEquivalent(e){return!1}isConstant(){return!1}visitExpression(e,n){return e.visitLocalizedString(this,n)}clone(){return new t(this.metaBlock,this.messageParts,this.placeHolderNames,this.expressions.map(e=>e.clone()),this.sourceSpan)}serializeI18nHead(){let e=this.metaBlock.description||"";return this.metaBlock.meaning&&(e=`${this.metaBlock.meaning}${ww}${e}`),this.metaBlock.customId&&(e=`${e}${If}${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(n=>{e=`${e}${xw}${n}`}),Cf(e,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}getMessagePartSourceSpan(e){return this.messageParts[e]?.sourceSpan??this.sourceSpan}getPlaceholderSourceSpan(e){return this.placeHolderNames[e]?.sourceSpan??this.expressions[e]?.sourceSpan??this.sourceSpan}serializeI18nTemplatePart(e){let n=this.placeHolderNames[e-1],r=this.messageParts[e],s=n.text;return n.associatedMessage?.legacyIds.length===0&&(s+=`${If}${Tm(n.associatedMessage.messageString,n.associatedMessage.meaning)}`),Cf(s,r.text,this.getMessagePartSourceSpan(e))}},xa=t=>t.replace(/\\/g,"\\\\"),Tw=t=>t.replace(/^:/,"\\:"),Iw=t=>t.replace(/:/g,"\\:"),qc=t=>t.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function Cf(t,e,n){return t===""?{cooked:e,raw:qc(Tw(xa(e))),range:n}:{cooked:`:${t}:${e}`,raw:qc(`:${Iw(xa(t))}:${xa(e)}`),range:n}}var Oe=class t extends ie{constructor(e,n,r=null,s){super(n,s),this.value=e,this.typeParams=r}isEquivalent(e){return e instanceof t&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName&&this.value.runtime===e.value.runtime}isConstant(){return!1}visitExpression(e,n){return e.visitExternalExpr(this,n)}clone(){return new t(this.value,this.type,this.typeParams,this.sourceSpan)}},_a=class{constructor(e,n,r){this.moduleName=e,this.name=n,this.runtime=r}},wt=class t extends ie{constructor(e,n,r=null,s,i){super(s||n.type,i),this.condition=e,this.falseCase=r,this.trueCase=n}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&Cm(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(e,n){return e.visitConditionalExpr(this,n)}clone(){return new t(this.condition.clone(),this.trueCase.clone(),this.falseCase?.clone(),this.type,this.sourceSpan)}},li=class t extends ie{constructor(e,n){super(null,n),this.url=e}isEquivalent(e){return e instanceof t&&this.url===e.url}isConstant(){return!1}visitExpression(e,n){return e.visitDynamicImportExpr(this,n)}clone(){return new t(this.url,this.sourceSpan)}},Fn=class t extends ie{constructor(e,n){super(Im,n),this.condition=e}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,n){return e.visitNotExpr(this,n)}clone(){return new t(this.condition.clone(),this.sourceSpan)}},me=class t{constructor(e,n=null){this.name=e,this.type=n}isEquivalent(e){return this.name===e.name}clone(){return new t(this.name,this.type)}},er=class t extends ie{constructor(e,n,r,s,i){super(r,s),this.params=e,this.statements=n,this.name=i}isEquivalent(e){return(e instanceof t||e instanceof ci)&&St(this.params,e.params)&&St(this.statements,e.statements)}isConstant(){return!1}visitExpression(e,n){return e.visitFunctionExpr(this,n)}toDeclStmt(e,n){return new ci(e,this.params,this.statements,this.type,n,this.sourceSpan)}clone(){return new t(this.params.map(e=>e.clone()),this.statements,this.type,this.sourceSpan,this.name)}},tr=class t extends ie{constructor(e,n,r,s){super(r,s),this.params=e,this.body=n}isEquivalent(e){return!(e instanceof t)||!St(this.params,e.params)?!1:this.body instanceof ie&&e.body instanceof ie?this.body.isEquivalent(e.body):Array.isArray(this.body)&&Array.isArray(e.body)?St(this.body,e.body):!1}isConstant(){return!1}visitExpression(e,n){return e.visitArrowFunctionExpr(this,n)}clone(){return new t(this.params.map(e=>e.clone()),Array.isArray(this.body)?this.body:this.body.clone(),this.type,this.sourceSpan)}toDeclStmt(e,n){return new nt(e,this,lt,n,this.sourceSpan)}},nr=class t extends ie{constructor(e,n,r,s,i=!0){super(r||Di,s),this.operator=e,this.expr=n,this.parens=i}isEquivalent(e){return e instanceof t&&this.operator===e.operator&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}visitExpression(e,n){return e.visitUnaryOperatorExpr(this,n)}clone(){return new t(this.operator,this.expr.clone(),this.type,this.sourceSpan,this.parens)}},ee=class t extends ie{constructor(e,n,r,s,i,o=!0){super(s||n.type,i),this.operator=e,this.rhs=r,this.parens=o,this.lhs=n}isEquivalent(e){return e instanceof t&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(e,n){return e.visitBinaryOperatorExpr(this,n)}clone(){return new t(this.operator,this.lhs.clone(),this.rhs.clone(),this.type,this.sourceSpan,this.parens)}},tt=class t extends ie{constructor(e,n,r,s){super(r,s),this.receiver=e,this.name=n}get index(){return this.name}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(e,n){return e.visitReadPropExpr(this,n)}set(e){return new as(this.receiver,this.name,e,null,this.sourceSpan)}clone(){return new t(this.receiver.clone(),this.name,this.type,this.sourceSpan)}},yn=class t extends ie{constructor(e,n,r,s){super(r,s),this.receiver=e,this.index=n}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(e,n){return e.visitReadKeyExpr(this,n)}set(e){return new si(this.receiver,this.index,e,null,this.sourceSpan)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.type,this.sourceSpan)}},xt=class t extends ie{constructor(e,n,r){super(n,r),this.entries=e}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof t&&St(this.entries,e.entries)}visitExpression(e,n){return e.visitLiteralArrayExpr(this,n)}clone(){return new t(this.entries.map(e=>e.clone()),this.type,this.sourceSpan)}},ls=class t{constructor(e,n,r){this.key=e,this.value=n,this.quoted=r}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}clone(){return new t(this.key,this.value.clone(),this.quoted)}},Qt=class t extends ie{constructor(e,n,r){super(n,r),this.entries=e,this.valueType=null,n&&(this.valueType=n.valueType)}isEquivalent(e){return e instanceof t&&St(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.value.isConstant())}visitExpression(e,n){return e.visitLiteralMapExpr(this,n)}clone(){let e=this.entries.map(n=>n.clone());return new t(e,this.type,this.sourceSpan)}},Gc=class t extends ie{constructor(e,n){super(e[e.length-1].type,n),this.parts=e}isEquivalent(e){return e instanceof t&&St(this.parts,e.parts)}isConstant(){return!1}visitExpression(e,n){return e.visitCommaExpr(this,n)}clone(){return new t(this.parts.map(e=>e.clone()))}},_r=new Re(null,null,null),Wn=new Re(null,lt,null),Le;(function(t){t[t.None=0]="None",t[t.Final=1]="Final",t[t.Private=2]="Private",t[t.Exported=4]="Exported",t[t.Static=8]="Static"})(Le||(Le={}));var ao=class{constructor(e,n,r){this.text=e,this.multiline=n,this.trailingNewline=r}toString(){return this.multiline?` ${this.text} `:this.text}},lo=class extends ao{constructor(e){super("",!0,!0),this.tags=e}toString(){return Dw(this.tags)}},Rr=class{constructor(e=Le.None,n=null,r){this.modifiers=e,this.sourceSpan=n,this.leadingComments=r}hasModifier(e){return(this.modifiers&e)!==0}addLeadingComment(e){this.leadingComments=this.leadingComments??[],this.leadingComments.push(e)}},nt=class t extends Rr{constructor(e,n,r,s,i,o){super(s,i,o),this.name=e,this.value=n,this.type=r||n&&n.type||null}isEquivalent(e){return e instanceof t&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}visitStatement(e,n){return e.visitDeclareVarStmt(this,n)}},ci=class t extends Rr{constructor(e,n,r,s,i,o,a){super(i,o,a),this.name=e,this.params=n,this.statements=r,this.type=s||null}isEquivalent(e){return e instanceof t&&St(this.params,e.params)&&St(this.statements,e.statements)}visitStatement(e,n){return e.visitDeclareFunctionStmt(this,n)}},je=class t extends Rr{constructor(e,n,r){super(Le.None,n,r),this.expr=e}isEquivalent(e){return e instanceof t&&this.expr.isEquivalent(e.expr)}visitStatement(e,n){return e.visitExpressionStmt(this,n)}},_e=class t extends Rr{constructor(e,n=null,r){super(Le.None,n,r),this.value=e}isEquivalent(e){return e instanceof t&&this.value.isEquivalent(e.value)}visitStatement(e,n){return e.visitReturnStmt(this,n)}},co=class t extends Rr{constructor(e,n,r=[],s,i){super(Le.None,s,i),this.condition=e,this.trueCase=n,this.falseCase=r}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)&&St(this.trueCase,e.trueCase)&&St(this.falseCase,e.falseCase)}visitStatement(e,n){return e.visitIfStmt(this,n)}},Hc=class{visitType(e,n){return e}visitExpression(e,n){return e.type&&e.type.visitType(this,n),e}visitBuiltinType(e,n){return this.visitType(e,n)}visitExpressionType(e,n){return e.value.visitExpression(this,n),e.typeParams!==null&&e.typeParams.forEach(r=>this.visitType(r,n)),this.visitType(e,n)}visitArrayType(e,n){return this.visitType(e,n)}visitMapType(e,n){return this.visitType(e,n)}visitTransplantedType(e,n){return e}visitWrappedNodeExpr(e,n){return e}visitTypeofExpr(e,n){return this.visitExpression(e,n)}visitReadVarExpr(e,n){return this.visitExpression(e,n)}visitWriteVarExpr(e,n){return e.value.visitExpression(this,n),this.visitExpression(e,n)}visitWriteKeyExpr(e,n){return e.receiver.visitExpression(this,n),e.index.visitExpression(this,n),e.value.visitExpression(this,n),this.visitExpression(e,n)}visitWritePropExpr(e,n){return e.receiver.visitExpression(this,n),e.value.visitExpression(this,n),this.visitExpression(e,n)}visitDynamicImportExpr(e,n){return this.visitExpression(e,n)}visitInvokeFunctionExpr(e,n){return e.fn.visitExpression(this,n),this.visitAllExpressions(e.args,n),this.visitExpression(e,n)}visitTaggedTemplateExpr(e,n){return e.tag.visitExpression(this,n),this.visitAllExpressions(e.template.expressions,n),this.visitExpression(e,n)}visitInstantiateExpr(e,n){return e.classExpr.visitExpression(this,n),this.visitAllExpressions(e.args,n),this.visitExpression(e,n)}visitLiteralExpr(e,n){return this.visitExpression(e,n)}visitLocalizedString(e,n){return this.visitExpression(e,n)}visitExternalExpr(e,n){return e.typeParams&&e.typeParams.forEach(r=>r.visitType(this,n)),this.visitExpression(e,n)}visitConditionalExpr(e,n){return e.condition.visitExpression(this,n),e.trueCase.visitExpression(this,n),e.falseCase.visitExpression(this,n),this.visitExpression(e,n)}visitNotExpr(e,n){return e.condition.visitExpression(this,n),this.visitExpression(e,n)}visitFunctionExpr(e,n){return this.visitAllStatements(e.statements,n),this.visitExpression(e,n)}visitArrowFunctionExpr(e,n){return Array.isArray(e.body)?this.visitAllStatements(e.body,n):this.visitExpression(e.body,n),this.visitExpression(e,n)}visitUnaryOperatorExpr(e,n){return e.expr.visitExpression(this,n),this.visitExpression(e,n)}visitBinaryOperatorExpr(e,n){return e.lhs.visitExpression(this,n),e.rhs.visitExpression(this,n),this.visitExpression(e,n)}visitReadPropExpr(e,n){return e.receiver.visitExpression(this,n),this.visitExpression(e,n)}visitReadKeyExpr(e,n){return e.receiver.visitExpression(this,n),e.index.visitExpression(this,n),this.visitExpression(e,n)}visitLiteralArrayExpr(e,n){return this.visitAllExpressions(e.entries,n),this.visitExpression(e,n)}visitLiteralMapExpr(e,n){return e.entries.forEach(r=>r.value.visitExpression(this,n)),this.visitExpression(e,n)}visitCommaExpr(e,n){return this.visitAllExpressions(e.parts,n),this.visitExpression(e,n)}visitAllExpressions(e,n){e.forEach(r=>r.visitExpression(this,n))}visitDeclareVarStmt(e,n){return e.value&&e.value.visitExpression(this,n),e.type&&e.type.visitType(this,n),e}visitDeclareFunctionStmt(e,n){return this.visitAllStatements(e.statements,n),e.type&&e.type.visitType(this,n),e}visitExpressionStmt(e,n){return e.expr.visitExpression(this,n),e}visitReturnStmt(e,n){return e.value.visitExpression(this,n),e}visitIfStmt(e,n){return e.condition.visitExpression(this,n),this.visitAllStatements(e.trueCase,n),this.visitAllStatements(e.falseCase,n),e}visitAllStatements(e,n){e.forEach(r=>r.visitStatement(this,n))}};function Cw(t,e=!1,n=!0){return new ao(t,e,n)}function bm(t=[]){return new lo(t)}function P(t,e,n){return new Pt(t,e,n)}function b(t,e=null,n){return new Oe(t,null,e,n)}function Aw(t,e,n){return t!=null?He(b(t,e,null),n):null}function He(t,e,n){return new yt(t,e,n)}function bw(t,e){return new ri(t,e)}function _i(t){return new os(t)}function W(t,e,n){return new xt(t,e,n)}function Fe(t,e=null){return new Qt(t.map(n=>new ls(n.key,n.value,n.quoted)),e,null)}function Nw(t,e,n,r){return new nr(t,e,n,r)}function Ap(t,e){return new Fn(t,e)}function En(t,e,n,r,s){return new er(t,e,n,r,s)}function We(t,e,n,r){return new tr(t,e,n,r)}function Ri(t,e,n,r,s){return new co(t,e,n,r,s)}function Ra(t,e,n,r){return new io(t,e,n,r)}function m(t,e,n){return new Re(t,e,n)}function Nm(t,e,n,r,s){return new oo(t,e,n,r,s)}function bp(t){return t instanceof Re&&t.value===null}function Af(t){let e="";if(t.tagName&&(e+=` @${t.tagName}`),t.text){if(t.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');e+=" "+t.text.replace(/@/g,"\\@")}return e}function Dw(t){if(t.length===0)return"";if(t.length===1&&t[0].tagName&&!t[0].text)return`*${Af(t[0])} `;let e=`*
`;for(let n of t)e+=" *",e+=Af(n).replace(/\n/g,`
 * `),e+=`
`;return e+=" ",e}var Cl=Object.freeze({__proto__:null,get TypeModifier(){return ro},Type:Dr,get BuiltinTypeName(){return Xt},BuiltinType:gn,ExpressionType:yt,ArrayType:Uc,MapType:Vc,TransplantedType:ri,DYNAMIC_TYPE:en,INFERRED_TYPE:lt,BOOL_TYPE:Im,INT_TYPE:Ew,NUMBER_TYPE:Di,STRING_TYPE:Il,FUNCTION_TYPE:Sw,NONE_TYPE:vn,get UnaryOperator(){return Yt},get BinaryOperator(){return T},nullSafeIsEquivalent:Cm,areAllEquivalent:St,Expression:ie,ReadVarExpr:Pt,TypeofExpr:os,WrappedNodeExpr:V,WriteVarExpr:so,WriteKeyExpr:si,WritePropExpr:as,InvokeFunctionExpr:et,TaggedTemplateExpr:io,InstantiateExpr:ii,LiteralExpr:Re,TemplateLiteral:oi,TemplateLiteralElement:ai,LiteralPiece:Ar,PlaceholderPiece:ns,LocalizedString:oo,ExternalExpr:Oe,ExternalReference:_a,ConditionalExpr:wt,DynamicImportExpr:li,NotExpr:Fn,FnParam:me,FunctionExpr:er,ArrowFunctionExpr:tr,UnaryOperatorExpr:nr,BinaryOperatorExpr:ee,ReadPropExpr:tt,ReadKeyExpr:yn,LiteralArrayExpr:xt,LiteralMapEntry:ls,LiteralMapExpr:Qt,CommaExpr:Gc,NULL_EXPR:_r,TYPED_NULL_EXPR:Wn,get StmtModifier(){return Le},LeadingComment:ao,JSDocComment:lo,Statement:Rr,DeclareVarStmt:nt,DeclareFunctionStmt:ci,ExpressionStatement:je,ReturnStatement:_e,IfStmt:co,RecursiveAstVisitor:Hc,leadingComment:Cw,jsDocComment:bm,variable:P,importExpr:b,importType:Aw,expressionType:He,transplantedType:bw,typeofExpr:_i,literalArr:W,literalMap:Fe,unary:Nw,not:Ap,fn:En,arrowFn:We,ifStmt:Ri,taggedTemplate:Ra,literal:m,localizedString:Nm,isNull:bp}),_w="_c",bf=P("<unknown>"),Rw={},Pw=50,Pa=class t extends ie{constructor(e){super(e.type),this.resolved=e,this.shared=!1,this.original=e}visitExpression(e,n){return n===Rw?this.original.visitExpression(e,n):this.resolved.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}clone(){throw new Error("Not supported.")}fixup(e){this.resolved=e,this.shared=!0}},uo=class{constructor(e=!1){this.isClosureCompilerEnabled=e,this.statements=[],this.literals=new Map,this.literalFactories=new Map,this.sharedConstants=new Map,this._claimedNames=new Map,this.nextNameIndex=0}getConstLiteral(e,n){if(e instanceof Re&&!Nf(e)||e instanceof Pa)return e;let r=ti.INSTANCE.keyOf(e),s=this.literals.get(r),i=!1;if(s||(s=new Pa(e),this.literals.set(r,s),i=!0),!i&&!s.shared||i&&n){let o=this.freshName(),a,l;this.isClosureCompilerEnabled&&Nf(e)?(a=P(o).set(new er([],[new _e(e)])),l=P(o).callFn([])):(a=P(o).set(e),l=P(o)),this.statements.push(a.toDeclStmt(lt,Le.Final)),s.fixup(l)}return s}getSharedConstant(e,n){let r=e.keyOf(n);if(!this.sharedConstants.has(r)){let s=this.freshName();this.sharedConstants.set(r,P(s)),this.statements.push(e.toSharedConstantDeclaration(s,n))}return this.sharedConstants.get(r)}getLiteralFactory(e){if(e instanceof xt){let n=e.entries.map(s=>s.isConstant()?s:bf),r=ti.INSTANCE.keyOf(W(n));return this._getLiteralFactory(r,e.entries,s=>W(s))}else{let n=Fe(e.entries.map(s=>({key:s.key,value:s.value.isConstant()?s.value:bf,quoted:s.quoted}))),r=ti.INSTANCE.keyOf(n);return this._getLiteralFactory(r,e.entries.map(s=>s.value),s=>Fe(s.map((i,o)=>({key:e.entries[o].key,value:i,quoted:e.entries[o].quoted}))))}}getSharedFunctionReference(e,n,r=!0){let s=e instanceof tr;for(let o of this.statements)if(s&&o instanceof nt&&o.value?.isEquivalent(e)||!s&&o instanceof ci&&e.isEquivalent(o))return P(o.name);let i=r?this.uniqueName(n):n;return this.statements.push(e.toDeclStmt(i,Le.Final)),P(i)}_getLiteralFactory(e,n,r){let s=this.literalFactories.get(e),i=n.filter(o=>!o.isConstant());if(!s){let o=n.map((u,h)=>u.isConstant()?this.getConstLiteral(u,!0):P(`a${h}`)),a=o.filter(kw).map(u=>new me(u.name,en)),l=We(a,r(o),lt),c=this.freshName();this.statements.push(P(c).set(l).toDeclStmt(lt,Le.Final)),s=P(c),this.literalFactories.set(e,s)}return{literalFactory:s,literalFactoryArguments:i}}uniqueName(e,n=!0){let r=this._claimedNames.get(e)??0,s=r===0&&!n?`${e}`:`${e}${r}`;return this._claimedNames.set(e,r+1),s}freshName(){return this.uniqueName(_w)}},ti=class t{static{this.INSTANCE=new t}keyOf(e){if(e instanceof Re&&typeof e.value=="string")return`"${e.value}"`;if(e instanceof Re)return String(e.value);if(e instanceof xt){let n=[];for(let r of e.entries)n.push(this.keyOf(r));return`[${n.join(",")}]`}else if(e instanceof Qt){let n=[];for(let r of e.entries){let s=r.key;r.quoted&&(s=`"${s}"`),n.push(s+":"+this.keyOf(r.value))}return`{${n.join(",")}}`}else{if(e instanceof Oe)return`import("${e.value.moduleName}", ${e.value.name})`;if(e instanceof Pt)return`read(${e.name})`;if(e instanceof os)return`typeof(${this.keyOf(e.expr)})`;throw new Error(`${this.constructor.name} does not handle expressions of type ${e.constructor.name}`)}}};function kw(t){return t instanceof Pt}function Nf(t){return t instanceof Re&&typeof t.value=="string"&&t.value.length>=Pw}var y="@angular/core",p=class{static{this.NEW_METHOD="factory"}static{this.TRANSFORM_METHOD="transform"}static{this.PATCH_DEPS="patchedDeps"}static{this.core={name:null,moduleName:y}}static{this.namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:y}}static{this.namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:y}}static{this.namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:y}}static{this.element={name:"\u0275\u0275element",moduleName:y}}static{this.elementStart={name:"\u0275\u0275elementStart",moduleName:y}}static{this.elementEnd={name:"\u0275\u0275elementEnd",moduleName:y}}static{this.advance={name:"\u0275\u0275advance",moduleName:y}}static{this.syntheticHostProperty={name:"\u0275\u0275syntheticHostProperty",moduleName:y}}static{this.syntheticHostListener={name:"\u0275\u0275syntheticHostListener",moduleName:y}}static{this.attribute={name:"\u0275\u0275attribute",moduleName:y}}static{this.attributeInterpolate1={name:"\u0275\u0275attributeInterpolate1",moduleName:y}}static{this.attributeInterpolate2={name:"\u0275\u0275attributeInterpolate2",moduleName:y}}static{this.attributeInterpolate3={name:"\u0275\u0275attributeInterpolate3",moduleName:y}}static{this.attributeInterpolate4={name:"\u0275\u0275attributeInterpolate4",moduleName:y}}static{this.attributeInterpolate5={name:"\u0275\u0275attributeInterpolate5",moduleName:y}}static{this.attributeInterpolate6={name:"\u0275\u0275attributeInterpolate6",moduleName:y}}static{this.attributeInterpolate7={name:"\u0275\u0275attributeInterpolate7",moduleName:y}}static{this.attributeInterpolate8={name:"\u0275\u0275attributeInterpolate8",moduleName:y}}static{this.attributeInterpolateV={name:"\u0275\u0275attributeInterpolateV",moduleName:y}}static{this.classProp={name:"\u0275\u0275classProp",moduleName:y}}static{this.elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:y}}static{this.elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:y}}static{this.elementContainer={name:"\u0275\u0275elementContainer",moduleName:y}}static{this.styleMap={name:"\u0275\u0275styleMap",moduleName:y}}static{this.styleMapInterpolate1={name:"\u0275\u0275styleMapInterpolate1",moduleName:y}}static{this.styleMapInterpolate2={name:"\u0275\u0275styleMapInterpolate2",moduleName:y}}static{this.styleMapInterpolate3={name:"\u0275\u0275styleMapInterpolate3",moduleName:y}}static{this.styleMapInterpolate4={name:"\u0275\u0275styleMapInterpolate4",moduleName:y}}static{this.styleMapInterpolate5={name:"\u0275\u0275styleMapInterpolate5",moduleName:y}}static{this.styleMapInterpolate6={name:"\u0275\u0275styleMapInterpolate6",moduleName:y}}static{this.styleMapInterpolate7={name:"\u0275\u0275styleMapInterpolate7",moduleName:y}}static{this.styleMapInterpolate8={name:"\u0275\u0275styleMapInterpolate8",moduleName:y}}static{this.styleMapInterpolateV={name:"\u0275\u0275styleMapInterpolateV",moduleName:y}}static{this.classMap={name:"\u0275\u0275classMap",moduleName:y}}static{this.classMapInterpolate1={name:"\u0275\u0275classMapInterpolate1",moduleName:y}}static{this.classMapInterpolate2={name:"\u0275\u0275classMapInterpolate2",moduleName:y}}static{this.classMapInterpolate3={name:"\u0275\u0275classMapInterpolate3",moduleName:y}}static{this.classMapInterpolate4={name:"\u0275\u0275classMapInterpolate4",moduleName:y}}static{this.classMapInterpolate5={name:"\u0275\u0275classMapInterpolate5",moduleName:y}}static{this.classMapInterpolate6={name:"\u0275\u0275classMapInterpolate6",moduleName:y}}static{this.classMapInterpolate7={name:"\u0275\u0275classMapInterpolate7",moduleName:y}}static{this.classMapInterpolate8={name:"\u0275\u0275classMapInterpolate8",moduleName:y}}static{this.classMapInterpolateV={name:"\u0275\u0275classMapInterpolateV",moduleName:y}}static{this.styleProp={name:"\u0275\u0275styleProp",moduleName:y}}static{this.stylePropInterpolate1={name:"\u0275\u0275stylePropInterpolate1",moduleName:y}}static{this.stylePropInterpolate2={name:"\u0275\u0275stylePropInterpolate2",moduleName:y}}static{this.stylePropInterpolate3={name:"\u0275\u0275stylePropInterpolate3",moduleName:y}}static{this.stylePropInterpolate4={name:"\u0275\u0275stylePropInterpolate4",moduleName:y}}static{this.stylePropInterpolate5={name:"\u0275\u0275stylePropInterpolate5",moduleName:y}}static{this.stylePropInterpolate6={name:"\u0275\u0275stylePropInterpolate6",moduleName:y}}static{this.stylePropInterpolate7={name:"\u0275\u0275stylePropInterpolate7",moduleName:y}}static{this.stylePropInterpolate8={name:"\u0275\u0275stylePropInterpolate8",moduleName:y}}static{this.stylePropInterpolateV={name:"\u0275\u0275stylePropInterpolateV",moduleName:y}}static{this.nextContext={name:"\u0275\u0275nextContext",moduleName:y}}static{this.resetView={name:"\u0275\u0275resetView",moduleName:y}}static{this.templateCreate={name:"\u0275\u0275template",moduleName:y}}static{this.defer={name:"\u0275\u0275defer",moduleName:y}}static{this.deferWhen={name:"\u0275\u0275deferWhen",moduleName:y}}static{this.deferOnIdle={name:"\u0275\u0275deferOnIdle",moduleName:y}}static{this.deferOnImmediate={name:"\u0275\u0275deferOnImmediate",moduleName:y}}static{this.deferOnTimer={name:"\u0275\u0275deferOnTimer",moduleName:y}}static{this.deferOnHover={name:"\u0275\u0275deferOnHover",moduleName:y}}static{this.deferOnInteraction={name:"\u0275\u0275deferOnInteraction",moduleName:y}}static{this.deferOnViewport={name:"\u0275\u0275deferOnViewport",moduleName:y}}static{this.deferPrefetchWhen={name:"\u0275\u0275deferPrefetchWhen",moduleName:y}}static{this.deferPrefetchOnIdle={name:"\u0275\u0275deferPrefetchOnIdle",moduleName:y}}static{this.deferPrefetchOnImmediate={name:"\u0275\u0275deferPrefetchOnImmediate",moduleName:y}}static{this.deferPrefetchOnTimer={name:"\u0275\u0275deferPrefetchOnTimer",moduleName:y}}static{this.deferPrefetchOnHover={name:"\u0275\u0275deferPrefetchOnHover",moduleName:y}}static{this.deferPrefetchOnInteraction={name:"\u0275\u0275deferPrefetchOnInteraction",moduleName:y}}static{this.deferPrefetchOnViewport={name:"\u0275\u0275deferPrefetchOnViewport",moduleName:y}}static{this.deferEnableTimerScheduling={name:"\u0275\u0275deferEnableTimerScheduling",moduleName:y}}static{this.conditional={name:"\u0275\u0275conditional",moduleName:y}}static{this.repeater={name:"\u0275\u0275repeater",moduleName:y}}static{this.repeaterCreate={name:"\u0275\u0275repeaterCreate",moduleName:y}}static{this.repeaterTrackByIndex={name:"\u0275\u0275repeaterTrackByIndex",moduleName:y}}static{this.repeaterTrackByIdentity={name:"\u0275\u0275repeaterTrackByIdentity",moduleName:y}}static{this.componentInstance={name:"\u0275\u0275componentInstance",moduleName:y}}static{this.text={name:"\u0275\u0275text",moduleName:y}}static{this.enableBindings={name:"\u0275\u0275enableBindings",moduleName:y}}static{this.disableBindings={name:"\u0275\u0275disableBindings",moduleName:y}}static{this.getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:y}}static{this.textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:y}}static{this.textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:y}}static{this.textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:y}}static{this.textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:y}}static{this.textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:y}}static{this.textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:y}}static{this.textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:y}}static{this.textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:y}}static{this.textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:y}}static{this.textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:y}}static{this.restoreView={name:"\u0275\u0275restoreView",moduleName:y}}static{this.pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:y}}static{this.pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:y}}static{this.pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:y}}static{this.pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:y}}static{this.pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:y}}static{this.pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:y}}static{this.pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:y}}static{this.pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:y}}static{this.pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:y}}static{this.pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:y}}static{this.pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:y}}static{this.pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:y}}static{this.pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:y}}static{this.pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:y}}static{this.pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:y}}static{this.hostProperty={name:"\u0275\u0275hostProperty",moduleName:y}}static{this.property={name:"\u0275\u0275property",moduleName:y}}static{this.propertyInterpolate={name:"\u0275\u0275propertyInterpolate",moduleName:y}}static{this.propertyInterpolate1={name:"\u0275\u0275propertyInterpolate1",moduleName:y}}static{this.propertyInterpolate2={name:"\u0275\u0275propertyInterpolate2",moduleName:y}}static{this.propertyInterpolate3={name:"\u0275\u0275propertyInterpolate3",moduleName:y}}static{this.propertyInterpolate4={name:"\u0275\u0275propertyInterpolate4",moduleName:y}}static{this.propertyInterpolate5={name:"\u0275\u0275propertyInterpolate5",moduleName:y}}static{this.propertyInterpolate6={name:"\u0275\u0275propertyInterpolate6",moduleName:y}}static{this.propertyInterpolate7={name:"\u0275\u0275propertyInterpolate7",moduleName:y}}static{this.propertyInterpolate8={name:"\u0275\u0275propertyInterpolate8",moduleName:y}}static{this.propertyInterpolateV={name:"\u0275\u0275propertyInterpolateV",moduleName:y}}static{this.i18n={name:"\u0275\u0275i18n",moduleName:y}}static{this.i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:y}}static{this.i18nExp={name:"\u0275\u0275i18nExp",moduleName:y}}static{this.i18nStart={name:"\u0275\u0275i18nStart",moduleName:y}}static{this.i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:y}}static{this.i18nApply={name:"\u0275\u0275i18nApply",moduleName:y}}static{this.i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:y}}static{this.pipe={name:"\u0275\u0275pipe",moduleName:y}}static{this.projection={name:"\u0275\u0275projection",moduleName:y}}static{this.projectionDef={name:"\u0275\u0275projectionDef",moduleName:y}}static{this.reference={name:"\u0275\u0275reference",moduleName:y}}static{this.inject={name:"\u0275\u0275inject",moduleName:y}}static{this.injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:y}}static{this.directiveInject={name:"\u0275\u0275directiveInject",moduleName:y}}static{this.invalidFactory={name:"\u0275\u0275invalidFactory",moduleName:y}}static{this.invalidFactoryDep={name:"\u0275\u0275invalidFactoryDep",moduleName:y}}static{this.templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:y}}static{this.forwardRef={name:"forwardRef",moduleName:y}}static{this.resolveForwardRef={name:"resolveForwardRef",moduleName:y}}static{this.\u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:y}}static{this.declareInjectable={name:"\u0275\u0275ngDeclareInjectable",moduleName:y}}static{this.InjectableDeclaration={name:"\u0275\u0275InjectableDeclaration",moduleName:y}}static{this.resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:y}}static{this.resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:y}}static{this.resolveBody={name:"\u0275\u0275resolveBody",moduleName:y}}static{this.getComponentDepsFactory={name:"\u0275\u0275getComponentDepsFactory",moduleName:y}}static{this.defineComponent={name:"\u0275\u0275defineComponent",moduleName:y}}static{this.declareComponent={name:"\u0275\u0275ngDeclareComponent",moduleName:y}}static{this.setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:y}}static{this.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:y}}static{this.ViewEncapsulation={name:"ViewEncapsulation",moduleName:y}}static{this.ComponentDeclaration={name:"\u0275\u0275ComponentDeclaration",moduleName:y}}static{this.FactoryDeclaration={name:"\u0275\u0275FactoryDeclaration",moduleName:y}}static{this.declareFactory={name:"\u0275\u0275ngDeclareFactory",moduleName:y}}static{this.FactoryTarget={name:"\u0275\u0275FactoryTarget",moduleName:y}}static{this.defineDirective={name:"\u0275\u0275defineDirective",moduleName:y}}static{this.declareDirective={name:"\u0275\u0275ngDeclareDirective",moduleName:y}}static{this.DirectiveDeclaration={name:"\u0275\u0275DirectiveDeclaration",moduleName:y}}static{this.InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:y}}static{this.InjectorDeclaration={name:"\u0275\u0275InjectorDeclaration",moduleName:y}}static{this.defineInjector={name:"\u0275\u0275defineInjector",moduleName:y}}static{this.declareInjector={name:"\u0275\u0275ngDeclareInjector",moduleName:y}}static{this.NgModuleDeclaration={name:"\u0275\u0275NgModuleDeclaration",moduleName:y}}static{this.ModuleWithProviders={name:"ModuleWithProviders",moduleName:y}}static{this.defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:y}}static{this.declareNgModule={name:"\u0275\u0275ngDeclareNgModule",moduleName:y}}static{this.setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:y}}static{this.registerNgModuleType={name:"\u0275\u0275registerNgModuleType",moduleName:y}}static{this.PipeDeclaration={name:"\u0275\u0275PipeDeclaration",moduleName:y}}static{this.definePipe={name:"\u0275\u0275definePipe",moduleName:y}}static{this.declarePipe={name:"\u0275\u0275ngDeclarePipe",moduleName:y}}static{this.declareClassMetadata={name:"\u0275\u0275ngDeclareClassMetadata",moduleName:y}}static{this.setClassMetadata={name:"\u0275setClassMetadata",moduleName:y}}static{this.setClassMetadataAsync={name:"\u0275setClassMetadataAsync",moduleName:y}}static{this.setClassDebugInfo={name:"\u0275setClassDebugInfo",moduleName:y}}static{this.queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:y}}static{this.viewQuery={name:"\u0275\u0275viewQuery",moduleName:y}}static{this.loadQuery={name:"\u0275\u0275loadQuery",moduleName:y}}static{this.contentQuery={name:"\u0275\u0275contentQuery",moduleName:y}}static{this.viewQuerySignal={name:"\u0275\u0275viewQuerySignal",moduleName:y}}static{this.contentQuerySignal={name:"\u0275\u0275contentQuerySignal",moduleName:y}}static{this.queryAdvance={name:"\u0275\u0275queryAdvance",moduleName:y}}static{this.twoWayProperty={name:"\u0275\u0275twoWayProperty",moduleName:y}}static{this.twoWayBindingSet={name:"\u0275\u0275twoWayBindingSet",moduleName:y}}static{this.twoWayListener={name:"\u0275\u0275twoWayListener",moduleName:y}}static{this.NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:y}}static{this.InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:y}}static{this.CopyDefinitionFeature={name:"\u0275\u0275CopyDefinitionFeature",moduleName:y}}static{this.StandaloneFeature={name:"\u0275\u0275StandaloneFeature",moduleName:y}}static{this.ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:y}}static{this.HostDirectivesFeature={name:"\u0275\u0275HostDirectivesFeature",moduleName:y}}static{this.InputTransformsFeatureFeature={name:"\u0275\u0275InputTransformsFeature",moduleName:y}}static{this.listener={name:"\u0275\u0275listener",moduleName:y}}static{this.getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:y}}static{this.InputFlags={name:"\u0275\u0275InputFlags",moduleName:y}}static{this.sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:y}}static{this.sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:y}}static{this.sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:y}}static{this.sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:y}}static{this.sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:y}}static{this.sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:y}}static{this.trustConstantHtml={name:"\u0275\u0275trustConstantHtml",moduleName:y}}static{this.trustConstantResourceUrl={name:"\u0275\u0275trustConstantResourceUrl",moduleName:y}}static{this.validateIframeAttribute={name:"\u0275\u0275validateIframeAttribute",moduleName:y}}static{this.InputSignalBrandWriteType={name:"\u0275INPUT_SIGNAL_BRAND_WRITE_TYPE",moduleName:y}}static{this.UnwrapDirectiveSignalInputs={name:"\u0275UnwrapDirectiveSignalInputs",moduleName:y}}static{this.unwrapWritableSignal={name:"\u0275unwrapWritableSignal",moduleName:y}}},Mw=/-+([a-z0-9])/g;function Lw(t){return t.replace(Mw,(...e)=>e[1].toUpperCase())}function Ow(t,e){return Dm(t,":",e)}function Fw(t,e){return Dm(t,".",e)}function Dm(t,e,n){let r=t.indexOf(e);return r==-1?n:[t.slice(0,r).trim(),t.slice(r+1).trim()]}function ka(t){throw new Error(`Internal Error: ${t}`)}function Bw(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r>=55296&&r<=56319&&t.length>n+1){let s=t.charCodeAt(n+1);s>=56320&&s<=57343&&(n++,r=(r-55296<<10)+s-56320+65536)}r<=127?e.push(r):r<=2047?e.push(r>>6&31|192,r&63|128):r<=65535?e.push(r>>12|224,r>>6&63|128,r&63|128):r<=2097151&&e.push(r>>18&7|240,r>>12&63|128,r>>6&63|128,r&63|128)}return e}function _m(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(_m).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;if(!t.toString)return"object";let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}var po=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Qi=globalThis;function $w(t,e){let n=[],r=[];for(let s of t)(e(s)?n:r).push(s);return[n,r]}var Uw=3,Vw="# sourceMappingURL=data:application/json;base64,",Wc=class{constructor(e=null){this.file=e,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}addSource(e,n=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,n),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,n,r,s){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(n!=null&&!this.sourcesContent.has(n))throw new Error(`Unknown source file "${n}"`);if(e==null)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(n&&(r==null||s==null))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:n,sourceLine0:r,sourceCol0:s}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;let e=new Map,n=[],r=[];Array.from(this.sourcesContent.keys()).forEach((c,u)=>{e.set(c,u),n.push(c),r.push(this.sourcesContent.get(c)||null)});let s="",i=0,o=0,a=0,l=0;return this.lines.forEach(c=>{i=0,s+=c.map(u=>{let h=ca(u.col0-i);return i=u.col0,u.sourceUrl!=null&&(h+=ca(e.get(u.sourceUrl)-o),o=e.get(u.sourceUrl),h+=ca(u.sourceLine0-a),a=u.sourceLine0,h+=ca(u.sourceCol0-l),l=u.sourceCol0),h}).join(","),s+=";"}),s=s.slice(0,-1),{file:this.file||"",version:Uw,sourceRoot:"",sources:n,sourcesContent:r,mappings:s}}toJsComment(){return this.hasMappings?"//"+Vw+qw(JSON.stringify(this,null,0)):""}};function qw(t){let e="",n=Bw(t);for(let r=0;r<n.length;){let s=n[r++],i=r<n.length?n[r++]:null,o=r<n.length?n[r++]:null;e+=zi(s>>2),e+=zi((s&3)<<4|(i===null?0:i>>4)),e+=i===null?"=":zi((i&15)<<2|(o===null?0:o>>6)),e+=i===null||o===null?"=":zi(o&63)}return e}function ca(t){t=t<0?(-t<<1)+1:t<<1;let e="";do{let n=t&31;t=t>>5,t>0&&(n=n|32),e+=zi(n)}while(t>0);return e}var Gw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function zi(t){if(t<0||t>=64)throw new Error("Can only encode value in the range [0, 63]");return Gw[t]}var Hw=/'|\\|\n|\r|\$/g,Ww=/^[$A-Z_][0-9A-Z_$]*$/i,jc="  ",Ma=class{constructor(e){this.indent=e,this.partsLength=0,this.parts=[],this.srcSpans=[]}},Kc=class t{static createRoot(){return new t(0)}constructor(e){this._indent=e,this._lines=[new Ma(e)]}get _currentLine(){return this._lines[this._lines.length-1]}println(e,n=""){this.print(e||null,n,!0)}lineIsEmpty(){return this._currentLine.parts.length===0}lineLength(){return this._currentLine.indent*jc.length+this._currentLine.partsLength}print(e,n,r=!1){n.length>0&&(this._currentLine.parts.push(n),this._currentLine.partsLength+=n.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),r&&this._lines.push(new Ma(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}toSource(){return this.sourceLines.map(e=>e.parts.length>0?Df(e.indent)+e.parts.join(""):"").join(`
`)}toSourceMapGenerator(e,n=0){let r=new Wc(e),s=!1,i=()=>{s||(r.addSource(e," ").addMapping(0,e,0,0),s=!0)};for(let o=0;o<n;o++)r.addLine(),i();return this.sourceLines.forEach((o,a)=>{r.addLine();let l=o.srcSpans,c=o.parts,u=o.indent*jc.length,h=0;for(;h<l.length&&!l[h];)u+=c[h].length,h++;for(h<l.length&&a===0&&u===0?s=!0:i();h<l.length;){let d=l[h],g=d.start.file,v=d.start.line,I=d.start.col;for(r.addSource(g.url,g.content).addMapping(u,g.url,v,I),u+=c[h].length,h++;h<l.length&&(d===l[h]||!l[h]);)u+=c[h].length,h++}}),r}spanOf(e,n){let r=this._lines[e];if(r){let s=n-Df(r.indent).length;for(let i=0;i<r.parts.length;i++){let o=r.parts[i];if(o.length>s)return r.srcSpans[i];s-=o.length}}return null}get sourceLines(){return this._lines.length&&this._lines[this._lines.length-1].parts.length===0?this._lines.slice(0,-1):this._lines}},zc=class{constructor(e){this._escapeDollarInStrings=e}printLeadingComments(e,n){if(e.leadingComments!==void 0)for(let r of e.leadingComments)r instanceof lo?n.print(e,`/*${r.toString()}*/`,r.trailingNewline):r.multiline?n.print(e,`/* ${r.text} */`,r.trailingNewline):r.text.split(`
`).forEach(s=>{n.println(e,`// ${s}`)})}visitExpressionStmt(e,n){return this.printLeadingComments(e,n),e.expr.visitExpression(this,n),n.println(e,";"),null}visitReturnStmt(e,n){return this.printLeadingComments(e,n),n.print(e,"return "),e.value.visitExpression(this,n),n.println(e,";"),null}visitIfStmt(e,n){this.printLeadingComments(e,n),n.print(e,"if ("),e.condition.visitExpression(this,n),n.print(e,") {");let r=e.falseCase!=null&&e.falseCase.length>0;return e.trueCase.length<=1&&!r?(n.print(e," "),this.visitAllStatements(e.trueCase,n),n.removeEmptyLastLine(),n.print(e," ")):(n.println(),n.incIndent(),this.visitAllStatements(e.trueCase,n),n.decIndent(),r&&(n.println(e,"} else {"),n.incIndent(),this.visitAllStatements(e.falseCase,n),n.decIndent())),n.println(e,"}"),null}visitWriteVarExpr(e,n){let r=n.lineIsEmpty();return r||n.print(e,"("),n.print(e,`${e.name} = `),e.value.visitExpression(this,n),r||n.print(e,")"),null}visitWriteKeyExpr(e,n){let r=n.lineIsEmpty();return r||n.print(e,"("),e.receiver.visitExpression(this,n),n.print(e,"["),e.index.visitExpression(this,n),n.print(e,"] = "),e.value.visitExpression(this,n),r||n.print(e,")"),null}visitWritePropExpr(e,n){let r=n.lineIsEmpty();return r||n.print(e,"("),e.receiver.visitExpression(this,n),n.print(e,`.${e.name} = `),e.value.visitExpression(this,n),r||n.print(e,")"),null}visitInvokeFunctionExpr(e,n){let r=e.fn instanceof tr;return r&&n.print(e.fn,"("),e.fn.visitExpression(this,n),r&&n.print(e.fn,")"),n.print(e,"("),this.visitAllExpressions(e.args,n,","),n.print(e,")"),null}visitTaggedTemplateExpr(e,n){e.tag.visitExpression(this,n),n.print(e,"`"+e.template.elements[0].rawText);for(let r=1;r<e.template.elements.length;r++)n.print(e,"${"),e.template.expressions[r-1].visitExpression(this,n),n.print(e,`}${e.template.elements[r].rawText}`);return n.print(e,"`"),null}visitWrappedNodeExpr(e,n){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,n){n.print(e,"typeof "),e.expr.visitExpression(this,n)}visitReadVarExpr(e,n){return n.print(e,e.name),null}visitInstantiateExpr(e,n){return n.print(e,"new "),e.classExpr.visitExpression(this,n),n.print(e,"("),this.visitAllExpressions(e.args,n,","),n.print(e,")"),null}visitLiteralExpr(e,n){let r=e.value;return typeof r=="string"?n.print(e,es(r,this._escapeDollarInStrings)):n.print(e,`${r}`),null}visitLocalizedString(e,n){let r=e.serializeI18nHead();n.print(e,"$localize `"+r.raw);for(let s=1;s<e.messageParts.length;s++)n.print(e,"${"),e.expressions[s-1].visitExpression(this,n),n.print(e,`}${e.serializeI18nTemplatePart(s).raw}`);return n.print(e,"`"),null}visitConditionalExpr(e,n){return n.print(e,"("),e.condition.visitExpression(this,n),n.print(e,"? "),e.trueCase.visitExpression(this,n),n.print(e,": "),e.falseCase.visitExpression(this,n),n.print(e,")"),null}visitDynamicImportExpr(e,n){n.print(e,`import(${e.url})`)}visitNotExpr(e,n){return n.print(e,"!"),e.condition.visitExpression(this,n),null}visitUnaryOperatorExpr(e,n){let r;switch(e.operator){case Yt.Plus:r="+";break;case Yt.Minus:r="-";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&n.print(e,"("),n.print(e,r),e.expr.visitExpression(this,n),e.parens&&n.print(e,")"),null}visitBinaryOperatorExpr(e,n){let r;switch(e.operator){case T.Equals:r="==";break;case T.Identical:r="===";break;case T.NotEquals:r="!=";break;case T.NotIdentical:r="!==";break;case T.And:r="&&";break;case T.BitwiseOr:r="|";break;case T.BitwiseAnd:r="&";break;case T.Or:r="||";break;case T.Plus:r="+";break;case T.Minus:r="-";break;case T.Divide:r="/";break;case T.Multiply:r="*";break;case T.Modulo:r="%";break;case T.Lower:r="<";break;case T.LowerEquals:r="<=";break;case T.Bigger:r=">";break;case T.BiggerEquals:r=">=";break;case T.NullishCoalesce:r="??";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&n.print(e,"("),e.lhs.visitExpression(this,n),n.print(e,` ${r} `),e.rhs.visitExpression(this,n),e.parens&&n.print(e,")"),null}visitReadPropExpr(e,n){return e.receiver.visitExpression(this,n),n.print(e,"."),n.print(e,e.name),null}visitReadKeyExpr(e,n){return e.receiver.visitExpression(this,n),n.print(e,"["),e.index.visitExpression(this,n),n.print(e,"]"),null}visitLiteralArrayExpr(e,n){return n.print(e,"["),this.visitAllExpressions(e.entries,n,","),n.print(e,"]"),null}visitLiteralMapExpr(e,n){return n.print(e,"{"),this.visitAllObjects(r=>{n.print(e,`${es(r.key,this._escapeDollarInStrings,r.quoted)}:`),r.value.visitExpression(this,n)},e.entries,n,","),n.print(e,"}"),null}visitCommaExpr(e,n){return n.print(e,"("),this.visitAllExpressions(e.parts,n,","),n.print(e,")"),null}visitAllExpressions(e,n,r){this.visitAllObjects(s=>s.visitExpression(this,n),e,n,r)}visitAllObjects(e,n,r,s){let i=!1;for(let o=0;o<n.length;o++)o>0&&(r.lineLength()>80?(r.print(null,s,!0),i||(r.incIndent(),r.incIndent(),i=!0)):r.print(null,s,!1)),e(n[o]);i&&(r.decIndent(),r.decIndent())}visitAllStatements(e,n){e.forEach(r=>r.visitStatement(this,n))}};function es(t,e,n=!0){if(t==null)return null;let r=t.replace(Hw,(...i)=>i[0]=="$"?e?"\\$":"$":i[0]==`
`?"\\n":i[0]=="\r"?"\\r":`\\${i[0]}`);return n||!Ww.test(r)?`'${r}'`:r}function Df(t){let e="";for(let n=0;n<t;n++)e+=jc;return e}function Al(t,e){if(e===0)return He(t);let n=[];for(let r=0;r<e;r++)n.push(en);return He(t,void 0,n)}var Rm="@";function Pm(t){return`${Rm}${t}`}function jw(t,e){return`${Rm}${t}.${e}`}function km(t,e){let n=es(e,!1,!1);return n!==e?`${t}[${n}]`:`${t}.${e}`}function Mm(t,e){return`animation_${t}_${e}`}function Kw(t){return zw("ngJitMode",t)}function zw(t,e){let n=new Oe({name:t,moduleName:null}),r=new ee(T.Identical,new os(n),m("undefined")),s=new ee(T.Or,r,n,void 0,void 0,!0);return new ee(T.And,s,e)}function ze(t){let e=new V(t);return{value:e,type:e}}function ts(t,e){let n=W(t.map(r=>r.value));return e?We([],n):n}function Cs(t,e){return{expression:t,forwardRef:e}}function Xw({expression:t,forwardRef:e}){switch(e){case 0:case 1:return t;case 2:return Yw(t)}}function Yw(t){return b(p.forwardRef).callFn([We([],t)])}var ho;(function(t){t[t.Class=0]="Class",t[t.Function=1]="Function"})(ho||(ho={}));var vt;(function(t){t[t.Directive=0]="Directive",t[t.Component=1]="Component",t[t.Injectable=2]="Injectable",t[t.Pipe=3]="Pipe",t[t.NgModule=4]="NgModule"})(vt||(vt={}));function Tr(t){let e=P("t"),n=null,r=Rf(t)?e:new ee(T.Or,e,t.type.value),s=null;t.deps!==null?t.deps!=="invalid"&&(s=new ii(r,_f(t.deps,t.target))):(n=P(`\u0275${t.name}_BaseFactory`),s=n.callFn([r]));let i=[],o=null;function a(c){let u=P("r");i.push(u.set(_r).toDeclStmt());let h=s!==null?u.set(s).toStmt():b(p.invalidFactory).callFn([]).toStmt();return i.push(Ri(e,[h],[u.set(c).toStmt()])),u}if(Rf(t)){let c=_f(t.delegateDeps,t.target),u=new(t.delegateType===ho.Class?ii:et)(t.delegate,c);o=a(u)}else tx(t)?o=a(t.expression):o=s;if(o===null)i.push(b(p.invalidFactory).callFn([]).toStmt());else if(n!==null){let c=b(p.getInheritedFactory).callFn([t.type.value]),u=new ee(T.Or,n,n.set(c));i.push(new _e(u.callFn([r])))}else i.push(new _e(o));let l=En([new me("t",en)],i,lt,void 0,`${t.name}_Factory`);return n!==null&&(l=We([],[new nt(n.name),new _e(l)]).callFn([],void 0,!0)),{expression:l,statements:[],type:Qw(t)}}function Qw(t){let e=t.deps!==null&&t.deps!=="invalid"?Zw(t.deps):vn;return He(b(p.FactoryDeclaration,[Al(t.type.type,t.typeArgumentCount),e]))}function _f(t,e){return t.map((n,r)=>Jw(n,e,r))}function Jw(t,e,n){if(t.token===null)return b(p.invalidFactoryDep).callFn([m(n)]);if(t.attributeNameType===null){let r=0|(t.self?2:0)|(t.skipSelf?4:0)|(t.host?1:0)|(t.optional?8:0)|(e===vt.Pipe?16:0),s=r!==0||t.optional?m(r):null,i=[t.token];s&&i.push(s);let o=nx(e);return b(o).callFn(i)}else return b(p.injectAttribute).callFn([t.token])}function Zw(t){let e=!1,n=t.map(r=>{let s=ex(r);return s!==null?(e=!0,s):m(null)});return e?He(W(n)):vn}function ex(t){let e=[];return t.attributeNameType!==null&&e.push({key:"attribute",value:t.attributeNameType,quoted:!1}),t.optional&&e.push({key:"optional",value:m(!0),quoted:!1}),t.host&&e.push({key:"host",value:m(!0),quoted:!1}),t.self&&e.push({key:"self",value:m(!0),quoted:!1}),t.skipSelf&&e.push({key:"skipSelf",value:m(!0),quoted:!1}),e.length>0?Fe(e):null}function Rf(t){return t.delegateType!==void 0}function tx(t){return t.expression!==void 0}function nx(t){switch(t){case vt.Component:case vt.Directive:case vt.Pipe:return p.directiveInject;case vt.NgModule:case vt.Injectable:default:return p.inject}}var cn;(function(t){t[t.RAW_TEXT=0]="RAW_TEXT",t[t.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",t[t.PARSABLE_DATA=2]="PARSABLE_DATA"})(cn||(cn={}));function Et(t,e=!0){if(t[0]!=":")return[null,t];let n=t.indexOf(":",1);if(n===-1){if(e)throw new Error(`Unsupported format "${t}" expecting ":namespace:name"`);return[null,t]}return[t.slice(1,n),t.slice(n+1)]}function Xc(t){return Et(t)[1]==="ng-container"}function Yc(t){return Et(t)[1]==="ng-content"}function rx(t){return Et(t)[1]==="ng-template"}function Qc(t){return t===null?null:Et(t)[0]}function Jc(t,e){return t?`:${t}:${e}`:e}var ui=class{constructor(e,n){this.value=e,this.sourceSpan=n}visit(e){throw new Error("visit() not implemented for Comment")}},zt=class{constructor(e,n){this.value=e,this.sourceSpan=n}visit(e){return e.visitText(this)}},Bn=class{constructor(e,n,r){this.value=e,this.sourceSpan=n,this.i18n=r}visit(e){return e.visitBoundText(this)}},Bt=class{constructor(e,n,r,s,i,o){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=s,this.valueSpan=i,this.i18n=o}visit(e){return e.visitTextAttribute(this)}},Jt=class t{constructor(e,n,r,s,i,o,a,l,c){this.name=e,this.type=n,this.securityContext=r,this.value=s,this.unit=i,this.sourceSpan=o,this.keySpan=a,this.valueSpan=l,this.i18n=c}static fromBoundElementProperty(e,n){if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound attributes but was not for ${e.name}: ${e.sourceSpan}`);return new t(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.keySpan,e.valueSpan,n)}visit(e){return e.visitBoundAttribute(this)}},Pr=class t{constructor(e,n,r,s,i,o,a,l){this.name=e,this.type=n,this.handler=r,this.target=s,this.phase=i,this.sourceSpan=o,this.handlerSpan=a,this.keySpan=l}static fromParsedEvent(e){let n=e.type===0?e.targetOrPhase:null,r=e.type===1?e.targetOrPhase:null;if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound event but was not for ${e.name}: ${e.sourceSpan}`);return new t(e.name,e.type,e.handler,n,r,e.sourceSpan,e.handlerSpan,e.keySpan)}visit(e){return e.visitBoundEvent(this)}},oe=class{constructor(e,n,r,s,i,o,a,l,c,u){this.name=e,this.attributes=n,this.inputs=r,this.outputs=s,this.children=i,this.references=o,this.sourceSpan=a,this.startSourceSpan=l,this.endSourceSpan=c,this.i18n=u}visit(e){return e.visitElement(this)}},rr=class{constructor(e,n,r,s){this.nameSpan=e,this.sourceSpan=n,this.prefetchSpan=r,this.whenOrOnSourceSpan=s}visit(e){return e.visitDeferredTrigger(this)}},pi=class extends rr{constructor(e,n,r,s){super(null,n,r,s),this.value=e}},Zc=class extends rr{},eu=class extends rr{},La=class extends rr{constructor(e,n,r,s,i){super(n,r,s,i),this.reference=e}},tu=class extends rr{constructor(e,n,r,s,i){super(n,r,s,i),this.delay=e}},Oa=class extends rr{constructor(e,n,r,s,i){super(n,r,s,i),this.reference=e}},Fa=class extends rr{constructor(e,n,r,s,i){super(n,r,s,i),this.reference=e}},Zt=class{constructor(e,n,r,s){this.nameSpan=e,this.sourceSpan=n,this.startSourceSpan=r,this.endSourceSpan=s}},fo=class extends Zt{constructor(e,n,r,s,i,o,a){super(r,s,i,o),this.children=e,this.minimumTime=n,this.i18n=a}visit(e){return e.visitDeferredBlockPlaceholder(this)}},mo=class extends Zt{constructor(e,n,r,s,i,o,a,l){super(s,i,o,a),this.children=e,this.afterTime=n,this.minimumTime=r,this.i18n=l}visit(e){return e.visitDeferredBlockLoading(this)}},go=class extends Zt{constructor(e,n,r,s,i,o){super(n,r,s,i),this.children=e,this.i18n=o}visit(e){return e.visitDeferredBlockError(this)}},sr=class extends Zt{constructor(e,n,r,s,i,o,a,l,c,u,h,d){super(a,l,u,h),this.children=e,this.placeholder=s,this.loading=i,this.error=o,this.mainBlockSpan=c,this.i18n=d,this.triggers=n,this.prefetchTriggers=r,this.definedTriggers=Object.keys(n),this.definedPrefetchTriggers=Object.keys(r)}visit(e){return e.visitDeferredBlock(this)}visitAll(e){this.visitTriggers(this.definedTriggers,this.triggers,e),this.visitTriggers(this.definedPrefetchTriggers,this.prefetchTriggers,e),Ji(e,this.children);let n=[this.placeholder,this.loading,this.error].filter(r=>r!==null);Ji(e,n)}visitTriggers(e,n,r){Ji(r,e.map(s=>n[s]))}},hi=class extends Zt{constructor(e,n,r,s,i,o,a){super(a,s,i,o),this.expression=e,this.cases=n,this.unknownBlocks=r}visit(e){return e.visitSwitchBlock(this)}},vo=class extends Zt{constructor(e,n,r,s,i,o,a){super(o,r,s,i),this.expression=e,this.children=n,this.i18n=a}visit(e){return e.visitSwitchBlockCase(this)}},Sn=class extends Zt{constructor(e,n,r,s,i,o,a,l,c,u,h,d,g){super(d,l,u,h),this.item=e,this.expression=n,this.trackBy=r,this.trackKeywordSpan=s,this.contextVariables=i,this.children=o,this.empty=a,this.mainBlockSpan=c,this.i18n=g}visit(e){return e.visitForLoopBlock(this)}},fi=class extends Zt{constructor(e,n,r,s,i,o){super(i,n,r,s),this.children=e,this.i18n=o}visit(e){return e.visitForLoopBlockEmpty(this)}},cs=class extends Zt{constructor(e,n,r,s,i){super(i,n,r,s),this.branches=e}visit(e){return e.visitIfBlock(this)}},Jn=class extends Zt{constructor(e,n,r,s,i,o,a,l){super(a,s,i,o),this.expression=e,this.children=n,this.expressionAlias=r,this.i18n=l}visit(e){return e.visitIfBlockBranch(this)}},Ba=class{constructor(e,n,r){this.name=e,this.sourceSpan=n,this.nameSpan=r}visit(e){return e.visitUnknownBlock(this)}},ce=class{constructor(e,n,r,s,i,o,a,l,c,u,h,d){this.tagName=e,this.attributes=n,this.inputs=r,this.outputs=s,this.templateAttrs=i,this.children=o,this.references=a,this.variables=l,this.sourceSpan=c,this.startSourceSpan=u,this.endSourceSpan=h,this.i18n=d}visit(e){return e.visitTemplate(this)}},$a=class{constructor(e,n,r,s){this.selector=e,this.attributes=n,this.sourceSpan=r,this.i18n=s,this.name="ng-content"}visit(e){return e.visitContent(this)}},$t=class{constructor(e,n,r,s,i){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=s,this.valueSpan=i}visit(e){return e.visitVariable(this)}},$n=class{constructor(e,n,r,s,i){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=s,this.valueSpan=i}visit(e){return e.visitReference(this)}},us=class{constructor(e,n,r,s){this.vars=e,this.placeholders=n,this.sourceSpan=r,this.i18n=s}visit(e){return e.visitIcu(this)}};function Ji(t,e){let n=[];if(t.visit)for(let r of e)t.visit(r)||r.visit(t);else for(let r of e){let s=r.visit(t);s&&n.push(s)}return n}var ct=class{constructor(e,n,r,s,i,o){this.nodes=e,this.placeholders=n,this.placeholderToMessage=r,this.meaning=s,this.description=i,this.customId=o,this.legacyIds=[],this.id=this.customId,this.messageString=sx(this.nodes),e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}},Ks=class{constructor(e,n){this.value=e,this.sourceSpan=n}visit(e,n){return e.visitText(this,n)}},Ln=class{constructor(e,n){this.children=e,this.sourceSpan=n}visit(e,n){return e.visitContainer(this,n)}},Ua=class{constructor(e,n,r,s,i){this.expression=e,this.type=n,this.cases=r,this.sourceSpan=s,this.expressionPlaceholder=i}visit(e,n){return e.visitIcu(this,n)}},kr=class{constructor(e,n,r,s,i,o,a,l,c){this.tag=e,this.attrs=n,this.startName=r,this.closeName=s,this.children=i,this.isVoid=o,this.sourceSpan=a,this.startSourceSpan=l,this.endSourceSpan=c}visit(e,n){return e.visitTagPlaceholder(this,n)}},yo=class{constructor(e,n,r){this.value=e,this.name=n,this.sourceSpan=r}visit(e,n){return e.visitPlaceholder(this,n)}},di=class{constructor(e,n,r){this.value=e,this.name=n,this.sourceSpan=r}visit(e,n){return e.visitIcuPlaceholder(this,n)}},ir=class{constructor(e,n,r,s,i,o,a,l){this.name=e,this.parameters=n,this.startName=r,this.closeName=s,this.children=i,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=l}visit(e,n){return e.visitBlockPlaceholder(this,n)}};function sx(t){let e=new nu;return t.map(r=>r.visit(e)).join("")}var nu=class{visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){let n=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`}visitTagPlaceholder(e){let n=e.children.map(r=>r.visit(this)).join("");return`{$${e.startName}}${n}{$${e.closeName}}`}visitPlaceholder(e){return`{$${e.name}}`}visitIcuPlaceholder(e){return`{$${e.name}}`}visitBlockPlaceholder(e){let n=e.children.map(r=>r.visit(this)).join("");return`{$${e.startName}}${n}{$${e.closeName}}`}};var ru=class{visitTag(e){let n=this._serializeAttributes(e.attrs);if(e.children.length==0)return`<${e.name}${n}/>`;let r=e.children.map(s=>s.visit(this));return`<${e.name}${n}>${r.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){let n=Object.keys(e).map(r=>`${r}="${e[r]}"`).join(" ");return n.length>0?" "+n:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [
${e.dtd}
]>`}},GO=new ru;function ix(t){return t.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}var ox="MSG_",ax="i18n_",Lm="i18n",su="i18n-",lx="VAR_",cx="I18N_EXP_",Pf="\uFFFD";function Om(t){return t===Lm||t.startsWith(su)}function Eo(t){return t instanceof ct}function Xi(t){return Eo(t)&&t.nodes.length===1&&t.nodes[0]instanceof Ua}function ux(t){return!!t.i18n}function px(t){return t.attrs.some(e=>Om(e.name))}function Np(t){return t.nodes[0]}function bl(t,e=0){let n=e>0?`:${e}`:"";return`${Pf}${t}${n}${Pf}`}function hx(t,e=0,n=0){if(!t.length)return"";let r="",s=t.length-1;for(let i=0;i<s;i++)r+=`${t[i]}${bl(e+i,n)}`;return r+=t[s],r}function fx(t=0){let e=t;return()=>e++}function kf(t){let e={};return t.forEach((n,r)=>{e[r]=m(n.length>1?`[${n.join("|")}]`:n[0])}),e}function Yi(t,e,...n){let r=t.get(e)||[];r.push(...n),t.set(e,r)}function Fm(t,e=0,n=0){let r=e,s=new Map,i=t instanceof ct?t.nodes.find(o=>o instanceof Ln):t;return i&&i.children.filter(o=>o instanceof yo).forEach((o,a)=>{let l=bl(r+a,n);Yi(s,o.name,l)}),s}function Bo(t={},e){let n={};return t&&Object.keys(t).length&&Object.keys(t).forEach(r=>n[$o(r,e)]=t[r]),n}function $o(t,e=!0){let n=ix(t);if(!e)return n;let r=n.split("_");if(r.length===1)return t.toLowerCase();let s;/^\d+$/.test(r[r.length-1])&&(s=r.pop());let i=r.shift().toLowerCase();return r.length&&(i+=r.map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join("")),s?`${i}_${s}`:i}function Va(t){return`${ox}${t}`.toUpperCase()}function Bm(t){return new nt(t.name,void 0,lt,void 0,t.sourceSpan)}var dx=/[-.]/,Dp="_t",dt="ctx",Uo="rf",mx="_r",gx="$implicit",vx="ngNonBindable",$m="restoredCtx",iu="#context",yx=500,Ex=new Set([p.element,p.elementStart,p.elementEnd,p.elementContainer,p.elementContainerStart,p.elementContainerEnd,p.i18nExp,p.listener,p.classProp,p.syntheticHostListener,p.hostProperty,p.syntheticHostProperty,p.property,p.propertyInterpolate1,p.propertyInterpolate2,p.propertyInterpolate3,p.propertyInterpolate4,p.propertyInterpolate5,p.propertyInterpolate6,p.propertyInterpolate7,p.propertyInterpolate8,p.propertyInterpolateV,p.attribute,p.attributeInterpolate1,p.attributeInterpolate2,p.attributeInterpolate3,p.attributeInterpolate4,p.attributeInterpolate5,p.attributeInterpolate6,p.attributeInterpolate7,p.attributeInterpolate8,p.attributeInterpolateV,p.styleProp,p.stylePropInterpolate1,p.stylePropInterpolate2,p.stylePropInterpolate3,p.stylePropInterpolate4,p.stylePropInterpolate5,p.stylePropInterpolate6,p.stylePropInterpolate7,p.stylePropInterpolate8,p.stylePropInterpolateV,p.textInterpolate,p.textInterpolate1,p.textInterpolate2,p.textInterpolate3,p.textInterpolate4,p.textInterpolate5,p.textInterpolate6,p.textInterpolate7,p.textInterpolate8,p.textInterpolateV,p.templateCreate,p.twoWayProperty,p.twoWayListener]);function ps(t,e,n){return b(e,null,t).callFn(n,t)}function Um(t,e){let n=null;return()=>(n||(t(new nt(Dp,void 0,en)),n=P(e)),n)}function Ft(t){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${t.constructor.name}`)}function un(t){return Array.isArray(t)?W(t.map(un)):m(t,lt)}function Mf(t,e){let n=Object.getOwnPropertyNames(t);return n.length===0?null:Fe(n.map(r=>{let s=t[r],i,o,a,l;if(typeof s=="string")i=r,a=r,o=s,l=un(o);else{a=r,i=s.classPropertyName,o=s.bindingPropertyName;let c=o!==i,u=s.transformFunction!==null,h=null;if(s.isSignal&&(h=Of(Zr.SignalBased,h)),u&&(h=Of(Zr.HasDecoratorInputTransform,h)),e&&(c||u||h!==null)){let g=[h??b(p.InputFlags).prop(Zr[Zr.None]),un(o)];(c||u)&&(g.push(un(i)),u&&g.push(s.transformFunction)),l=W(g)}else l=un(o)}return{key:a,quoted:dx.test(a),value:l}}))}function Lf(t){return b(p.InputFlags).prop(Zr[t])}function Of(t,e){return e===null?Lf(t):Lf(t).bitwiseOr(e)}function $s(t){for(;bp(t[t.length-1]);)t.pop();return t}var Mr=class{constructor(){this.values=[]}set(e,n){if(n){let r=this.values.find(s=>s.key===e);r?r.value=n:this.values.push({key:e,value:n,quoted:!1})}}toLiteralMap(){return Fe(this.values)}};function _p(t){let e=t instanceof oe?t.name:"ng-template",n=Sx(t),r=new mn,s=Et(e)[1];return r.setElement(s),Object.getOwnPropertyNames(n).forEach(i=>{let o=Et(i)[1],a=n[i];r.addAttribute(o,a),i.toLowerCase()==="class"&&a.trim().split(/\s+/).forEach(c=>r.addClassName(c))}),r}function Sx(t){let e={};return t instanceof ce&&t.tagName!=="ng-template"?t.templateAttrs.forEach(n=>e[n.name]=""):(t.attributes.forEach(n=>{Om(n.name)||(e[n.name]=n.value)}),t.inputs.forEach(n=>{(n.type===0||n.type===5)&&(e[n.name]="")}),t.outputs.forEach(n=>{e[n.name]=""})),e}function As(t){let{expressions:e,strings:n}=t;return e.length===1&&n.length===2&&n[0]===""&&n[1]===""?1:e.length+n.length}function qa(t){let e=[],n=null,r=null,s=0;for(let i of t){let o=(typeof i.paramsOrFn=="function"?i.paramsOrFn():i.paramsOrFn)??[],a=Array.isArray(o)?o:[o];s<yx&&r===i.reference&&Ex.has(r)?(n=n.callFn(a,n.sourceSpan),s++):(n!==null&&e.push(n.toStmt()),n=ps(i.span,i.reference,a),r=i.reference,s=0)}return n!==null&&e.push(n.toStmt()),e}function ou(t,e){let n=null,r={name:t.name,type:t.type,typeArgumentCount:t.typeArgumentCount,deps:[],target:vt.Injectable};if(t.useClass!==void 0){let a=t.useClass.expression.isEquivalent(t.type.value),l;t.deps!==void 0&&(l=t.deps),l!==void 0?n=Tr({...r,delegate:t.useClass.expression,delegateDeps:l,delegateType:ho.Class}):a?n=Tr(r):n={statements:[],expression:Ff(t.type.value,t.useClass.expression,e)}}else t.useFactory!==void 0?t.deps!==void 0?n=Tr({...r,delegate:t.useFactory,delegateDeps:t.deps||[],delegateType:ho.Function}):n={statements:[],expression:We([],t.useFactory.callFn([]))}:t.useValue!==void 0?n=Tr({...r,expression:t.useValue.expression}):t.useExisting!==void 0?n=Tr({...r,expression:b(p.inject).callFn([t.useExisting.expression])}):n={statements:[],expression:Ff(t.type.value,t.type.value,e)};let s=t.type.value,i=new Mr;return i.set("token",s),i.set("factory",n.expression),t.providedIn.expression.value!==null&&i.set("providedIn",Xw(t.providedIn)),{expression:b(p.\u0275\u0275defineInjectable).callFn([i.toLiteralMap()],void 0,!0),type:wx(t),statements:n.statements}}function wx(t){return new yt(b(p.InjectableDeclaration,[Al(t.type.type,t.typeArgumentCount)]))}function Ff(t,e,n){if(t.node===e.node)return e.prop("\u0275fac");if(!n)return Bf(e);let r=b(p.resolveForwardRef).callFn([e]);return Bf(r)}function Bf(t){return We([new me("t",en)],t.prop("\u0275fac").callFn([P("t")]))}var xx=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function Tx(t,e){if(e!=null&&!(Array.isArray(e)&&e.length==2))throw new Error(`Expected '${t}' to be an array, [start, end].`);if(e!=null){let n=e[0],r=e[1];xx.forEach(s=>{if(s.test(n)||s.test(r))throw new Error(`['${n}', '${r}'] contains unusable interpolation symbol.`)})}}var So=class t{static fromArray(e){return e?(Tx("interpolation",e),new t(e[0],e[1])):Wt}constructor(e,n){this.start=e,this.end=n}},Wt=new So("{{","}}"),Ix=new Set(["switch"]),mt=0,Cx=8,Rp=9,rs=10,Vm=11,qm=12,Pp=13,Gm=32,au=33,wo=34,Hm=35,Wm=36,Ax=37,Ga=38,xo=39,Zn=40,pn=41,bx=42,jm=43,Kt=44,Ha=45,Ws=46,Kn=47,Ir=58,hn=59,zs=60,Xs=61,xr=62,$f=63,kp=48,Nx=55,Km=57,Pi=65,Dx=69,_x=70,Rx=88,Nl=90,ni=91,Wa=92,Ys=93,Px=94,Dl=95,hs=97,kx=98,Mx=101,Mp=102,zm=110,Xm=114,Ym=116,Qm=117,Jm=118,Zm=120,Vo=122,kn=123,Uf=124,Nt=125,eg=160;var Vf=64,Lx=96;function _l(t){return t>=Rp&&t<=Gm||t==eg}function jn(t){return kp<=t&&t<=Km}function Rl(t){return t>=hs&&t<=Vo||t>=Pi&&t<=Nl}function Ox(t){return t>=hs&&t<=Mp||t>=Pi&&t<=_x||jn(t)}function tg(t){return t===rs||t===Pp}function qf(t){return kp<=t&&t<=Nx}function ja(t){return t===xo||t===wo||t===Lx}var fs=class t{constructor(e,n,r,s){this.file=e,this.offset=n,this.line=r,this.col=s}toString(){return this.offset!=null?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){let n=this.file.content,r=n.length,s=this.offset,i=this.line,o=this.col;for(;s>0&&e<0;)if(s--,e++,n.charCodeAt(s)==rs){i--;let l=n.substring(0,s-1).lastIndexOf(String.fromCharCode(rs));o=l>0?s-l:s}else o--;for(;s<r&&e>0;){let a=n.charCodeAt(s);s++,e--,a==rs?(i++,o=0):o++}return new t(this.file,s,i,o)}getContext(e,n){let r=this.file.content,s=this.offset;if(s!=null){s>r.length-1&&(s=r.length-1);let i=s,o=0,a=0;for(;o<e&&s>0&&(s--,o++,!(r[s]==`
`&&++a==n)););for(o=0,a=0;o<e&&i<r.length-1&&(i++,o++,!(r[i]==`
`&&++a==n)););return{before:r.substring(s,this.offset),after:r.substring(this.offset,i+1)}}return null}},ds=class{constructor(e,n){this.content=e,this.url=n}},K=class{constructor(e,n,r=e,s=null){this.start=e,this.end=n,this.fullStart=r,this.details=s}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}},Yn;(function(t){t[t.WARNING=0]="WARNING",t[t.ERROR=1]="ERROR"})(Yn||(Yn={}));var z=class{constructor(e,n,r=Yn.ERROR){this.span=e,this.msg=n,this.level=r}contextualMessage(){let e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${Yn[this.level]} ->]${e.after}")`:this.msg}toString(){let e=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}};function Fx(t,e,n){let r=`in ${t} ${e} in ${n}`,s=new ds("",r);return new K(new fs(s,-1,-1,-1),new fs(s,-1,-1,-1))}var Bx=0;function $x(t){if(!t||!t.reference)return null;let e=t.reference;if(e.__anonymousType)return e.__anonymousType;if(e.__forward_ref__)return"__forward_ref__";let n=_m(e);return n.indexOf("(")>=0?(n=`anonymous_${Bx++}`,e.__anonymousType=n):n=On(n),n}function On(t){return t.replace(/\W/g,"_")}var Gf='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})',lu=class extends zc{constructor(){super(!1)}visitWrappedNodeExpr(e,n){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitDeclareVarStmt(e,n){return n.print(e,`var ${e.name}`),e.value&&(n.print(e," = "),e.value.visitExpression(this,n)),n.println(e,";"),null}visitTaggedTemplateExpr(e,n){let r=e.template.elements;return e.tag.visitExpression(this,n),n.print(e,`(${Gf}(`),n.print(e,`[${r.map(s=>es(s.text,!1)).join(", ")}], `),n.print(e,`[${r.map(s=>es(s.rawText,!1)).join(", ")}])`),e.template.expressions.forEach(s=>{n.print(e,", "),s.visitExpression(this,n)}),n.print(e,")"),null}visitFunctionExpr(e,n){return n.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,n),n.println(e,") {"),n.incIndent(),this.visitAllStatements(e.statements,n),n.decIndent(),n.print(e,"}"),null}visitArrowFunctionExpr(e,n){if(n.print(e,"("),this._visitParams(e.params,n),n.print(e,") =>"),Array.isArray(e.body))n.println(e,"{"),n.incIndent(),this.visitAllStatements(e.body,n),n.decIndent(),n.print(e,"}");else{let r=e.body instanceof Qt;r&&n.print(e,"("),e.body.visitExpression(this,n),r&&n.print(e,")")}return null}visitDeclareFunctionStmt(e,n){return n.print(e,`function ${e.name}(`),this._visitParams(e.params,n),n.println(e,") {"),n.incIndent(),this.visitAllStatements(e.statements,n),n.decIndent(),n.println(e,"}"),null}visitLocalizedString(e,n){n.print(e,`$localize(${Gf}(`);let r=[e.serializeI18nHead()];for(let s=1;s<e.messageParts.length;s++)r.push(e.serializeI18nTemplatePart(s));return n.print(e,`[${r.map(s=>es(s.cooked,!1)).join(", ")}], `),n.print(e,`[${r.map(s=>es(s.raw,!1)).join(", ")}])`),e.expressions.forEach(s=>{n.print(e,", "),s.visitExpression(this,n)}),n.print(e,")"),null}_visitParams(e,n){this.visitAllObjects(r=>n.print(null,r.name),e,n,",")}},ua;function Ux(){if(ua===void 0){let t=Qi.trustedTypes;if(ua=null,t)try{ua=t.createPolicy("angular#unsafe-jit",{createScript:e=>e})}catch{}}return ua}function Vx(t){return Ux()?.createScript(t)||t}function Hf(...t){if(!Qi.trustedTypes)return new Function(...t);let e=t.slice(0,-1).join(","),n=t[t.length-1],r=`(function anonymous(${e}
) { ${n}
})`,s=Qi.eval(Vx(r));return s.bind===void 0?new Function(...t):(s.toString=()=>r,s.bind(Qi))}var cu=class{evaluateStatements(e,n,r,s){let i=new uu(r),o=Kc.createRoot();return n.length>0&&!qx(n[0])&&(n=[m("use strict").toStmt(),...n]),i.visitAllStatements(n,o),i.createReturnStmt(o),this.evaluateCode(e,o,i.getArgs(),s)}evaluateCode(e,n,r,s){let i=`"use strict";${n.toSource()}
//# sourceURL=${e}`,o=[],a=[];for(let c in r)a.push(r[c]),o.push(c);if(s){let c=Hf(...o.concat("return null;")).toString(),u=c.slice(0,c.indexOf("return null;")).split(`
`).length-1;i+=`
${n.toSourceMapGenerator(e,u).toJsComment()}`}let l=Hf(...o.concat(i));return this.executeFunction(l,a)}executeFunction(e,n){return e(...n)}},uu=class extends lu{constructor(e){super(),this.refResolver=e,this._evalArgNames=[],this._evalArgValues=[],this._evalExportedVars=[]}createReturnStmt(e){new _e(new Qt(this._evalExportedVars.map(r=>new ls(r,P(r),!1)))).visitStatement(this,e)}getArgs(){let e={};for(let n=0;n<this._evalArgNames.length;n++)e[this._evalArgNames[n]]=this._evalArgValues[n];return e}visitExternalExpr(e,n){return this._emitReferenceToExternal(e,this.refResolver.resolveExternalReference(e.value),n),null}visitWrappedNodeExpr(e,n){return this._emitReferenceToExternal(e,e.node,n),null}visitDeclareVarStmt(e,n){return e.hasModifier(Le.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareVarStmt(e,n)}visitDeclareFunctionStmt(e,n){return e.hasModifier(Le.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareFunctionStmt(e,n)}_emitReferenceToExternal(e,n,r){let s=this._evalArgValues.indexOf(n);if(s===-1){s=this._evalArgValues.length,this._evalArgValues.push(n);let i=$x({reference:n})||"val";this._evalArgNames.push(`jit_${i}_${s}`)}r.print(e,this._evalArgNames[s])}};function qx(t){return t.isEquivalent(m("use strict").toStmt())}function pu(t){let e=new Mr;t.providers!==null&&e.set("providers",t.providers),t.imports.length>0&&e.set("imports",W(t.imports));let n=b(p.defineInjector).callFn([e.toLiteralMap()],void 0,!0),r=Gx(t);return{expression:n,type:r,statements:[]}}function Gx(t){return new yt(b(p.InjectorDeclaration,[new yt(t.type.type)]))}var hu=class{constructor(e){this.context=e}resolveExternalReference(e){if(e.moduleName!=="@angular/core")throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}},mi;(function(t){t[t.Inline=0]="Inline",t[t.SideEffect=1]="SideEffect",t[t.Omit=2]="Omit"})(mi||(mi={}));var Mn;(function(t){t[t.Global=0]="Global",t[t.Local=1]="Local"})(Mn||(Mn={}));function ng(t){let e=[],n=new Mr;if(n.set("type",t.type.value),t.kind===Mn.Global&&t.bootstrap.length>0&&n.set("bootstrap",ts(t.bootstrap,t.containsForwardDecls)),t.selectorScopeMode===mi.Inline)t.declarations.length>0&&n.set("declarations",ts(t.declarations,t.containsForwardDecls)),t.imports.length>0&&n.set("imports",ts(t.imports,t.containsForwardDecls)),t.exports.length>0&&n.set("exports",ts(t.exports,t.containsForwardDecls));else if(t.selectorScopeMode===mi.SideEffect){let i=jx(t);i!==null&&e.push(i)}t.schemas!==null&&t.schemas.length>0&&n.set("schemas",W(t.schemas.map(i=>i.value))),t.id!==null&&(n.set("id",t.id),e.push(b(p.registerNgModuleType).callFn([t.type.value,t.id]).toStmt()));let r=b(p.defineNgModule).callFn([n.toLiteralMap()],void 0,!0),s=Wx(t);return{expression:r,type:s,statements:e}}function Hx(t){let e=new Mr;return e.set("type",new V(t.type)),t.bootstrap!==void 0&&e.set("bootstrap",new V(t.bootstrap)),t.declarations!==void 0&&e.set("declarations",new V(t.declarations)),t.imports!==void 0&&e.set("imports",new V(t.imports)),t.exports!==void 0&&e.set("exports",new V(t.exports)),t.schemas!==void 0&&e.set("schemas",new V(t.schemas)),t.id!==void 0&&e.set("id",new V(t.id)),b(p.defineNgModule).callFn([e.toLiteralMap()])}function Wx(t){if(t.kind===Mn.Local)return new yt(t.type.value);let{type:e,declarations:n,exports:r,imports:s,includeImportTypes:i,publicDeclarationTypes:o}=t;return new yt(b(p.NgModuleDeclaration,[new yt(e.type),o===null?fc(n):Kx(o),i?fc(s):vn,fc(r)]))}function jx(t){let e=new Mr;if(t.kind===Mn.Global?t.declarations.length>0&&e.set("declarations",ts(t.declarations,t.containsForwardDecls)):t.declarationsExpression&&e.set("declarations",t.declarationsExpression),t.kind===Mn.Global?t.imports.length>0&&e.set("imports",ts(t.imports,t.containsForwardDecls)):t.importsExpression&&e.set("imports",t.importsExpression),t.kind===Mn.Global?t.exports.length>0&&e.set("exports",ts(t.exports,t.containsForwardDecls)):t.exportsExpression&&e.set("exports",t.exportsExpression),t.kind===Mn.Local&&t.bootstrapExpression&&e.set("bootstrap",t.bootstrapExpression),Object.keys(e.values).length===0)return null;let n=new et(b(p.setNgModuleScope),[t.type.value,e.toLiteralMap()]),r=Kw(n),s=new er([],[r.toStmt()]);return new et(s,[]).toStmt()}function fc(t){let e=t.map(n=>_i(n.type));return t.length>0?He(W(e)):vn}function Kx(t){let e=t.map(n=>_i(n));return t.length>0?He(W(e)):vn}function fu(t){let e=[];e.push({key:"name",value:m(t.pipeName),quoted:!1}),e.push({key:"type",value:t.type.value,quoted:!1}),e.push({key:"pure",value:m(t.pure),quoted:!1}),t.isStandalone&&e.push({key:"standalone",value:m(!0),quoted:!1});let n=b(p.definePipe).callFn([Fe(e)],void 0,!0),r=zx(t);return{expression:n,type:r,statements:[]}}function zx(t){return new yt(b(p.PipeDeclaration,[Al(t.type.type,t.typeArgumentCount),new yt(new Re(t.pipeName)),new yt(new Re(t.isStandalone))]))}var gi;(function(t){t[t.Directive=0]="Directive",t[t.Pipe=1]="Pipe",t[t.NgModule=2]="NgModule"})(gi||(gi={}));var To=class{constructor(e,n,r,s){this.input=n,this.errLocation=r,this.ctxLocation=s,this.message=`Parser Error: ${e} ${r} [${n}] in ${s}`}},ms=class{constructor(e,n){this.start=e,this.end=n}toAbsolute(e){return new Je(e+this.start,e+this.end)}},Ne=class{constructor(e,n){this.span=e,this.sourceSpan=n}toString(){return"AST"}},vi=class extends Ne{constructor(e,n,r){super(e,n),this.nameSpan=r}},Ve=class extends Ne{visit(e,n=null){}},xe=class extends Ne{visit(e,n=null){return e.visitImplicitReceiver(this,n)}},dn=class extends xe{visit(e,n=null){return e.visitThisReceiver?.(this,n)}},Lr=class extends Ne{constructor(e,n,r){super(e,n),this.expressions=r}visit(e,n=null){return e.visitChain(this,n)}},gs=class extends Ne{constructor(e,n,r,s,i){super(e,n),this.condition=r,this.trueExp=s,this.falseExp=i}visit(e,n=null){return e.visitConditional(this,n)}},de=class extends vi{constructor(e,n,r,s,i){super(e,n,r),this.receiver=s,this.name=i}visit(e,n=null){return e.visitPropertyRead(this,n)}},wn=class extends vi{constructor(e,n,r,s,i,o){super(e,n,r),this.receiver=s,this.name=i,this.value=o}visit(e,n=null){return e.visitPropertyWrite(this,n)}},Tt=class extends vi{constructor(e,n,r,s,i){super(e,n,r),this.receiver=s,this.name=i}visit(e,n=null){return e.visitSafePropertyRead(this,n)}},or=class extends Ne{constructor(e,n,r,s){super(e,n),this.receiver=r,this.key=s}visit(e,n=null){return e.visitKeyedRead(this,n)}},xn=class extends Ne{constructor(e,n,r,s){super(e,n),this.receiver=r,this.key=s}visit(e,n=null){return e.visitSafeKeyedRead(this,n)}},yi=class extends Ne{constructor(e,n,r,s,i){super(e,n),this.receiver=r,this.key=s,this.value=i}visit(e,n=null){return e.visitKeyedWrite(this,n)}},Un=class extends vi{constructor(e,n,r,s,i,o){super(e,n,o),this.exp=r,this.name=s,this.args=i}visit(e,n=null){return e.visitPipe(this,n)}},at=class extends Ne{constructor(e,n,r){super(e,n),this.value=r}visit(e,n=null){return e.visitLiteralPrimitive(this,n)}},vs=class extends Ne{constructor(e,n,r){super(e,n),this.expressions=r}visit(e,n=null){return e.visitLiteralArray(this,n)}},Ei=class extends Ne{constructor(e,n,r,s){super(e,n),this.keys=r,this.values=s}visit(e,n=null){return e.visitLiteralMap(this,n)}},be=class extends Ne{constructor(e,n,r,s){super(e,n),this.strings=r,this.expressions=s}visit(e,n=null){return e.visitInterpolation(this,n)}},ot=class extends Ne{constructor(e,n,r,s,i){super(e,n),this.operation=r,this.left=s,this.right=i}visit(e,n=null){return e.visitBinary(this,n)}},ar=class t extends ot{static createMinus(e,n,r){return new t(e,n,"-",r,"-",new at(e,n,0),r)}static createPlus(e,n,r){return new t(e,n,"+",r,"-",r,new at(e,n,0))}constructor(e,n,r,s,i,o,a){super(e,n,i,o,a),this.operator=r,this.expr=s,this.left=null,this.right=null,this.operation=null}visit(e,n=null){return e.visitUnary!==void 0?e.visitUnary(this,n):e.visitBinary(this,n)}},ys=class extends Ne{constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitPrefixNot(this,n)}},Es=class extends Ne{constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitNonNullAssert(this,n)}},kt=class extends Ne{constructor(e,n,r,s,i){super(e,n),this.receiver=r,this.args=s,this.argumentSpan=i}visit(e,n=null){return e.visitCall(this,n)}},Tn=class extends Ne{constructor(e,n,r,s,i){super(e,n),this.receiver=r,this.args=s,this.argumentSpan=i}visit(e,n=null){return e.visitSafeCall(this,n)}},Je=class{constructor(e,n){this.start=e,this.end=n}},Me=class extends Ne{constructor(e,n,r,s,i){super(new ms(0,n===null?0:n.length),new Je(s,n===null?s:s+n.length)),this.ast=e,this.source=n,this.location=r,this.errors=i}visit(e,n=null){return e.visitASTWithSource?e.visitASTWithSource(this,n):this.ast.visit(e,n)}toString(){return`${this.source} in ${this.location}`}},Io=class{constructor(e,n,r){this.sourceSpan=e,this.key=n,this.value=r}},du=class{constructor(e,n,r){this.sourceSpan=e,this.key=n,this.value=r}},Or=class{visit(e,n){e.visit(this,n)}visitUnary(e,n){this.visit(e.expr,n)}visitBinary(e,n){this.visit(e.left,n),this.visit(e.right,n)}visitChain(e,n){this.visitAll(e.expressions,n)}visitConditional(e,n){this.visit(e.condition,n),this.visit(e.trueExp,n),this.visit(e.falseExp,n)}visitPipe(e,n){this.visit(e.exp,n),this.visitAll(e.args,n)}visitImplicitReceiver(e,n){}visitThisReceiver(e,n){}visitInterpolation(e,n){this.visitAll(e.expressions,n)}visitKeyedRead(e,n){this.visit(e.receiver,n),this.visit(e.key,n)}visitKeyedWrite(e,n){this.visit(e.receiver,n),this.visit(e.key,n),this.visit(e.value,n)}visitLiteralArray(e,n){this.visitAll(e.expressions,n)}visitLiteralMap(e,n){this.visitAll(e.values,n)}visitLiteralPrimitive(e,n){}visitPrefixNot(e,n){this.visit(e.expression,n)}visitNonNullAssert(e,n){this.visit(e.expression,n)}visitPropertyRead(e,n){this.visit(e.receiver,n)}visitPropertyWrite(e,n){this.visit(e.receiver,n),this.visit(e.value,n)}visitSafePropertyRead(e,n){this.visit(e.receiver,n)}visitSafeKeyedRead(e,n){this.visit(e.receiver,n),this.visit(e.key,n)}visitCall(e,n){this.visit(e.receiver,n),this.visitAll(e.args,n)}visitSafeCall(e,n){this.visit(e.receiver,n),this.visitAll(e.args,n)}visitAll(e,n){for(let r of e)this.visit(r,n)}},mu=class{visitImplicitReceiver(e,n){return e}visitThisReceiver(e,n){return e}visitInterpolation(e,n){return new be(e.span,e.sourceSpan,e.strings,this.visitAll(e.expressions))}visitLiteralPrimitive(e,n){return new at(e.span,e.sourceSpan,e.value)}visitPropertyRead(e,n){return new de(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name)}visitPropertyWrite(e,n){return new wn(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name,e.value.visit(this))}visitSafePropertyRead(e,n){return new Tt(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name)}visitLiteralArray(e,n){return new vs(e.span,e.sourceSpan,this.visitAll(e.expressions))}visitLiteralMap(e,n){return new Ei(e.span,e.sourceSpan,e.keys,this.visitAll(e.values))}visitUnary(e,n){switch(e.operator){case"+":return ar.createPlus(e.span,e.sourceSpan,e.expr.visit(this));case"-":return ar.createMinus(e.span,e.sourceSpan,e.expr.visit(this));default:throw new Error(`Unknown unary operator ${e.operator}`)}}visitBinary(e,n){return new ot(e.span,e.sourceSpan,e.operation,e.left.visit(this),e.right.visit(this))}visitPrefixNot(e,n){return new ys(e.span,e.sourceSpan,e.expression.visit(this))}visitNonNullAssert(e,n){return new Es(e.span,e.sourceSpan,e.expression.visit(this))}visitConditional(e,n){return new gs(e.span,e.sourceSpan,e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))}visitPipe(e,n){return new Un(e.span,e.sourceSpan,e.exp.visit(this),e.name,this.visitAll(e.args),e.nameSpan)}visitKeyedRead(e,n){return new or(e.span,e.sourceSpan,e.receiver.visit(this),e.key.visit(this))}visitKeyedWrite(e,n){return new yi(e.span,e.sourceSpan,e.receiver.visit(this),e.key.visit(this),e.value.visit(this))}visitCall(e,n){return new kt(e.span,e.sourceSpan,e.receiver.visit(this),this.visitAll(e.args),e.argumentSpan)}visitSafeCall(e,n){return new Tn(e.span,e.sourceSpan,e.receiver.visit(this),this.visitAll(e.args),e.argumentSpan)}visitAll(e){let n=[];for(let r=0;r<e.length;++r)n[r]=e[r].visit(this);return n}visitChain(e,n){return new Lr(e.span,e.sourceSpan,this.visitAll(e.expressions))}visitSafeKeyedRead(e,n){return new xn(e.span,e.sourceSpan,e.receiver.visit(this),e.key.visit(this))}},gu=class{visitImplicitReceiver(e,n){return e}visitThisReceiver(e,n){return e}visitInterpolation(e,n){let r=this.visitAll(e.expressions);return r!==e.expressions?new be(e.span,e.sourceSpan,e.strings,r):e}visitLiteralPrimitive(e,n){return e}visitPropertyRead(e,n){let r=e.receiver.visit(this);return r!==e.receiver?new de(e.span,e.sourceSpan,e.nameSpan,r,e.name):e}visitPropertyWrite(e,n){let r=e.receiver.visit(this),s=e.value.visit(this);return r!==e.receiver||s!==e.value?new wn(e.span,e.sourceSpan,e.nameSpan,r,e.name,s):e}visitSafePropertyRead(e,n){let r=e.receiver.visit(this);return r!==e.receiver?new Tt(e.span,e.sourceSpan,e.nameSpan,r,e.name):e}visitLiteralArray(e,n){let r=this.visitAll(e.expressions);return r!==e.expressions?new vs(e.span,e.sourceSpan,r):e}visitLiteralMap(e,n){let r=this.visitAll(e.values);return r!==e.values?new Ei(e.span,e.sourceSpan,e.keys,r):e}visitUnary(e,n){let r=e.expr.visit(this);if(r!==e.expr)switch(e.operator){case"+":return ar.createPlus(e.span,e.sourceSpan,r);case"-":return ar.createMinus(e.span,e.sourceSpan,r);default:throw new Error(`Unknown unary operator ${e.operator}`)}return e}visitBinary(e,n){let r=e.left.visit(this),s=e.right.visit(this);return r!==e.left||s!==e.right?new ot(e.span,e.sourceSpan,e.operation,r,s):e}visitPrefixNot(e,n){let r=e.expression.visit(this);return r!==e.expression?new ys(e.span,e.sourceSpan,r):e}visitNonNullAssert(e,n){let r=e.expression.visit(this);return r!==e.expression?new Es(e.span,e.sourceSpan,r):e}visitConditional(e,n){let r=e.condition.visit(this),s=e.trueExp.visit(this),i=e.falseExp.visit(this);return r!==e.condition||s!==e.trueExp||i!==e.falseExp?new gs(e.span,e.sourceSpan,r,s,i):e}visitPipe(e,n){let r=e.exp.visit(this),s=this.visitAll(e.args);return r!==e.exp||s!==e.args?new Un(e.span,e.sourceSpan,r,e.name,s,e.nameSpan):e}visitKeyedRead(e,n){let r=e.receiver.visit(this),s=e.key.visit(this);return r!==e.receiver||s!==e.key?new or(e.span,e.sourceSpan,r,s):e}visitKeyedWrite(e,n){let r=e.receiver.visit(this),s=e.key.visit(this),i=e.value.visit(this);return r!==e.receiver||s!==e.key||i!==e.value?new yi(e.span,e.sourceSpan,r,s,i):e}visitAll(e){let n=[],r=!1;for(let s=0;s<e.length;++s){let i=e[s],o=i.visit(this);n[s]=o,r=r||o!==i}return r?n:e}visitChain(e,n){let r=this.visitAll(e.expressions);return r!==e.expressions?new Lr(e.span,e.sourceSpan,r):e}visitCall(e,n){let r=e.receiver.visit(this),s=this.visitAll(e.args);return r!==e.receiver||s!==e.args?new kt(e.span,e.sourceSpan,r,s,e.argumentSpan):e}visitSafeCall(e,n){let r=e.receiver.visit(this),s=this.visitAll(e.args);return r!==e.receiver||s!==e.args?new Tn(e.span,e.sourceSpan,r,s,e.argumentSpan):e}visitSafeKeyedRead(e,n){let r=e.receiver.visit(this),s=e.key.visit(this);return r!==e.receiver||s!==e.key?new xn(e.span,e.sourceSpan,r,s):e}},Zi=class{constructor(e,n,r,s,i,o){this.name=e,this.expression=n,this.type=r,this.sourceSpan=s,this.keySpan=i,this.valueSpan=o,this.isLiteral=this.type===zn.LITERAL_ATTR,this.isAnimation=this.type===zn.ANIMATION}},zn;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.LITERAL_ATTR=1]="LITERAL_ATTR",t[t.ANIMATION=2]="ANIMATION",t[t.TWO_WAY=3]="TWO_WAY"})(zn||(zn={}));var Ka=class{constructor(e,n,r,s,i,o,a){this.name=e,this.targetOrPhase=n,this.type=r,this.handler=s,this.sourceSpan=i,this.handlerSpan=o,this.keySpan=a}},vu=class{constructor(e,n,r,s,i){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=s,this.valueSpan=i}},za=class{constructor(e,n,r,s,i,o,a,l){this.name=e,this.type=n,this.securityContext=r,this.value=s,this.unit=i,this.sourceSpan=o,this.keySpan=a,this.valueSpan=l}},Fr=class{static{this.event=P("$event")}};function Xx(t,e,n,r,s,i,o){t??=new Co(o);let a=new Ss(t,e,r,!1,s,i),l=[];Pl(og(n).visit(a,le.Statement),l),lg(a.temporaryCount,r,l),a.usesImplicitReceiver&&t.notifyImplicitReceiverUse();let c=l.length-1;if(c>=0){let u=l[c];u instanceof je&&(l[c]=new _e(u.expr))}return l}function Yx(t,e,n,r,s,i,o){t??=new Co(o);let a=new Ss(t,e,r,!1,s,i),l=og(n).visit(a,le.Statement);if(!(l instanceof je))throw new Error("Illegal state: unsupported expression in two-way action binding.");l=Qx(l.expr).toStmt();let c=[];return Pl(l,c),lg(a.temporaryCount,r,c),c.push(new _e(Fr.event)),i?.add(Fr.event.name),a.usesImplicitReceiver&&t.notifyImplicitReceiverUse(),c}function pa(t){return new Oe(p.twoWayBindingSet).callFn([t,Fr.event]).or(t.set(Fr.event))}function ha(t){return t instanceof tt||t instanceof yn}function Qx(t){if(ha(t))return pa(t);if(t instanceof ee&&ha(t.rhs))return new ee(t.operator,t.lhs,pa(t.rhs));if(t instanceof wt&&ha(t.falseCase))return new wt(t.condition,t.trueCase,pa(t.falseCase));if(t instanceof Fn){let e=t.condition;for(;;)if(e instanceof Fn)e=e.condition;else{if(ha(e))return pa(e);break}}throw new Error("Illegal state: unsupported expression in two-way action binding.")}function rg(t,e){return eT(t,e)}var yu=class{constructor(e,n){this.stmts=e,this.currValExpr=n}};function sg(t,e,n,r){t||(t=new Co);let s=new Ss(t,e,r,!1),i=n.visit(s,le.Expression),o=ig(s,r);return s.usesImplicitReceiver&&t.notifyImplicitReceiverUse(),new yu(o,i)}function Jx(t,e,n,r){let s=rg({createLiteralArrayConverter:()=>a=>W(a),createLiteralMapConverter:a=>l=>Fe(a.map((c,u)=>({key:c.key,value:l[u],quoted:c.quoted}))),createPipeConverter:()=>{throw new Error("Illegal State: Pipes are not allowed in this context")}},t),i=new Ss(e,n,r,!1),o=[];return Pl(s.visit(i,le.Statement),o),o}function Zx(t,e,n,r){let s=new Ss(t,e,r,!0),i=s.visitInterpolation(n,le.Expression);s.usesImplicitReceiver&&t.notifyImplicitReceiverUse();let o=ig(s,r),a=i.args;return{stmts:o,args:a}}function ig(t,e){let n=[];for(let r=0;r<t.temporaryCount;r++)n.push(ag(e,r));return n}function eT(t,e){let n=new Su(t);return e.visit(n)}function og(t){return rg({createLiteralArrayConverter:()=>n=>W(n),createLiteralMapConverter:n=>r=>{let s=n.map((i,o)=>({key:i.key,value:r[o],quoted:i.quoted}));return Fe(s)},createPipeConverter:n=>{throw new Error(`Illegal State: Actions are not allowed to contain pipes. Pipe: ${n}`)}},t)}function Eu(t,e){return`tmp_${t}_${e}`}function ag(t,e){return new nt(Eu(t,e))}function lg(t,e,n){for(let r=t-1;r>=0;r--)n.unshift(ag(e,r))}var le;(function(t){t[t.Statement=0]="Statement",t[t.Expression=1]="Expression"})(le||(le={}));function tT(t,e){if(t!==le.Statement)throw new Error(`Expected a statement, but saw ${e}`)}function Wf(t,e){if(t!==le.Expression)throw new Error(`Expected an expression, but saw ${e}`)}function ft(t,e){return t===le.Statement?e.toStmt():e}var Su=class extends mu{constructor(e){super(),this._converterFactory=e}visitPipe(e,n){let r=[e.exp,...e.args].map(s=>s.visit(this,n));return new br(e.span,e.sourceSpan,r,this._converterFactory.createPipeConverter(e.name,r.length))}visitLiteralArray(e,n){let r=e.expressions.map(s=>s.visit(this,n));return new br(e.span,e.sourceSpan,r,this._converterFactory.createLiteralArrayConverter(e.expressions.length))}visitLiteralMap(e,n){let r=e.values.map(s=>s.visit(this,n));return new br(e.span,e.sourceSpan,r,this._converterFactory.createLiteralMapConverter(e.keys))}},Ss=class{constructor(e,n,r,s,i,o){this._localResolver=e,this._implicitReceiver=n,this.bindingId=r,this.supportsInterpolation=s,this.baseSourceSpan=i,this.implicitReceiverAccesses=o,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0,this.usesImplicitReceiver=!1}visitUnary(e,n){let r;switch(e.operator){case"+":r=Yt.Plus;break;case"-":r=Yt.Minus;break;default:throw new Error(`Unsupported operator ${e.operator}`)}return ft(n,new nr(r,this._visit(e.expr,le.Expression),void 0,this.convertSourceSpan(e.span)))}visitBinary(e,n){let r;switch(e.operation){case"+":r=T.Plus;break;case"-":r=T.Minus;break;case"*":r=T.Multiply;break;case"/":r=T.Divide;break;case"%":r=T.Modulo;break;case"&&":r=T.And;break;case"||":r=T.Or;break;case"==":r=T.Equals;break;case"!=":r=T.NotEquals;break;case"===":r=T.Identical;break;case"!==":r=T.NotIdentical;break;case"<":r=T.Lower;break;case">":r=T.Bigger;break;case"<=":r=T.LowerEquals;break;case">=":r=T.BiggerEquals;break;case"??":return this.convertNullishCoalesce(e,n);default:throw new Error(`Unsupported operation ${e.operation}`)}return ft(n,new ee(r,this._visit(e.left,le.Expression),this._visit(e.right,le.Expression),void 0,this.convertSourceSpan(e.span)))}visitChain(e,n){return tT(n,e),this.visitAll(e.expressions,n)}visitConditional(e,n){let r=this._visit(e.condition,le.Expression);return ft(n,r.conditional(this._visit(e.trueExp,le.Expression),this._visit(e.falseExp,le.Expression),this.convertSourceSpan(e.span)))}visitPipe(e,n){throw new Error(`Illegal state: Pipes should have been converted into functions. Pipe: ${e.name}`)}visitImplicitReceiver(e,n){return Wf(n,e),this.usesImplicitReceiver=!0,this._implicitReceiver}visitThisReceiver(e,n){return this.visitImplicitReceiver(e,n)}visitInterpolation(e,n){if(!this.supportsInterpolation)throw new Error("Unexpected interpolation");Wf(n,e);let r=[];for(let i=0;i<e.strings.length-1;i++)r.push(m(e.strings[i])),r.push(this._visit(e.expressions[i],le.Expression));r.push(m(e.strings[e.strings.length-1]));let s=e.strings;return s.length===2&&s[0]===""&&s[1]===""?r=[r[1]]:e.expressions.length>=9&&(r=[W(r)]),new wu(r)}visitKeyedRead(e,n){let r=this.leftMostSafeNode(e);return r?this.convertSafeAccess(e,r,n):ft(n,this._visit(e.receiver,le.Expression).key(this._visit(e.key,le.Expression)))}visitKeyedWrite(e,n){let r=this._visit(e.receiver,le.Expression),s=this._visit(e.key,le.Expression),i=this._visit(e.value,le.Expression);return r===this._implicitReceiver&&this._localResolver.maybeRestoreView(),ft(n,r.key(s).set(i))}visitLiteralArray(e,n){throw new Error("Illegal State: literal arrays should have been converted into functions")}visitLiteralMap(e,n){throw new Error("Illegal State: literal maps should have been converted into functions")}visitLiteralPrimitive(e,n){let r=e.value===null||e.value===void 0||e.value===!0||e.value===!0?lt:void 0;return ft(n,m(e.value,r,this.convertSourceSpan(e.span)))}_getLocal(e,n){return this._localResolver.globals?.has(e)&&n instanceof dn?null:this._localResolver.getLocal(e)}visitPrefixNot(e,n){return ft(n,Ap(this._visit(e.expression,le.Expression)))}visitNonNullAssert(e,n){return ft(n,this._visit(e.expression,le.Expression))}visitPropertyRead(e,n){let r=this.leftMostSafeNode(e);if(r)return this.convertSafeAccess(e,r,n);{let s=null,i=this.usesImplicitReceiver,o=this._visit(e.receiver,le.Expression);return o===this._implicitReceiver&&(s=this._getLocal(e.name,e.receiver),s&&(this.usesImplicitReceiver=i,this.addImplicitReceiverAccess(e.name))),s==null&&(s=o.prop(e.name,this.convertSourceSpan(e.span))),ft(n,s)}}visitPropertyWrite(e,n){let r=this._visit(e.receiver,le.Expression),s=this.usesImplicitReceiver,i=null;if(r===this._implicitReceiver){let o=this._getLocal(e.name,e.receiver);if(o)if(o instanceof tt)i=o,this.usesImplicitReceiver=s,this.addImplicitReceiverAccess(e.name);else{let a=e.name,l=e.value instanceof de?e.value.name:void 0;throw new Error(`Cannot assign value "${l}" to template variable "${a}". Template variables are read-only.`)}}return i===null&&(i=r.prop(e.name,this.convertSourceSpan(e.span))),ft(n,i.set(this._visit(e.value,le.Expression)))}visitSafePropertyRead(e,n){return this.convertSafeAccess(e,this.leftMostSafeNode(e),n)}visitSafeKeyedRead(e,n){return this.convertSafeAccess(e,this.leftMostSafeNode(e),n)}visitAll(e,n){return e.map(r=>this._visit(r,n))}visitCall(e,n){let r=this.leftMostSafeNode(e);if(r)return this.convertSafeAccess(e,r,n);let s=this.visitAll(e.args,le.Expression);if(e instanceof br)return ft(n,e.converter(s));let i=e.receiver;if(i instanceof de&&i.receiver instanceof xe&&!(i.receiver instanceof dn)&&i.name==="$any"){if(s.length!==1)throw new Error(`Invalid call to $any, expected 1 argument but received ${s.length||"none"}`);return ft(n,s[0])}let o=this._visit(i,le.Expression).callFn(s,this.convertSourceSpan(e.span));return ft(n,o)}visitSafeCall(e,n){return this.convertSafeAccess(e,this.leftMostSafeNode(e),n)}_visit(e,n){let r=this._resultMap.get(e);return r||(this._nodeMap.get(e)||e).visit(this,n)}convertSafeAccess(e,n,r){let s=this._visit(n.receiver,le.Expression),i;this.needsTemporaryInSafeAccess(n.receiver)&&(i=this.allocateTemporary(),s=i.set(s),this._resultMap.set(n.receiver,i));let o=s.isBlank();n instanceof Tn?this._nodeMap.set(n,new kt(n.span,n.sourceSpan,n.receiver,n.args,n.argumentSpan)):n instanceof xn?this._nodeMap.set(n,new or(n.span,n.sourceSpan,n.receiver,n.key)):this._nodeMap.set(n,new de(n.span,n.sourceSpan,n.nameSpan,n.receiver,n.name));let a=this._visit(e,le.Expression);return this._nodeMap.delete(n),i&&this.releaseTemporary(i),ft(r,o.conditional(_r,a))}convertNullishCoalesce(e,n){let r=this._visit(e.left,le.Expression),s=this._visit(e.right,le.Expression),i=this.allocateTemporary();return this.releaseTemporary(i),ft(n,i.set(r).notIdentical(_r).and(i.notIdentical(m(void 0))).conditional(i,s))}leftMostSafeNode(e){let n=(r,s)=>(this._nodeMap.get(s)||s).visit(r);return e.visit({visitUnary(r){return null},visitBinary(r){return null},visitChain(r){return null},visitConditional(r){return null},visitCall(r){return n(this,r.receiver)},visitSafeCall(r){return n(this,r.receiver)||r},visitImplicitReceiver(r){return null},visitThisReceiver(r){return null},visitInterpolation(r){return null},visitKeyedRead(r){return n(this,r.receiver)},visitKeyedWrite(r){return null},visitLiteralArray(r){return null},visitLiteralMap(r){return null},visitLiteralPrimitive(r){return null},visitPipe(r){return null},visitPrefixNot(r){return null},visitNonNullAssert(r){return n(this,r.expression)},visitPropertyRead(r){return n(this,r.receiver)},visitPropertyWrite(r){return null},visitSafePropertyRead(r){return n(this,r.receiver)||r},visitSafeKeyedRead(r){return n(this,r.receiver)||r}})}needsTemporaryInSafeAccess(e){let n=(s,i)=>i&&(this._nodeMap.get(i)||i).visit(s),r=(s,i)=>i.some(o=>n(s,o));return e.visit({visitUnary(s){return n(this,s.expr)},visitBinary(s){return n(this,s.left)||n(this,s.right)},visitChain(s){return!1},visitConditional(s){return n(this,s.condition)||n(this,s.trueExp)||n(this,s.falseExp)},visitCall(s){return!0},visitSafeCall(s){return!0},visitImplicitReceiver(s){return!1},visitThisReceiver(s){return!1},visitInterpolation(s){return r(this,s.expressions)},visitKeyedRead(s){return!1},visitKeyedWrite(s){return!1},visitLiteralArray(s){return!0},visitLiteralMap(s){return!0},visitLiteralPrimitive(s){return!1},visitPipe(s){return!0},visitPrefixNot(s){return n(this,s.expression)},visitNonNullAssert(s){return n(this,s.expression)},visitPropertyRead(s){return!1},visitPropertyWrite(s){return!1},visitSafePropertyRead(s){return!1},visitSafeKeyedRead(s){return!1}})}allocateTemporary(){let e=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new Pt(Eu(this.bindingId,e))}releaseTemporary(e){if(this._currentTemporary--,e.name!=Eu(this.bindingId,this._currentTemporary))throw new Error(`Temporary ${e.name} released out of order`)}convertSourceSpan(e){if(this.baseSourceSpan){let n=this.baseSourceSpan.start.moveBy(e.start),r=this.baseSourceSpan.start.moveBy(e.end),s=this.baseSourceSpan.fullStart.moveBy(e.start);return new K(n,r,s)}else return null}addImplicitReceiverAccess(e){this.implicitReceiverAccesses&&this.implicitReceiverAccesses.add(e)}};function Pl(t,e){Array.isArray(t)?t.forEach(n=>Pl(n,e)):e.push(t)}function fa(){throw new Error("Unsupported operation")}var wu=class extends ie{constructor(e){super(null,null),this.args=e,this.isConstant=fa,this.isEquivalent=fa,this.visitExpression=fa,this.clone=fa}},Co=class{constructor(e){this.globals=e}notifyImplicitReceiverUse(){}maybeRestoreView(){}getLocal(e){return e===Fr.event.name?Fr.event:null}},br=class extends kt{constructor(e,n,r,s){super(e,n,new Ve(e,n),r,null),this.converter=s}},Ta;function jf(){return Ta||(Ta={},da(ne.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),da(ne.STYLE,["*|style"]),da(ne.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","input|src","ins|cite","q|cite","source|src","track|src","video|poster","video|src"]),da(ne.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),Ta}function da(t,e){for(let n of e)Ta[n.toLowerCase()]=t}var nT=new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]);function Lp(t){return nT.has(t.toLowerCase())}var rT=new Set(["inherit","initial","revert","unset","alternate","alternate-reverse","normal","reverse","backwards","both","forwards","none","paused","running","ease","ease-in","ease-in-out","ease-out","linear","step-start","step-end","end","jump-both","jump-end","jump-none","jump-start","start"]),sT=["@media","@supports","@document","@layer","@container","@scope","@starting-style"],xu=class{constructor(){this._animationDeclarationKeyframesRe=/(^|\s+)(?:(?:(['"])((?:\\\\|\\\2|(?!\2).)+)\2)|(-?[A-Za-z][\w\-]*))(?=[,\s]|$)/g}shimCssText(e,n,r=""){let s=[];e=e.replace(mT,a=>{if(a.match(gT))s.push(a);else{let l=a.match(dT);s.push((l?.join("")??"")+`
`)}return Bp}),e=this._insertDirectives(e);let i=this._scopeCssText(e,n,r),o=0;return i.replace(vT,()=>s[o++])}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_scopeKeyframesRelatedCss(e,n){let r=new Set,s=ma(e,i=>this._scopeLocalKeyframeDeclarations(i,n,r));return ma(s,i=>this._scopeAnimationRule(i,n,r))}_scopeLocalKeyframeDeclarations(e,n,r){return{...e,selector:e.selector.replace(/(^@(?:-webkit-)?keyframes(?:\s+))(['"]?)(.+)\2(\s*)$/,(s,i,o,a,l)=>(r.add(Yf(a,o)),`${i}${o}${n}_${a}${o}${l}`))}}_scopeAnimationKeyframe(e,n,r){return e.replace(/^(\s*)(['"]?)(.+?)\2(\s*)$/,(s,i,o,a,l)=>(a=`${r.has(Yf(a,o))?n+"_":""}${a}`,`${i}${o}${a}${o}${l}`))}_scopeAnimationRule(e,n,r){let s=e.content.replace(/((?:^|\s+|;)(?:-webkit-)?animation(?:\s*):(?:\s*))([^;]+)/g,(i,o,a)=>o+a.replace(this._animationDeclarationKeyframesRe,(l,c,u="",h,d)=>h?`${c}${this._scopeAnimationKeyframe(`${u}${h}${u}`,n,r)}`:rT.has(d)?l:`${c}${this._scopeAnimationKeyframe(d,n,r)}`));return s=s.replace(/((?:^|\s+|;)(?:-webkit-)?animation-name(?:\s*):(?:\s*))([^;]+)/g,(i,o,a)=>`${o}${a.split(",").map(l=>this._scopeAnimationKeyframe(l,n,r)).join(",")}`),{...e,content:s}}_insertPolyfillDirectivesInCssText(e){return e.replace(iT,function(...n){return n[2]+"{"})}_insertPolyfillRulesInCssText(e){return e.replace(oT,(...n)=>{let r=n[0].replace(n[1],"").replace(n[2],"");return n[4]+r})}_scopeCssText(e,n,r){let s=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),n&&(e=this._scopeKeyframesRelatedCss(e,n),e=this._scopeSelectors(e,n,r)),e=e+`
`+s,e.trim()}_extractUnscopedRulesFromCssText(e){let n="",r;for(Kf.lastIndex=0;(r=Kf.exec(e))!==null;){let s=r[0].replace(r[2],"").replace(r[1],r[4]);n+=s+`

`}return n}_convertColonHost(e){return e.replace(aT,(n,r,s)=>{if(r){let i=[],o=r.split(",").map(a=>a.trim());for(let a of o){if(!a)break;let l=Qr+a.replace(Xa,"")+s;i.push(l)}return i.join(",")}else return Qr+s})}_convertColonHostContext(e){return e.replace(lT,n=>{let r=[[]],s;for(;s=cT.exec(n);){let i=(s[1]??"").trim().split(",").map(a=>a.trim()).filter(a=>a!==""),o=r.length;NT(r,i.length);for(let a=0;a<i.length;a++)for(let l=0;l<o;l++)r[l+a*o].push(i[a]);n=s[2]}return r.map(i=>bT(i,n)).join(", ")})}_convertShadowDOMSelectors(e){return uT.reduce((n,r)=>n.replace(r," "),e)}_scopeSelectors(e,n,r){return ma(e,s=>{let i=s.selector,o=s.content;return s.selector[0]!=="@"?i=this._scopeSelector(s.selector,n,r):sT.some(a=>s.selector.startsWith(a))?o=this._scopeSelectors(s.content,n,r):(s.selector.startsWith("@font-face")||s.selector.startsWith("@page"))&&(o=this._stripScopingSelectors(s.content)),new Ao(i,o)})}_stripScopingSelectors(e){return ma(e,n=>{let r=n.selector.replace(Xf," ").replace(zf," ");return new Ao(r,n.content)})}_scopeSelector(e,n,r){return e.split(",").map(s=>s.trim().split(Xf)).map(s=>{let[i,...o]=s;return[(l=>this._selectorNeedsScoping(l,n)?this._applySelectorScope(l,n,r):l)(i),...o].join(" ")}).join(", ")}_selectorNeedsScoping(e,n){return!this._makeScopeMatcher(n).test(e)}_makeScopeMatcher(e){let n=/\[/g,r=/\]/g;return e=e.replace(n,"\\[").replace(r,"\\]"),new RegExp("^("+e+")"+pT,"m")}_applySimpleSelectorScope(e,n,r){if(Qs.lastIndex=0,Qs.test(e)){let s=`[${r}]`;return e.replace(zf,(i,o)=>o.replace(/([^:]*)(:*)(.*)/,(a,l,c,u)=>l+s+c+u)).replace(Qs,s+" ")}return n+" "+e}_applySelectorScope(e,n,r){let s=/\[is=([^\]]*)\]/g;n=n.replace(s,(I,...x)=>x[0]);let i="["+n+"]",o=I=>{let x=I.trim();if(!x)return"";if(I.indexOf(Qr)>-1)x=this._applySimpleSelectorScope(I,n,r);else{let N=I.replace(Qs,"");if(N.length>0){let B=N.match(/([^:]*)(:*)(.*)/);B&&(x=B[1]+i+B[2]+B[3])}}return x},a=new Tu(e);e=a.content();let l="",c=0,u,h=/( |>|\+|~(?!=))\s*/g,g=!(e.indexOf(Qr)>-1);for(;(u=h.exec(e))!==null;){let I=u[1],x=e.slice(c,u.index).trim();if(x.match(/__esc-ph-(\d+)__/)&&e[u.index+1]?.match(/[a-fA-F\d]/))continue;g=g||x.indexOf(Qr)>-1;let N=g?o(x):x;l+=`${N} ${I} `,c=h.lastIndex}let v=e.substring(c);return g=g||v.indexOf(Qr)>-1,l+=g?o(v):v,a.restore(l)}_insertPolyfillHostInCssText(e){return e.replace(fT,Op).replace(hT,Xa)}},Tu=class{constructor(e){this.placeholders=[],this.index=0,e=this._escapeRegexMatches(e,/(\[[^\]]*\])/g),e=e.replace(/(\\.)/g,(n,r)=>{let s=`__esc-ph-${this.index}__`;return this.placeholders.push(r),this.index++,s}),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(n,r,s)=>{let i=`__ph-${this.index}__`;return this.placeholders.push(s),this.index++,r+i})}restore(e){return e.replace(/__(?:ph|esc-ph)-(\d+)__/g,(n,r)=>this.placeholders[+r])}content(){return this._content}_escapeRegexMatches(e,n){return e.replace(n,(r,s)=>{let i=`__ph-${this.index}__`;return this.placeholders.push(s),this.index++,i})}},iT=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,oT=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Kf=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Xa="-shadowcsshost",Op="-shadowcsscontext",Fp="(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",aT=new RegExp(Xa+Fp,"gim"),lT=new RegExp(Op+Fp,"gim"),cT=new RegExp(Op+Fp,"im"),Qr=Xa+"-no-combinator",zf=/-shadowcsshost-no-combinator([^\s]*)/,uT=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],Xf=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,pT="([>\\s~+[.,{:][\\s\\S]*)?$",Qs=/-shadowcsshost/gim,hT=/:host/gim,fT=/:host-context/gim,dT=/\r?\n/g,mT=/\/\*[\s\S]*?\*\//g,gT=/\/\*\s*#\s*source(Mapping)?URL=/g,Bp="%COMMENT%",vT=new RegExp(Bp,"g"),dc="%BLOCK%",yT=new RegExp(`(\\s*(?:${Bp}\\s*)*)([^;\\{\\}]+?)(\\s*)((?:{%BLOCK%}?\\s*;?)|(?:\\s*;))`,"g"),ET=new Map([["{","}"]]),cg="%COMMA_IN_PLACEHOLDER%",ug="%SEMI_IN_PLACEHOLDER%",pg="%COLON_IN_PLACEHOLDER%",ST=new RegExp(cg,"g"),wT=new RegExp(ug,"g"),xT=new RegExp(pg,"g"),Ao=class{constructor(e,n){this.selector=e,this.content=n}};function ma(t,e){let n=CT(t),r=TT(n,ET,dc),s=0,i=r.escapedString.replace(yT,(...o)=>{let a=o[2],l="",c=o[4],u="";c&&c.startsWith("{"+dc)&&(l=r.blocks[s++],c=c.substring(dc.length+1),u="{");let h=e(new Ao(a,l));return`${o[1]}${h.selector}${o[3]}${u}${h.content}${c}`});return AT(i)}var Iu=class{constructor(e,n){this.escapedString=e,this.blocks=n}};function TT(t,e,n){let r=[],s=[],i=0,o=0,a=-1,l,c;for(let u=0;u<t.length;u++){let h=t[u];h==="\\"?u++:h===c?(i--,i===0&&(s.push(t.substring(a,u)),r.push(n),o=u,a=-1,l=c=void 0)):h===l?i++:i===0&&e.has(h)&&(l=h,c=e.get(h),i=1,a=u+1,r.push(t.substring(o,a)))}return a!==-1?(s.push(t.substring(a)),r.push(n)):r.push(t.substring(o)),new Iu(r.join(""),s)}var IT={";":ug,",":cg,":":pg};function CT(t){let e=t,n=null;for(let r=0;r<e.length;r++){let s=e[r];if(s==="\\")r++;else if(n!==null)if(s===n)n=null;else{let i=IT[s];i&&(e=`${e.substr(0,r)}${i}${e.substr(r+1)}`,r+=i.length-1)}else(s==="'"||s==='"')&&(n=s)}return e}function AT(t){let e=t.replace(ST,",");return e=e.replace(wT,";"),e=e.replace(xT,":"),e}function Yf(t,e){return e?t.replace(/((?:^|[^\\])(?:\\\\)*)\\(?=['"])/g,"$1"):t}function bT(t,e){let n=Qr;Qs.lastIndex=0;let r=Qs.test(e);if(t.length===0)return n+e;let s=[t.pop()||""];for(;t.length>0;){let i=s.length,o=t.pop();for(let a=0;a<i;a++){let l=s[a];s[i*2+a]=l+" "+o,s[i+a]=o+" "+l,s[a]=o+l}}return s.map(i=>r?`${i}${e}`:`${i}${n}${e}, ${i} ${n}${e}`).join(",")}function NT(t,e){let n=t.length;for(let r=1;r<e;r++)for(let s=0;s<n;s++)t[s+r*n]=t[s].slice(0)}var f;(function(t){t[t.ListEnd=0]="ListEnd",t[t.Statement=1]="Statement",t[t.Variable=2]="Variable",t[t.ElementStart=3]="ElementStart",t[t.Element=4]="Element",t[t.Template=5]="Template",t[t.ElementEnd=6]="ElementEnd",t[t.ContainerStart=7]="ContainerStart",t[t.Container=8]="Container",t[t.ContainerEnd=9]="ContainerEnd",t[t.DisableBindings=10]="DisableBindings",t[t.Conditional=11]="Conditional",t[t.EnableBindings=12]="EnableBindings",t[t.Text=13]="Text",t[t.Listener=14]="Listener",t[t.InterpolateText=15]="InterpolateText",t[t.Binding=16]="Binding",t[t.Property=17]="Property",t[t.StyleProp=18]="StyleProp",t[t.ClassProp=19]="ClassProp",t[t.StyleMap=20]="StyleMap",t[t.ClassMap=21]="ClassMap",t[t.Advance=22]="Advance",t[t.Pipe=23]="Pipe",t[t.Attribute=24]="Attribute",t[t.ExtractedAttribute=25]="ExtractedAttribute",t[t.Defer=26]="Defer",t[t.DeferOn=27]="DeferOn",t[t.DeferWhen=28]="DeferWhen",t[t.I18nMessage=29]="I18nMessage",t[t.HostProperty=30]="HostProperty",t[t.Namespace=31]="Namespace",t[t.ProjectionDef=32]="ProjectionDef",t[t.Projection=33]="Projection",t[t.RepeaterCreate=34]="RepeaterCreate",t[t.Repeater=35]="Repeater",t[t.TwoWayProperty=36]="TwoWayProperty",t[t.TwoWayListener=37]="TwoWayListener",t[t.I18nStart=38]="I18nStart",t[t.I18n=39]="I18n",t[t.I18nEnd=40]="I18nEnd",t[t.I18nExpression=41]="I18nExpression",t[t.I18nApply=42]="I18nApply",t[t.IcuStart=43]="IcuStart",t[t.IcuEnd=44]="IcuEnd",t[t.IcuPlaceholder=45]="IcuPlaceholder",t[t.I18nContext=46]="I18nContext",t[t.I18nAttributes=47]="I18nAttributes"})(f||(f={}));var U;(function(t){t[t.LexicalRead=0]="LexicalRead",t[t.Context=1]="Context",t[t.TrackContext=2]="TrackContext",t[t.ReadVariable=3]="ReadVariable",t[t.NextContext=4]="NextContext",t[t.Reference=5]="Reference",t[t.GetCurrentView=6]="GetCurrentView",t[t.RestoreView=7]="RestoreView",t[t.ResetView=8]="ResetView",t[t.PureFunctionExpr=9]="PureFunctionExpr",t[t.PureFunctionParameterExpr=10]="PureFunctionParameterExpr",t[t.PipeBinding=11]="PipeBinding",t[t.PipeBindingVariadic=12]="PipeBindingVariadic",t[t.SafePropertyRead=13]="SafePropertyRead",t[t.SafeKeyedRead=14]="SafeKeyedRead",t[t.SafeInvokeFunction=15]="SafeInvokeFunction",t[t.SafeTernaryExpr=16]="SafeTernaryExpr",t[t.EmptyExpr=17]="EmptyExpr",t[t.AssignTemporaryExpr=18]="AssignTemporaryExpr",t[t.ReadTemporaryExpr=19]="ReadTemporaryExpr",t[t.SlotLiteralExpr=20]="SlotLiteralExpr",t[t.ConditionalCase=21]="ConditionalCase",t[t.ConstCollected=22]="ConstCollected",t[t.TwoWayBindingSet=23]="TwoWayBindingSet"})(U||(U={}));var fn;(function(t){t[t.None=0]="None",t[t.AlwaysInline=1]="AlwaysInline"})(fn||(fn={}));var Ge;(function(t){t[t.Context=0]="Context",t[t.Identifier=1]="Identifier",t[t.SavedView=2]="SavedView",t[t.Alias=3]="Alias"})(Ge||(Ge={}));var Mt;(function(t){t[t.Normal=0]="Normal",t[t.TemplateDefinitionBuilder=1]="TemplateDefinitionBuilder"})(Mt||(Mt={}));var F;(function(t){t[t.Attribute=0]="Attribute",t[t.ClassName=1]="ClassName",t[t.StyleProperty=2]="StyleProperty",t[t.Property=3]="Property",t[t.Template=4]="Template",t[t.I18n=5]="I18n",t[t.Animation=6]="Animation",t[t.TwoWayProperty=7]="TwoWayProperty"})(F||(F={}));var Si;(function(t){t[t.Creation=0]="Creation",t[t.Postproccessing=1]="Postproccessing"})(Si||(Si={}));var ws;(function(t){t[t.I18nText=0]="I18nText",t[t.I18nAttribute=1]="I18nAttribute"})(ws||(ws={}));var fe;(function(t){t[t.None=0]="None",t[t.ElementTag=1]="ElementTag",t[t.TemplateTag=2]="TemplateTag",t[t.OpenTag=4]="OpenTag",t[t.CloseTag=8]="CloseTag",t[t.ExpressionIndex=16]="ExpressionIndex"})(fe||(fe={}));var Ze;(function(t){t[t.HTML=0]="HTML",t[t.SVG=1]="SVG",t[t.Math=2]="Math"})(Ze||(Ze={}));var ye;(function(t){t[t.Idle=0]="Idle",t[t.Immediate=1]="Immediate",t[t.Timer=2]="Timer",t[t.Hover=3]="Hover",t[t.Interaction=4]="Interaction",t[t.Viewport=5]="Viewport"})(ye||(ye={}));var Cr;(function(t){t[t.RootI18n=0]="RootI18n",t[t.Icu=1]="Icu",t[t.Attr=2]="Attr"})(Cr||(Cr={}));var Rt;(function(t){t[t.NgTemplate=0]="NgTemplate",t[t.Structural=1]="Structural",t[t.Block=2]="Block"})(Rt||(Rt={}));var hg=Symbol("ConsumesSlot"),fg=Symbol("DependsOnSlotContext"),qo=Symbol("ConsumesVars"),kl=Symbol("UsesVarOffset"),pr={[hg]:!0,numSlotsUsed:1},tn={[fg]:!0},Vt={[qo]:!0};function ki(t){return t[hg]===!0}function $p(t){return t[fg]===!0}function mc(t){return t[qo]===!0}function Qf(t){return t[kl]===!0}function Vn(t){return{kind:f.Statement,statement:t,...J}}function Js(t,e,n,r){return{kind:f.Variable,xref:t,variable:e,initializer:n,flags:r,...J}}var J={debugListId:null,prev:null,next:null};function DT(t,e,n){return{kind:f.InterpolateText,target:t,interpolation:e,sourceSpan:n,...tn,...Vt,...J}}var ke=class{constructor(e,n,r){if(this.strings=e,this.expressions=n,this.i18nPlaceholders=r,r.length!==0&&r.length!==n.length)throw new Error(`Expected ${n.length} placeholders to match interpolation expression count, but got ${r.length}`)}};function xs(t,e,n,r,s,i,o,a,l,c,u){return{kind:f.Binding,bindingKind:e,target:t,name:n,expression:r,unit:s,securityContext:i,isTextAttribute:o,isStructuralTemplateAttribute:a,templateKind:l,i18nContext:null,i18nMessage:c,sourceSpan:u,...J}}function _T(t,e,n,r,s,i,o,a,l,c){return{kind:f.Property,target:t,name:e,expression:n,isAnimationTrigger:r,securityContext:s,sanitizer:null,isStructuralTemplateAttribute:i,templateKind:o,i18nContext:a,i18nMessage:l,sourceSpan:c,...tn,...Vt,...J}}function RT(t,e,n,r,s,i,o,a,l){return{kind:f.TwoWayProperty,target:t,name:e,expression:n,securityContext:r,sanitizer:null,isStructuralTemplateAttribute:s,templateKind:i,i18nContext:o,i18nMessage:a,sourceSpan:l,...tn,...Vt,...J}}function PT(t,e,n,r,s){return{kind:f.StyleProp,target:t,name:e,expression:n,unit:r,sourceSpan:s,...tn,...Vt,...J}}function kT(t,e,n,r){return{kind:f.ClassProp,target:t,name:e,expression:n,sourceSpan:r,...tn,...Vt,...J}}function MT(t,e,n){return{kind:f.StyleMap,target:t,expression:e,sourceSpan:n,...tn,...Vt,...J}}function LT(t,e,n){return{kind:f.ClassMap,target:t,expression:e,sourceSpan:n,...tn,...Vt,...J}}function OT(t,e,n,r,s,i,o,a,l,c){return{kind:f.Attribute,target:t,namespace:e,name:n,expression:r,securityContext:s,sanitizer:null,isTextAttribute:i,isStructuralTemplateAttribute:o,templateKind:a,i18nContext:null,i18nMessage:l,sourceSpan:c,...tn,...Vt,...J}}function FT(t,e){return{kind:f.Advance,delta:t,sourceSpan:e,...J}}function dg(t,e,n,r,s){return{kind:f.Conditional,target:t,targetSlot:e,test:n,conditions:r,processed:null,sourceSpan:s,contextValue:null,...J,...tn,...Vt}}function BT(t,e,n,r){return{kind:f.Repeater,target:t,targetSlot:e,collection:n,sourceSpan:r,...J,...tn}}function $T(t,e,n,r){return{kind:f.DeferWhen,target:t,expr:e,prefetch:n,sourceSpan:r,...J,...tn,...Vt}}function mg(t,e,n,r,s,i,o,a,l,c,u){return{kind:f.I18nExpression,context:t,target:e,i18nOwner:n,handle:r,expression:s,icuPlaceholder:i,i18nPlaceholder:o,resolutionTime:a,usage:l,name:c,sourceSpan:u,...J,...Vt,...tn}}function UT(t,e,n){return{kind:f.I18nApply,owner:t,handle:e,sourceSpan:n,...J}}var Jf,Zf,ed,td,nd,rd;function qn(t){return t instanceof ge}var ge=class extends ie{constructor(e=null){super(null,e)}},Dt=class t extends ge{constructor(e){super(),this.name=e,this.kind=U.LexicalRead}visitExpression(e,n){}isEquivalent(e){return this.name===e.name}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.name)}},Ya=class t extends ge{constructor(e,n,r){super(),this.target=e,this.targetSlot=n,this.offset=r,this.kind=U.Reference}visitExpression(){}isEquivalent(e){return e instanceof t&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.target,this.targetSlot,this.offset)}},lr=class t extends ge{constructor(e){super(),this.view=e,this.kind=U.Context}visitExpression(){}isEquivalent(e){return e instanceof t&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.view)}},Qa=class t extends ge{constructor(e){super(),this.view=e,this.kind=U.TrackContext}visitExpression(){}isEquivalent(e){return e instanceof t&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.view)}},Ja=class t extends ge{constructor(){super(),this.kind=U.NextContext,this.steps=1}visitExpression(){}isEquivalent(e){return e instanceof t&&e.steps===this.steps}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new t;return e.steps=this.steps,e}},Cu=class t extends ge{constructor(){super(),this.kind=U.GetCurrentView}visitExpression(){}isEquivalent(e){return e instanceof t}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t}},Za=class t extends ge{constructor(e){super(),this.view=e,this.kind=U.RestoreView}visitExpression(e,n){typeof this.view!="number"&&this.view.visitExpression(e,n)}isEquivalent(e){return!(e instanceof t)||typeof e.view!=typeof this.view?!1:typeof this.view=="number"?this.view===e.view:this.view.isEquivalent(e.view)}isConstant(){return!1}transformInternalExpressions(e,n){typeof this.view!="number"&&(this.view=R(this.view,e,n))}clone(){return new t(this.view instanceof ie?this.view.clone():this.view)}},Au=class t extends ge{constructor(e){super(),this.expr=e,this.kind=U.ResetView}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}transformInternalExpressions(e,n){this.expr=R(this.expr,e,n)}clone(){return new t(this.expr.clone())}},el=class t extends ge{constructor(e,n){super(),this.target=e,this.value=n,this.kind=U.TwoWayBindingSet}visitExpression(e,n){this.target.visitExpression(e,n),this.value.visitExpression(e,n)}isEquivalent(e){return this.target.isEquivalent(e.target)&&this.value.isEquivalent(e.value)}isConstant(){return!1}transformInternalExpressions(e,n){this.target=R(this.target,e,n),this.value=R(this.value,e,n)}clone(){return new t(this.target,this.value)}},cr=class t extends ge{constructor(e){super(),this.xref=e,this.kind=U.ReadVariable,this.name=null}visitExpression(){}isEquivalent(e){return e instanceof t&&e.xref===this.xref}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new t(this.xref);return e.name=this.name,e}},Ts=class t extends ge{static{Jf=qo,Zf=kl}constructor(e,n){super(),this.kind=U.PureFunctionExpr,this[Jf]=!0,this[Zf]=!0,this.varOffset=null,this.fn=null,this.body=e,this.args=n}visitExpression(e,n){this.body?.visitExpression(e,n);for(let r of this.args)r.visitExpression(e,n)}isEquivalent(e){return!(e instanceof t)||e.args.length!==this.args.length?!1:e.body!==null&&this.body!==null&&e.body.isEquivalent(this.body)&&e.args.every((n,r)=>n.isEquivalent(this.args[r]))}isConstant(){return!1}transformInternalExpressions(e,n){this.body!==null?this.body=R(this.body,e,n|ue.InChildOperation):this.fn!==null&&(this.fn=R(this.fn,e,n));for(let r=0;r<this.args.length;r++)this.args[r]=R(this.args[r],e,n)}clone(){let e=new t(this.body?.clone()??null,this.args.map(n=>n.clone()));return e.fn=this.fn?.clone()??null,e.varOffset=this.varOffset,e}},wi=class t extends ge{constructor(e){super(),this.index=e,this.kind=U.PureFunctionParameterExpr}visitExpression(){}isEquivalent(e){return e instanceof t&&e.index===this.index}isConstant(){return!0}transformInternalExpressions(){}clone(){return new t(this.index)}},Is=class t extends ge{static{ed=qo,td=kl}constructor(e,n,r,s){super(),this.target=e,this.targetSlot=n,this.name=r,this.args=s,this.kind=U.PipeBinding,this[ed]=!0,this[td]=!0,this.varOffset=null}visitExpression(e,n){for(let r of this.args)r.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){for(let r=0;r<this.args.length;r++)this.args[r]=R(this.args[r],e,n)}clone(){let e=new t(this.target,this.targetSlot,this.name,this.args.map(n=>n.clone()));return e.varOffset=this.varOffset,e}},tl=class t extends ge{static{nd=qo,rd=kl}constructor(e,n,r,s,i){super(),this.target=e,this.targetSlot=n,this.name=r,this.args=s,this.numArgs=i,this.kind=U.PipeBindingVariadic,this[nd]=!0,this[rd]=!0,this.varOffset=null}visitExpression(e,n){this.args.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.args=R(this.args,e,n)}clone(){let e=new t(this.target,this.targetSlot,this.name,this.args.clone(),this.numArgs);return e.varOffset=this.varOffset,e}},xi=class t extends ge{constructor(e,n){super(),this.receiver=e,this.name=n,this.kind=U.SafePropertyRead}get index(){return this.name}visitExpression(e,n){this.receiver.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=R(this.receiver,e,n)}clone(){return new t(this.receiver.clone(),this.name)}},Ti=class t extends ge{constructor(e,n,r){super(r),this.receiver=e,this.index=n,this.kind=U.SafeKeyedRead}visitExpression(e,n){this.receiver.visitExpression(e,n),this.index.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=R(this.receiver,e,n),this.index=R(this.index,e,n)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.sourceSpan)}},Br=class t extends ge{constructor(e,n){super(),this.receiver=e,this.args=n,this.kind=U.SafeInvokeFunction}visitExpression(e,n){this.receiver.visitExpression(e,n);for(let r of this.args)r.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=R(this.receiver,e,n);for(let r=0;r<this.args.length;r++)this.args[r]=R(this.args[r],e,n)}clone(){return new t(this.receiver.clone(),this.args.map(e=>e.clone()))}},Ii=class t extends ge{constructor(e,n){super(),this.guard=e,this.expr=n,this.kind=U.SafeTernaryExpr}visitExpression(e,n){this.guard.visitExpression(e,n),this.expr.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.guard=R(this.guard,e,n),this.expr=R(this.expr,e,n)}clone(){return new t(this.guard.clone(),this.expr.clone())}},bo=class t extends ge{constructor(){super(...arguments),this.kind=U.EmptyExpr}visitExpression(e,n){}isEquivalent(e){return e instanceof t}isConstant(){return!0}clone(){return new t}transformInternalExpressions(){}},In=class t extends ge{constructor(e,n){super(),this.expr=e,this.xref=n,this.kind=U.AssignTemporaryExpr,this.name=null}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.expr=R(this.expr,e,n)}clone(){let e=new t(this.expr.clone(),this.xref);return e.name=this.name,e}},ur=class t extends ge{constructor(e){super(),this.xref=e,this.kind=U.ReadTemporaryExpr,this.name=null}visitExpression(e,n){}isEquivalent(){return this.xref===this.xref}isConstant(){return!1}transformInternalExpressions(e,n){}clone(){let e=new t(this.xref);return e.name=this.name,e}},nl=class t extends ge{constructor(e){super(),this.slot=e,this.kind=U.SlotLiteralExpr}visitExpression(e,n){}isEquivalent(e){return e instanceof t&&e.slot===this.slot}isConstant(){return!0}clone(){return new t(this.slot)}transformInternalExpressions(){}},rl=class t extends ge{constructor(e,n,r,s=null){super(),this.expr=e,this.target=n,this.targetSlot=r,this.alias=s,this.kind=U.ConditionalCase}visitExpression(e,n){this.expr!==null&&this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&e.expr===this.expr}isConstant(){return!0}clone(){return new t(this.expr,this.target,this.targetSlot)}transformInternalExpressions(e,n){this.expr!==null&&(this.expr=R(this.expr,e,n))}},No=class t extends ge{constructor(e){super(),this.expr=e,this.kind=U.ConstCollected}transformInternalExpressions(e,n){this.expr=e(this.expr,n)}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t?this.expr.isEquivalent(e.expr):!1}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr)}};function Lt(t,e){rt(t,(n,r)=>(e(n,r),n),ue.None)}var ue;(function(t){t[t.None=0]="None",t[t.InChildOperation=1]="InChildOperation"})(ue||(ue={}));function gc(t,e,n){for(let r=0;r<t.expressions.length;r++)t.expressions[r]=R(t.expressions[r],e,n)}function rt(t,e,n){switch(t.kind){case f.StyleProp:case f.StyleMap:case f.ClassProp:case f.ClassMap:case f.Binding:t.expression instanceof ke?gc(t.expression,e,n):t.expression=R(t.expression,e,n);break;case f.Property:case f.HostProperty:case f.Attribute:t.expression instanceof ke?gc(t.expression,e,n):t.expression=R(t.expression,e,n),t.sanitizer=t.sanitizer&&R(t.sanitizer,e,n);break;case f.TwoWayProperty:t.expression=R(t.expression,e,n),t.sanitizer=t.sanitizer&&R(t.sanitizer,e,n);break;case f.I18nExpression:t.expression=R(t.expression,e,n);break;case f.InterpolateText:gc(t.interpolation,e,n);break;case f.Statement:sl(t.statement,e,n);break;case f.Variable:t.initializer=R(t.initializer,e,n);break;case f.Conditional:for(let r of t.conditions)r.expr!==null&&(r.expr=R(r.expr,e,n));t.processed!==null&&(t.processed=R(t.processed,e,n)),t.contextValue!==null&&(t.contextValue=R(t.contextValue,e,n));break;case f.Listener:case f.TwoWayListener:for(let r of t.handlerOps)rt(r,e,n|ue.InChildOperation);break;case f.ExtractedAttribute:t.expression=t.expression&&R(t.expression,e,n),t.trustedValueFn=t.trustedValueFn&&R(t.trustedValueFn,e,n);break;case f.RepeaterCreate:t.track=R(t.track,e,n),t.trackByFn!==null&&(t.trackByFn=R(t.trackByFn,e,n));break;case f.Repeater:t.collection=R(t.collection,e,n);break;case f.Defer:t.loadingConfig!==null&&(t.loadingConfig=R(t.loadingConfig,e,n)),t.placeholderConfig!==null&&(t.placeholderConfig=R(t.placeholderConfig,e,n)),t.resolverFn!==null&&(t.resolverFn=R(t.resolverFn,e,n));break;case f.I18nMessage:for(let[r,s]of t.params)t.params.set(r,R(s,e,n));for(let[r,s]of t.postprocessingParams)t.postprocessingParams.set(r,R(s,e,n));break;case f.DeferWhen:t.expr=R(t.expr,e,n);break;case f.Advance:case f.Container:case f.ContainerEnd:case f.ContainerStart:case f.DeferOn:case f.DisableBindings:case f.Element:case f.ElementEnd:case f.ElementStart:case f.EnableBindings:case f.I18n:case f.I18nApply:case f.I18nContext:case f.I18nEnd:case f.I18nStart:case f.IcuEnd:case f.IcuStart:case f.Namespace:case f.Pipe:case f.Projection:case f.ProjectionDef:case f.Template:case f.Text:case f.I18nAttributes:case f.IcuPlaceholder:break;default:throw new Error(`AssertionError: transformExpressionsInOp doesn't handle ${f[t.kind]}`)}}function R(t,e,n){if(t instanceof ge)t.transformInternalExpressions(e,n);else if(t instanceof ee)t.lhs=R(t.lhs,e,n),t.rhs=R(t.rhs,e,n);else if(t instanceof nr)t.expr=R(t.expr,e,n);else if(t instanceof tt)t.receiver=R(t.receiver,e,n);else if(t instanceof yn)t.receiver=R(t.receiver,e,n),t.index=R(t.index,e,n);else if(t instanceof as)t.receiver=R(t.receiver,e,n),t.value=R(t.value,e,n);else if(t instanceof si)t.receiver=R(t.receiver,e,n),t.index=R(t.index,e,n),t.value=R(t.value,e,n);else if(t instanceof et){t.fn=R(t.fn,e,n);for(let r=0;r<t.args.length;r++)t.args[r]=R(t.args[r],e,n)}else if(t instanceof xt)for(let r=0;r<t.entries.length;r++)t.entries[r]=R(t.entries[r],e,n);else if(t instanceof Qt)for(let r=0;r<t.entries.length;r++)t.entries[r].value=R(t.entries[r].value,e,n);else if(t instanceof wt)t.condition=R(t.condition,e,n),t.trueCase=R(t.trueCase,e,n),t.falseCase!==null&&(t.falseCase=R(t.falseCase,e,n));else if(t instanceof os)t.expr=R(t.expr,e,n);else if(t instanceof so)t.value=R(t.value,e,n);else if(t instanceof oo)for(let r=0;r<t.expressions.length;r++)t.expressions[r]=R(t.expressions[r],e,n);else if(t instanceof Fn)t.condition=R(t.condition,e,n);else if(t instanceof io)t.tag=R(t.tag,e,n),t.template.expressions=t.template.expressions.map(r=>R(r,e,n));else if(t instanceof tr)if(Array.isArray(t.body))for(let r=0;r<t.body.length;r++)sl(t.body[r],e,n);else t.body=R(t.body,e,n);else if(!(t instanceof V)){if(!(t instanceof Pt||t instanceof Oe||t instanceof Re))throw new Error(`Unhandled expression kind: ${t.constructor.name}`)}return e(t,n)}function sl(t,e,n){if(t instanceof je)t.expr=R(t.expr,e,n);else if(t instanceof _e)t.value=R(t.value,e,n);else if(t instanceof nt)t.value!==void 0&&(t.value=R(t.value,e,n));else if(t instanceof co){t.condition=R(t.condition,e,n);for(let r of t.trueCase)sl(r,e,n);for(let r of t.falseCase)sl(r,e,n)}else throw new Error(`Unhandled statement kind: ${t.constructor.name}`)}function gg(t){return t instanceof Re&&typeof t.value=="string"}var w=class t{static{this.nextListId=0}constructor(){this.debugListId=t.nextListId++,this.head={kind:f.ListEnd,next:null,prev:null,debugListId:this.debugListId},this.tail={kind:f.ListEnd,next:null,prev:null,debugListId:this.debugListId},this.head.next=this.tail,this.tail.prev=this.head}push(e){if(Array.isArray(e)){for(let r of e)this.push(r);return}t.assertIsNotEnd(e),t.assertIsUnowned(e),e.debugListId=this.debugListId;let n=this.tail.prev;e.prev=n,n.next=e,e.next=this.tail,this.tail.prev=e}prepend(e){if(e.length===0)return;for(let s of e)t.assertIsNotEnd(s),t.assertIsUnowned(s),s.debugListId=this.debugListId;let n=this.head.next,r=this.head;for(let s of e)r.next=s,s.prev=r,r=s;r.next=n,n.prev=r}*[Symbol.iterator](){let e=this.head.next;for(;e!==this.tail;){t.assertIsOwned(e,this.debugListId);let n=e.next;yield e,e=n}}*reversed(){let e=this.tail.prev;for(;e!==this.head;){t.assertIsOwned(e,this.debugListId);let n=e.prev;yield e,e=n}}static replace(e,n){t.assertIsNotEnd(e),t.assertIsNotEnd(n),t.assertIsOwned(e),t.assertIsUnowned(n),n.debugListId=e.debugListId,e.prev!==null&&(e.prev.next=n,n.prev=e.prev),e.next!==null&&(e.next.prev=n,n.next=e.next),e.debugListId=null,e.prev=null,e.next=null}static replaceWithMany(e,n){if(n.length===0){t.remove(e);return}t.assertIsNotEnd(e),t.assertIsOwned(e);let r=e.debugListId;e.debugListId=null;for(let c of n)t.assertIsNotEnd(c),t.assertIsUnowned(c);let{prev:s,next:i}=e;e.prev=null,e.next=null;let o=s;for(let c of n)this.assertIsUnowned(c),c.debugListId=r,o.next=c,c.prev=o,c.next=null,o=c;let a=n[0],l=o;s!==null&&(s.next=a,a.prev=s),i!==null&&(i.prev=l,l.next=i)}static remove(e){t.assertIsNotEnd(e),t.assertIsOwned(e),e.prev.next=e.next,e.next.prev=e.prev,e.debugListId=null,e.prev=null,e.next=null}static insertBefore(e,n){if(Array.isArray(e)){for(let r of e)this.insertBefore(r,n);return}if(t.assertIsOwned(n),n.prev===null)throw new Error("AssertionError: illegal operation on list start");t.assertIsNotEnd(e),t.assertIsUnowned(e),e.debugListId=n.debugListId,e.prev=null,n.prev.next=e,e.prev=n.prev,e.next=n,n.prev=e}static insertAfter(e,n){if(t.assertIsOwned(n),n.next===null)throw new Error("AssertionError: illegal operation on list end");t.assertIsNotEnd(e),t.assertIsUnowned(e),e.debugListId=n.debugListId,n.next.prev=e,e.next=n.next,e.prev=n,n.next=e}static assertIsUnowned(e){if(e.debugListId!==null)throw new Error(`AssertionError: illegal operation on owned node: ${f[e.kind]}`)}static assertIsOwned(e,n){if(e.debugListId===null)throw new Error(`AssertionError: illegal operation on unowned node: ${f[e.kind]}`);if(n!==void 0&&e.debugListId!==n)throw new Error(`AssertionError: node belongs to the wrong list (expected ${n}, actual ${e.debugListId})`)}static assertIsNotEnd(e){if(e.kind===f.ListEnd)throw new Error("AssertionError: illegal operation on list head or tail")}},Ut=class{constructor(){this.slot=null}},VT=new Set([f.Element,f.ElementStart,f.Container,f.ContainerStart,f.Template,f.RepeaterCreate]);function $r(t){return VT.has(t.kind)}function qT(t,e,n,r,s,i){return{kind:f.ElementStart,xref:e,tag:t,handle:new Ut,attributes:null,localRefs:[],nonBindable:!1,namespace:n,i18nPlaceholder:r,startSourceSpan:s,wholeSourceSpan:i,...pr,...J}}function Ml(t,e,n,r,s,i,o,a){return{kind:f.Template,xref:t,templateKind:e,attributes:null,tag:n,handle:new Ut,functionNameSuffix:r,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:s,i18nPlaceholder:i,startSourceSpan:o,wholeSourceSpan:a,...pr,...J}}function GT(t,e,n,r,s,i,o,a,l,c){return{kind:f.RepeaterCreate,attributes:null,xref:t,handle:new Ut,emptyView:e,track:r,trackByFn:null,tag:n,emptyTag:i,emptyAttributes:null,functionNameSuffix:"For",namespace:Ze.HTML,nonBindable:!1,localRefs:[],decls:null,vars:null,varNames:s,usesComponentInstance:!1,i18nPlaceholder:o,emptyI18nPlaceholder:a,startSourceSpan:l,wholeSourceSpan:c,...pr,...J,...Vt,numSlotsUsed:e===null?2:3}}function HT(t,e){return{kind:f.ElementEnd,xref:t,sourceSpan:e,...J}}function WT(t){return{kind:f.DisableBindings,xref:t,...J}}function jT(t){return{kind:f.EnableBindings,xref:t,...J}}function vg(t,e,n,r){return{kind:f.Text,xref:t,handle:new Ut,initialValue:e,icuPlaceholder:n,sourceSpan:r,...pr,...J}}function Up(t,e,n,r,s,i,o,a,l){let c=new w;return c.push(s),{kind:f.Listener,target:t,targetSlot:e,tag:r,hostListener:a,name:n,handlerOps:c,handlerFnName:null,consumesDollarEvent:!1,isAnimationListener:i!==null,animationPhase:i,eventTarget:o,sourceSpan:l,...J}}function yg(t,e,n,r,s,i){let o=new w;return o.push(s),{kind:f.TwoWayListener,target:t,targetSlot:e,tag:r,name:n,handlerOps:o,handlerFnName:null,sourceSpan:i,...J}}function Eg(t,e,n){return{kind:f.Pipe,xref:t,handle:e,name:n,...J,...pr}}function KT(t){return{kind:f.Namespace,active:t,...J}}function zT(t){return{kind:f.ProjectionDef,def:t,...J}}function XT(t,e,n,r){return{kind:f.Projection,xref:t,handle:new Ut,selector:e,i18nPlaceholder:n,projectionSlotIndex:0,attributes:null,localRefs:[],sourceSpan:r,...J,...pr}}function jt(t,e,n,r,s,i,o,a){return{kind:f.ExtractedAttribute,target:t,bindingKind:e,namespace:n,name:r,expression:s,i18nContext:i,i18nMessage:o,securityContext:a,trustedValueFn:null,...J}}function YT(t,e,n,r,s,i){return{kind:f.Defer,xref:t,handle:new Ut,mainView:e,mainSlot:n,loadingView:null,loadingSlot:null,loadingConfig:null,loadingMinimumTime:null,loadingAfterTime:null,placeholderView:null,placeholderSlot:null,placeholderConfig:null,placeholderMinimumTime:null,errorView:null,errorSlot:null,metadata:r,resolverFn:s,sourceSpan:i,...J,...pr,numSlotsUsed:2}}function Yr(t,e,n,r){return{kind:f.DeferOn,defer:t,trigger:e,prefetch:n,sourceSpan:r,...J}}function QT(t,e,n,r,s,i,o,a){return{kind:f.I18nMessage,xref:t,i18nContext:e,i18nBlock:n,message:r,messagePlaceholder:s,params:i,postprocessingParams:o,needsPostprocessing:a,subMessages:[],...J}}function Ll(t,e,n,r){return{kind:f.I18nStart,xref:t,handle:new Ut,root:n??t,message:e,messageIndex:null,subTemplateIndex:null,context:null,sourceSpan:r,...J,...pr}}function Ol(t,e){return{kind:f.I18nEnd,xref:t,sourceSpan:e,...J}}function JT(t,e,n,r){return{kind:f.IcuStart,xref:t,message:e,messagePlaceholder:n,context:null,sourceSpan:r,...J}}function ZT(t){return{kind:f.IcuEnd,xref:t,...J}}function eI(t,e,n){return{kind:f.IcuPlaceholder,xref:t,name:e,strings:n,expressionPlaceholders:[],...J}}function vc(t,e,n,r,s){if(n===null&&t!==Cr.Attr)throw new Error("AssertionError: i18nBlock must be provided for non-attribute contexts.");return{kind:f.I18nContext,contextKind:t,xref:e,i18nBlock:n,message:r,sourceSpan:s,params:new Map,postprocessingParams:new Map,...J}}function Sg(t,e,n){return{kind:f.I18nAttributes,xref:t,handle:e,target:n,i18nAttributesConfig:null,...J,...pr}}function tI(t,e,n,r,s,i){return{kind:f.HostProperty,name:t,expression:e,isAnimationTrigger:n,i18nContext:r,securityContext:s,sanitizer:null,sourceSpan:i,...Vt,...J}}var wg="CTX_REF_MARKER",_;(function(t){t[t.Tmpl=0]="Tmpl",t[t.Host=1]="Host",t[t.Both=2]="Both"})(_||(_={}));var il=class{constructor(e,n,r){this.componentName=e,this.pool=n,this.compatibility=r,this.kind=_.Both,this.nextXrefId=0}allocateXrefId(){return this.nextXrefId++}},Do=class extends il{constructor(e,n,r,s,i,o,a){super(e,n,r),this.relativeContextFilePath=s,this.i18nUseExternalIds=i,this.deferBlocksMeta=o,this.allDeferrableDepsFn=a,this.kind=_.Tmpl,this.fnSuffix="Template",this.views=new Map,this.contentSelectors=null,this.consts=[],this.constsInitializers=[],this.root=new Ur(this,this.allocateXrefId(),null),this.views.set(this.root.xref,this.root)}allocateView(e){let n=new Ur(this,this.allocateXrefId(),e);return this.views.set(n.xref,n),n}get units(){return this.views.values()}addConst(e,n){for(let s=0;s<this.consts.length;s++)if(this.consts[s].isEquivalent(e))return s;let r=this.consts.length;return this.consts.push(e),n&&this.constsInitializers.push(...n),r}},ol=class{constructor(e){this.xref=e,this.create=new w,this.update=new w,this.fnName=null,this.vars=null}*ops(){for(let e of this.create)if(yield e,e.kind===f.Listener||e.kind===f.TwoWayListener)for(let n of e.handlerOps)yield n;for(let e of this.update)yield e}},Ur=class extends ol{constructor(e,n,r){super(n),this.job=e,this.parent=r,this.contextVariables=new Map,this.aliases=new Set,this.decls=null}},al=class extends il{constructor(e,n,r){super(e,n,r),this.kind=_.Host,this.fnSuffix="HostBindings",this.root=new bu(this)}get units(){return[this.root]}},bu=class extends ol{constructor(e){super(0),this.job=e,this.attributes=null}};function nI(t){for(let e of t.units)for(let n of e.ops())rt(n,rI,ue.None)}function rI(t){if(t instanceof et&&t.fn instanceof Dt&&t.fn.name==="$any"){if(t.args.length!==1)throw new Error("The $any builtin function expects exactly one argument.");return t.args[0]}return t}function sI(t){let e=new Map;for(let n of t.units)for(let r of n.create)r.kind===f.I18nContext&&e.set(r.xref,r);for(let n of t.units)for(let r of n.update)r.kind===f.I18nExpression&&iI(e,r)&&w.insertAfter(UT(r.i18nOwner,r.handle,null),r)}function iI(t,e){if(e.next?.kind!==f.I18nExpression)return!0;let n=t.get(e.context),r=t.get(e.next.context);if(n===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the I18nExpressionOp's context");if(r===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the next I18nExpressionOp's context");return n.i18nBlock!==null?n.i18nBlock!==r.i18nBlock:e.i18nOwner!==e.next.i18nOwner}function oI(t){for(let e of t.units){let n=e.update.head,r=[],s=null;for(let i of e.create){if(i.kind===f.I18nStart)s={blockXref:i.xref,lastSlotConsumer:i.xref};else if(i.kind===f.I18nEnd){for(let o of r)o.target=s.lastSlotConsumer,w.insertBefore(o,n);r.length=0,s=null}if(ki(i))for(s!==null&&(s.lastSlotConsumer=i.xref);n.next!==null;){if(s!==null&&n.kind===f.I18nExpression&&n.usage===ws.I18nText&&n.i18nOwner===s.blockXref){let o=n;n=n.next,w.remove(o),r.push(o);continue}if($p(n)&&n.target!==i.xref)break;n=n.next}}}}function Vp(t){let e=new Map;for(let n of t.create)ki(n)&&(e.set(n.xref,n),n.kind===f.RepeaterCreate&&n.emptyView!==null&&e.set(n.emptyView,n));return e}function aI(t){for(let e of t.units){let n=Vp(e);for(let r of e.ops())switch(r.kind){case f.Attribute:lI(e,r,n);break;case f.Property:if(!r.isAnimationTrigger){let s;r.i18nMessage!==null&&r.templateKind===null?s=F.I18n:r.isStructuralTemplateAttribute?s=F.Template:s=F.Property,w.insertBefore(jt(r.target,s,null,r.name,null,null,null,r.securityContext),js(n,r.target))}break;case f.TwoWayProperty:w.insertBefore(jt(r.target,F.TwoWayProperty,null,r.name,null,null,null,r.securityContext),js(n,r.target));break;case f.StyleProp:case f.ClassProp:e.job.compatibility===Mt.TemplateDefinitionBuilder&&r.expression instanceof bo&&w.insertBefore(jt(r.target,F.Property,null,r.name,null,null,null,ne.STYLE),js(n,r.target));break;case f.Listener:if(!r.isAnimationListener){let s=jt(r.target,F.Property,null,r.name,null,null,null,ne.NONE);if(t.kind===_.Host){if(t.compatibility)break;e.create.push(s)}else w.insertBefore(s,js(n,r.target))}break;case f.TwoWayListener:if(t.kind!==_.Host){let s=jt(r.target,F.Property,null,r.name,null,null,null,ne.NONE);w.insertBefore(s,js(n,r.target))}break}}}function js(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function lI(t,e,n){if(e.expression instanceof ke)return;let r=e.isTextAttribute||e.expression.isConstant();if(t.job.compatibility===Mt.TemplateDefinitionBuilder&&(r&&=e.isTextAttribute),r){let s=jt(e.target,e.isStructuralTemplateAttribute?F.Template:F.Attribute,e.namespace,e.name,e.expression,e.i18nContext,e.i18nMessage,e.securityContext);if(t.job.kind===_.Host)t.create.push(s);else{let i=js(n,e.target);w.insertBefore(s,i)}w.remove(e)}}function cI(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function uI(t){let e=new Map;for(let n of t.units)for(let r of n.create)$r(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.ops())if(r.kind===f.Binding)switch(r.bindingKind){case F.Attribute:if(r.name==="ngNonBindable"){w.remove(r);let s=cI(e,r.target);s.nonBindable=!0}else{let[s,i]=Et(r.name);w.replace(r,OT(r.target,s,i,r.expression,r.securityContext,r.isTextAttribute,r.isStructuralTemplateAttribute,r.templateKind,r.i18nMessage,r.sourceSpan))}break;case F.Property:case F.Animation:t.kind===_.Host?w.replace(r,tI(r.name,r.expression,r.bindingKind===F.Animation,r.i18nContext,r.securityContext,r.sourceSpan)):w.replace(r,_T(r.target,r.name,r.expression,r.bindingKind===F.Animation,r.securityContext,r.isStructuralTemplateAttribute,r.templateKind,r.i18nContext,r.i18nMessage,r.sourceSpan));break;case F.TwoWayProperty:if(!(r.expression instanceof ie))throw new Error(`Expected value of two-way property binding "${r.name}" to be an expression`);w.replace(r,RT(r.target,r.name,r.expression,r.securityContext,r.isStructuralTemplateAttribute,r.templateKind,r.i18nContext,r.i18nMessage,r.sourceSpan));break;case F.I18n:case F.ClassName:case F.StyleProperty:throw new Error(`Unhandled binding of kind ${F[r.bindingKind]}`)}}var pI=new Set([p.attribute,p.classProp,p.element,p.elementContainer,p.elementContainerEnd,p.elementContainerStart,p.elementEnd,p.elementStart,p.hostProperty,p.i18nExp,p.listener,p.listener,p.property,p.styleProp,p.stylePropInterpolate1,p.stylePropInterpolate2,p.stylePropInterpolate3,p.stylePropInterpolate4,p.stylePropInterpolate5,p.stylePropInterpolate6,p.stylePropInterpolate7,p.stylePropInterpolate8,p.stylePropInterpolateV,p.syntheticHostListener,p.syntheticHostProperty,p.templateCreate,p.twoWayProperty,p.twoWayListener]);function hI(t){for(let e of t.units)sd(e.create),sd(e.update)}function sd(t){let e=null;for(let n of t){if(n.kind!==f.Statement||!(n.statement instanceof je)){e=null;continue}if(!(n.statement.expr instanceof et)||!(n.statement.expr.fn instanceof Oe)){e=null;continue}let r=n.statement.expr.fn.value;if(!pI.has(r)){e=null;continue}if(e!==null&&e.instruction===r){let s=e.expression.callFn(n.statement.expr.args,n.statement.expr.sourceSpan,n.statement.expr.pure);e.expression=s,e.op.statement=s.toStmt(),w.remove(n)}else e={op:n,instruction:r,expression:n.statement.expr}}}function fI(t){for(let e of t.units)for(let n of e.update)n.kind===f.Attribute&&n.expression instanceof ke&&n.expression.strings.length===2&&n.expression.strings.every(s=>s==="")&&(n.expression=n.expression.expressions[0])}function dI(t){for(let e of t.units)for(let n of e.ops()){if(n.kind!==f.Conditional)continue;let r,s=n.conditions.findIndex(o=>o.expr===null);if(s>=0){let o=n.conditions.splice(s,1)[0].targetSlot;r=new nl(o)}else r=m(-1);let i=n.test==null?null:new In(n.test,t.allocateXrefId());for(let o=n.conditions.length-1;o>=0;o--){let a=n.conditions[o];if(a.expr!==null){if(i!==null){let l=o===0?i:new ur(i.xref);a.expr=new ee(T.Identical,l,a.expr)}else if(a.alias!==null){let l=t.allocateXrefId();a.expr=new In(a.expr,l),n.contextValue=new ur(l)}r=new wt(a.expr,new nl(a.targetSlot),r)}}n.processed=r,n.conditions=[]}}var mI=new Map([["&&",T.And],[">",T.Bigger],[">=",T.BiggerEquals],["|",T.BitwiseOr],["&",T.BitwiseAnd],["/",T.Divide],["==",T.Equals],["===",T.Identical],["<",T.Lower],["<=",T.LowerEquals],["-",T.Minus],["%",T.Modulo],["*",T.Multiply],["!=",T.NotEquals],["!==",T.NotIdentical],["??",T.NullishCoalesce],["||",T.Or],["+",T.Plus]]);function xg(t){let e=new Map([["svg",Ze.SVG],["math",Ze.Math]]);return t===null?Ze.HTML:e.get(t)??Ze.HTML}function gI(t){let e=new Map([["svg",Ze.SVG],["math",Ze.Math]]);for(let[n,r]of e.entries())if(r===t)return n;return null}function vI(t,e){return e===Ze.HTML?t:`:${gI(e)}:${t}`}function Ci(t){return Array.isArray(t)?W(t.map(Ci)):m(t)}function yI(t){let e=new Map;for(let n of t.units)for(let r of n.create)if(r.kind===f.ExtractedAttribute){let s=e.get(r.target)||new Nu(t.compatibility);e.set(r.target,s),s.add(r.bindingKind,r.name,r.expression,r.namespace,r.trustedValueFn),w.remove(r)}if(t instanceof Do)for(let n of t.units)for(let r of n.create)if(r.kind==f.Projection){let s=e.get(r.xref);if(s!==void 0){let i=Du(s);i.entries.length>0&&(r.attributes=i)}}else $r(r)&&(r.attributes=id(t,e,r.xref),r.kind===f.RepeaterCreate&&r.emptyView!==null&&(r.emptyAttributes=id(t,e,r.emptyView)));else if(t instanceof al)for(let[n,r]of e.entries()){if(n!==t.root.xref)throw new Error("An attribute would be const collected into the host binding's template function, but is not associated with the root xref.");let s=Du(r);s.entries.length>0&&(t.root.attributes=s)}}function id(t,e,n){let r=e.get(n);if(r!==void 0){let s=Du(r);if(s.entries.length>0)return t.addConst(s)}return null}var Us=Object.freeze([]),Nu=class{get attributes(){return this.byKind.get(F.Attribute)??Us}get classes(){return this.byKind.get(F.ClassName)??Us}get styles(){return this.byKind.get(F.StyleProperty)??Us}get bindings(){return this.propertyBindings??Us}get template(){return this.byKind.get(F.Template)??Us}get i18n(){return this.byKind.get(F.I18n)??Us}constructor(e){this.compatibility=e,this.known=new Map,this.byKind=new Map,this.propertyBindings=null,this.projectAs=null}isKnown(e,n){let r=this.known.get(e)??new Set;return this.known.set(e,r),r.has(n)?!0:(r.add(n),!1)}add(e,n,r,s,i){if(!(this.compatibility===Mt.TemplateDefinitionBuilder&&(e===F.Attribute||e===F.ClassName||e===F.StyleProperty))&&this.isKnown(e,n))return;if(n==="ngProjectAs"){if(r===null||!(r instanceof Re)||r.value==null||typeof r.value?.toString()!="string")throw Error("ngProjectAs must have a string literal value");this.projectAs=r.value.toString()}let a=this.arrayFor(e);if(a.push(...EI(s,n)),e===F.Attribute||e===F.StyleProperty){if(r===null)throw Error("Attribute, i18n attribute, & style element attributes must have a value");if(i!==null){if(!gg(r))throw Error("AssertionError: extracted attribute value should be string literal");a.push(Ra(i,new oi([new ai(r.value)],[]),void 0,r.sourceSpan))}else a.push(r)}}arrayFor(e){return e===F.Property||e===F.TwoWayProperty?(this.propertyBindings??=[],this.propertyBindings):(this.byKind.has(e)||this.byKind.set(e,[]),this.byKind.get(e))}};function EI(t,e){let n=m(e);return t?[m(0),m(t),n]:[n]}function Du({attributes:t,bindings:e,classes:n,i18n:r,projectAs:s,styles:i,template:o}){let a=[...t];if(s!==null){let l=Fo(s)[0];a.push(m(5),Ci(l))}return n.length>0&&a.push(m(1),...n),i.length>0&&a.push(m(2),...i),e.length>0&&a.push(m(3),...e),o.length>0&&a.push(m(4),...o),r.length>0&&a.push(m(6),...r),W(a)}function SI(t){let e=new Map;for(let n of t.units){for(let r of n.create)r.kind===f.I18nAttributes&&e.set(r.target,r);for(let r of n.update)switch(r.kind){case f.Property:case f.Attribute:if(r.i18nContext===null||!(r.expression instanceof ke))continue;let s=e.get(r.target);if(s===void 0)throw new Error("AssertionError: An i18n attribute binding instruction requires the owning element to have an I18nAttributes create instruction");if(s.target!==r.target)throw new Error("AssertionError: Expected i18nAttributes target element to match binding target element");let i=[];for(let o=0;o<r.expression.expressions.length;o++){let a=r.expression.expressions[o];if(r.expression.i18nPlaceholders.length!==r.expression.expressions.length)throw new Error(`AssertionError: An i18n attribute binding instruction requires the same number of expressions and placeholders, but found ${r.expression.i18nPlaceholders.length} placeholders and ${r.expression.expressions.length} expressions`);i.push(mg(r.i18nContext,s.target,s.xref,s.handle,a,null,r.expression.i18nPlaceholders[o],Si.Creation,ws.I18nAttribute,r.name,r.sourceSpan))}w.replaceWithMany(r,i);break}}}function wI(t){for(let e of t.units)for(let n of e.create)if(n.kind===f.Defer){if(n.metadata.deps.length===0||n.resolverFn!==null)continue;let r=[];for(let o of n.metadata.deps)if(o.isDeferrable){let a=We([new me("m",en)],P("m").prop(o.isDefaultImport?"default":o.symbolName)),l=new li(o.importPath).prop("then").callFn([a]);r.push(l)}else r.push(o.type);let s=We([],W(r));if(n.handle.slot===null)throw new Error("AssertionError: slot must be assigned bfore extracting defer deps functions");let i=e.fnName?.replace("_Template","");n.resolverFn=t.pool.getSharedFunctionReference(s,`${i}_Defer_${n.handle.slot}_DepsFn`,!1)}}function xI(t){let e=new Map;for(let s of t.units)for(let i of s.ops())switch(i.kind){case f.Binding:case f.Property:case f.Attribute:case f.ExtractedAttribute:if(i.i18nMessage===null)continue;if(!e.has(i.i18nMessage)){let o=vc(Cr.Attr,t.allocateXrefId(),null,i.i18nMessage,null);s.create.push(o),e.set(i.i18nMessage,o.xref)}i.i18nContext=e.get(i.i18nMessage);break}let n=new Map;for(let s of t.units)for(let i of s.create)switch(i.kind){case f.I18nStart:if(i.xref===i.root){let o=vc(Cr.RootI18n,t.allocateXrefId(),i.xref,i.message,null);s.create.push(o),i.context=o.xref,n.set(i.xref,o)}break}for(let s of t.units)for(let i of s.create)if(i.kind===f.I18nStart&&i.xref!==i.root){let o=n.get(i.root);if(o===void 0)throw Error("AssertionError: Root i18n block i18n context should have been created.");i.context=o.xref,n.set(i.xref,o)}let r=null;for(let s of t.units)for(let i of s.create)switch(i.kind){case f.I18nStart:r=i;break;case f.I18nEnd:r=null;break;case f.IcuStart:if(r===null)throw Error("AssertionError: Unexpected ICU outside of an i18n block.");if(i.message.id!==r.message.id){let o=vc(Cr.Icu,t.allocateXrefId(),r.root,i.message,null);s.create.push(o),i.context=o.xref}else i.context=r.context,n.get(r.xref).contextKind=Cr.Icu;break}}function TI(t){let e=new Map;for(let n of t.units)for(let r of n.update.reversed())if(r.kind===f.Binding&&r.isTextAttribute){let s=e.get(r.target)||new Set;s.has(r.name)&&t.compatibility===Mt.TemplateDefinitionBuilder&&(r.name==="style"||r.name==="class")&&w.remove(r),s.add(r.name),e.set(r.target,s)}}function II(t){for(let e of t.units)for(let n of e.create)n.kind===f.Defer&&(n.placeholderMinimumTime!==null&&(n.placeholderConfig=new No(Ci([n.placeholderMinimumTime]))),(n.loadingMinimumTime!==null||n.loadingAfterTime!==null)&&(n.loadingConfig=new No(Ci([n.loadingMinimumTime,n.loadingAfterTime]))))}function CI(t){let e=new Map;function n(s){if(e.has(s.xref))return e.get(s.xref);let i=new _u;for(let o of s.create)if(!(!$r(o)||o.localRefs===null)){if(!Array.isArray(o.localRefs))throw new Error("LocalRefs were already processed, but were needed to resolve defer targets.");for(let a of o.localRefs)a.target===""&&i.targets.set(a.name,{xref:o.xref,slot:o.handle})}return e.set(s.xref,i),i}function r(s,i,o){switch(i.trigger.kind){case ye.Idle:case ye.Immediate:case ye.Timer:return;case ye.Hover:case ye.Interaction:case ye.Viewport:if(i.trigger.targetName===null){if(o===null)throw new Error("defer on trigger with no target name must have a placeholder block");let c=t.views.get(o);if(c==null)throw new Error("AssertionError: could not find placeholder view for defer on trigger");for(let u of c.create)if(ki(u)&&($r(u)||u.kind===f.Projection)){i.trigger.targetXref=u.xref,i.trigger.targetView=o,i.trigger.targetSlotViewSteps=-1,i.trigger.targetSlot=u.handle;return}return}let a=o!==null?t.views.get(o):s,l=o!==null?-1:0;for(;a!==null;){let c=n(a);if(c.targets.has(i.trigger.targetName)){let{xref:u,slot:h}=c.targets.get(i.trigger.targetName);i.trigger.targetXref=u,i.trigger.targetView=a.xref,i.trigger.targetSlotViewSteps=l,i.trigger.targetSlot=h;return}a=a.parent!==null?t.views.get(a.parent):null,l++}break;default:throw new Error(`Trigger kind ${i.trigger.kind} not handled`)}}for(let s of t.units){let i=new Map;for(let o of s.create)switch(o.kind){case f.Defer:i.set(o.xref,o);break;case f.DeferOn:let a=i.get(o.defer);r(s,o,a.placeholderView);break}}}var _u=class{constructor(){this.targets=new Map}},AI=new Map([[f.ElementEnd,[f.ElementStart,f.Element]],[f.ContainerEnd,[f.ContainerStart,f.Container]],[f.I18nEnd,[f.I18nStart,f.I18n]]]),bI=new Set([f.Pipe]);function NI(t){for(let e of t.units)for(let n of e.create){let r=AI.get(n.kind);if(r===void 0)continue;let[s,i]=r,o=n.prev;for(;o!==null&&bI.has(o.kind);)o=o.prev;o!==null&&o.kind===s&&(o.kind=i,w.remove(n))}}function DI(t){for(let e of t.units)for(let n of e.ops())rt(n,r=>LI(r,{job:t}),ue.None),rt(n,OI,ue.None)}var HO=[et,xt,Qt,Br,Is].map(t=>t.constructor.name);function qt(t){return t instanceof nr?qt(t.expr):t instanceof ee?qt(t.lhs)||qt(t.rhs):t instanceof wt?t.falseCase&&qt(t.falseCase)?!0:qt(t.condition)||qt(t.trueCase):t instanceof Fn?qt(t.condition):t instanceof In?qt(t.expr):t instanceof tt?qt(t.receiver):t instanceof yn?qt(t.receiver)||qt(t.index):t instanceof et||t instanceof xt||t instanceof Qt||t instanceof Br||t instanceof Is}function _I(t){let e=new Set;return R(t,n=>(n instanceof In&&e.add(n.xref),n),ue.None),e}function RI(t,e,n){return R(t,r=>{if(r instanceof In&&e.has(r.xref)){let s=new ur(r.xref);return n.job.compatibility===Mt.TemplateDefinitionBuilder?new In(s,s.xref):s}return r},ue.None),t}function Vs(t,e,n){let r;if(qt(t)){let s=n.job.allocateXrefId();r=[new In(t,s),new ur(s)]}else r=[t,t.clone()],RI(r[1],_I(r[0]),n);return new Ii(r[0],e(r[1]))}function PI(t){return t instanceof xi||t instanceof Ti||t instanceof Br}function kI(t){return t instanceof tt||t instanceof yn||t instanceof et}function Tg(t){return PI(t)||kI(t)}function MI(t){if(Tg(t)&&t.receiver instanceof Ii){let e=t.receiver;for(;e.expr instanceof Ii;)e=e.expr;return e}return null}function LI(t,e){if(!Tg(t))return t;let n=MI(t);if(n){if(t instanceof et)return n.expr=n.expr.callFn(t.args),t.receiver;if(t instanceof tt)return n.expr=n.expr.prop(t.name),t.receiver;if(t instanceof yn)return n.expr=n.expr.key(t.index),t.receiver;if(t instanceof Br)return n.expr=Vs(n.expr,r=>r.callFn(t.args),e),t.receiver;if(t instanceof xi)return n.expr=Vs(n.expr,r=>r.prop(t.name),e),t.receiver;if(t instanceof Ti)return n.expr=Vs(n.expr,r=>r.key(t.index),e),t.receiver}else{if(t instanceof Br)return Vs(t.receiver,r=>r.callFn(t.args),e);if(t instanceof xi)return Vs(t.receiver,r=>r.prop(t.name),e);if(t instanceof Ti)return Vs(t.receiver,r=>r.key(t.index),e)}return t}function OI(t){return t instanceof Ii?new wt(new ee(T.Equals,t.guard,_r),_r,t.expr):t}var od="\uFFFD",FI="#",BI="*",$I="/",UI=":",VI="[",qI="]",GI="|";function HI(t){let e=new Map,n=new Map,r=new Map;for(let i of t.units)for(let o of i.create)switch(o.kind){case f.I18nContext:let a=WI(t,o);i.create.push(a),e.set(o.xref,a),r.set(o.xref,o);break;case f.I18nStart:n.set(o.xref,o);break}let s=null;for(let i of t.units)for(let o of i.create)switch(o.kind){case f.IcuStart:s=o,w.remove(o);let a=r.get(o.context);if(a.contextKind!==Cr.Icu)continue;let l=n.get(a.i18nBlock);if(l.context===a.xref)continue;let c=n.get(l.root),u=e.get(c.context);if(u===void 0)throw Error("AssertionError: ICU sub-message should belong to a root message.");let h=e.get(a.xref);h.messagePlaceholder=o.messagePlaceholder,u.subMessages.push(h.xref);break;case f.IcuEnd:s=null,w.remove(o);break;case f.IcuPlaceholder:if(s===null||s.context==null)throw Error("AssertionError: Unexpected ICU placeholder outside of i18n context");e.get(s.context).postprocessingParams.set(o.name,m(jI(o))),w.remove(o);break}}function WI(t,e,n){let r=ad(e.params),s=ad(e.postprocessingParams),i=[...e.params.values()].some(o=>o.length>1);return QT(t.allocateXrefId(),e.xref,e.i18nBlock,e.message,n??null,r,s,i)}function jI(t){if(t.strings.length!==t.expressionPlaceholders.length+1)throw Error(`AssertionError: Invalid ICU placeholder with ${t.strings.length} strings and ${t.expressionPlaceholders.length} expressions`);let e=t.expressionPlaceholders.map(Zs);return t.strings.flatMap((n,r)=>[n,e[r]||""]).join("")}function ad(t){let e=new Map;for(let[n,r]of t){let s=KI(r);s!==null&&e.set(n,m(s))}return e}function KI(t){if(t.length===0)return null;let e=t.map(n=>Zs(n));return e.length===1?e[0]:`${VI}${e.join(GI)}${qI}`}function Zs(t){if(t.flags&fe.ElementTag&&t.flags&fe.TemplateTag){if(typeof t.value!="object")throw Error("AssertionError: Expected i18n param value to have an element and template slot");let s=Zs({...t,value:t.value.element,flags:t.flags&~fe.TemplateTag}),i=Zs({...t,value:t.value.template,flags:t.flags&~fe.ElementTag});return t.flags&fe.OpenTag&&t.flags&fe.CloseTag?`${i}${s}${i}`:t.flags&fe.CloseTag?`${s}${i}`:`${i}${s}`}if(t.flags&fe.OpenTag&&t.flags&fe.CloseTag)return`${Zs({...t,flags:t.flags&~fe.CloseTag})}${Zs({...t,flags:t.flags&~fe.OpenTag})}`;if(t.flags===fe.None)return`${t.value}`;let e="",n="";t.flags&fe.ElementTag?e=FI:t.flags&fe.TemplateTag&&(e=BI),e!==""&&(n=t.flags&fe.CloseTag?$I:"");let r=t.subTemplateIndex===null?"":`${UI}${t.subTemplateIndex}`;return`${od}${n}${e}${t.value}${r}${od}`}function zI(t){for(let e of t.units){let n=new Map;for(let s of e.create){if(ki(s)){if(s.handle.slot===null)throw new Error("AssertionError: expected slots to have been allocated before generating advance() calls")}else continue;n.set(s.xref,s.handle.slot)}let r=0;for(let s of e.update){if($p(s)){if(!n.has(s.target))throw new Error(`AssertionError: reference to unknown slot for target ${s.target}`)}else continue;let i=n.get(s.target);if(r!==i){let o=i-r;if(o<0)throw new Error("AssertionError: slot counter should never need to move backwards");w.insertBefore(FT(o,s.sourceSpan),s),r=i}}}}function XI(t){let e=t.compatibility===Mt.TemplateDefinitionBuilder,n=[],r=0;for(let s of t.units)for(let i of s.create)i.kind===f.Projection&&(n.push(i.selector),i.projectionSlotIndex=r++);if(n.length>0){let s=null;if(n.length>1||n[0]!=="*"){let i=n.map(o=>o==="*"?o:Fo(o));s=t.pool.getConstLiteral(Ci(i),e)}t.contentSelectors=t.pool.getConstLiteral(Ci(n),e),t.root.create.prepend([zT(s)])}}function YI(t){Ia(t.root,null)}function Ia(t,e){let n=QI(t,e);for(let s of t.create)switch(s.kind){case f.Template:Ia(t.job.views.get(s.xref),n);break;case f.RepeaterCreate:Ia(t.job.views.get(s.xref),n),s.emptyView&&Ia(t.job.views.get(s.emptyView),n);break;case f.Listener:case f.TwoWayListener:s.handlerOps.prepend(Ru(t,n));break}let r=Ru(t,n);t.update.prepend(r)}function QI(t,e){let n={view:t.xref,viewContextVariable:{kind:Ge.Context,name:null,view:t.xref},contextVariables:new Map,aliases:t.aliases,references:[],parent:e};for(let r of t.contextVariables.keys())n.contextVariables.set(r,{kind:Ge.Identifier,name:null,identifier:r});for(let r of t.create)switch(r.kind){case f.ElementStart:case f.Template:if(!Array.isArray(r.localRefs))throw new Error("AssertionError: expected localRefs to be an array");for(let s=0;s<r.localRefs.length;s++)n.references.push({name:r.localRefs[s].name,targetId:r.xref,targetSlot:r.handle,offset:s,variable:{kind:Ge.Identifier,name:null,identifier:r.localRefs[s].name}});break}return n}function Ru(t,e){let n=[];e.view!==t.xref&&n.push(Js(t.job.allocateXrefId(),e.viewContextVariable,new Ja,fn.None));let r=t.job.views.get(e.view);for(let[s,i]of r.contextVariables){let o=new lr(e.view),a=i===wg?o:new tt(o,i);n.push(Js(t.job.allocateXrefId(),e.contextVariables.get(s),a,fn.None))}for(let s of r.aliases)n.push(Js(t.job.allocateXrefId(),s,s.expression.clone(),fn.AlwaysInline));for(let s of e.references)n.push(Js(t.job.allocateXrefId(),s.variable,new Ya(s.targetId,s.targetSlot,s.offset),fn.None));return e.parent!==null&&n.push(...Ru(t,e.parent)),n}function JI(t){for(let e of t.units)for(let n of e.ops())rt(n,r=>r instanceof No?m(t.addConst(r.expr)):r,ue.None)}var ld="style.",cd="class.",ZI="style!",ud="class!",pd="!important";function eC(t){for(let e of t.root.update)if(e.kind===f.Binding&&e.bindingKind===F.Property)if(e.name.endsWith(pd)&&(e.name=e.name.substring(0,e.name.length-pd.length)),e.name.startsWith(ld)){e.bindingKind=F.StyleProperty,e.name=e.name.substring(ld.length),tC(e.name)||(e.name=nC(e.name));let{property:n,suffix:r}=yc(e.name);e.name=n,e.unit=r}else e.name.startsWith(ZI)?(e.bindingKind=F.StyleProperty,e.name="style"):e.name.startsWith(cd)?(e.bindingKind=F.ClassName,e.name=yc(e.name.substring(cd.length)).property):e.name.startsWith(ud)&&(e.bindingKind=F.ClassName,e.name=yc(e.name.substring(ud.length)).property)}function tC(t){return t.startsWith("--")}function nC(t){return t.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function yc(t){let e=t.indexOf("!important");e!==-1&&(t=e>0?t.substring(0,e):"");let n=null,r=t,s=t.lastIndexOf(".");return s>0&&(n=t.slice(s+1),r=t.substring(0,s)),{property:r,suffix:n}}function _o(t,e=!1){return Fe(Object.keys(t).map(n=>({key:n,quoted:e,value:t[n]})))}var Pu=class{visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){let n=Object.keys(e.cases).map(s=>`${s} {${e.cases[s].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,n){return this.formatPh(e.name)}formatPh(e){return`{${$o(e,!1)}}`}},rC=new Pu;function Ig(t){return t.visit(rC)}var Z;(function(t){t[t.Character=0]="Character",t[t.Identifier=1]="Identifier",t[t.PrivateIdentifier=2]="PrivateIdentifier",t[t.Keyword=3]="Keyword",t[t.String=4]="String",t[t.Operator=5]="Operator",t[t.Number=6]="Number",t[t.Error=7]="Error"})(Z||(Z={}));var sC=["var","let","as","null","undefined","true","false","if","else","this"],Ro=class{tokenize(e){let n=new ku(e),r=[],s=n.scanToken();for(;s!=null;)r.push(s),s=n.scanToken();return r}},Cn=class{constructor(e,n,r,s,i){this.index=e,this.end=n,this.type=r,this.numValue=s,this.strValue=i}isCharacter(e){return this.type==Z.Character&&this.numValue==e}isNumber(){return this.type==Z.Number}isString(){return this.type==Z.String}isOperator(e){return this.type==Z.Operator&&this.strValue==e}isIdentifier(){return this.type==Z.Identifier}isPrivateIdentifier(){return this.type==Z.PrivateIdentifier}isKeyword(){return this.type==Z.Keyword}isKeywordLet(){return this.type==Z.Keyword&&this.strValue=="let"}isKeywordAs(){return this.type==Z.Keyword&&this.strValue=="as"}isKeywordNull(){return this.type==Z.Keyword&&this.strValue=="null"}isKeywordUndefined(){return this.type==Z.Keyword&&this.strValue=="undefined"}isKeywordTrue(){return this.type==Z.Keyword&&this.strValue=="true"}isKeywordFalse(){return this.type==Z.Keyword&&this.strValue=="false"}isKeywordThis(){return this.type==Z.Keyword&&this.strValue=="this"}isError(){return this.type==Z.Error}toNumber(){return this.type==Z.Number?this.numValue:-1}toString(){switch(this.type){case Z.Character:case Z.Identifier:case Z.Keyword:case Z.Operator:case Z.PrivateIdentifier:case Z.String:case Z.Error:return this.strValue;case Z.Number:return this.numValue.toString();default:return null}}};function hd(t,e,n){return new Cn(t,e,Z.Character,n,String.fromCharCode(n))}function iC(t,e,n){return new Cn(t,e,Z.Identifier,0,n)}function oC(t,e,n){return new Cn(t,e,Z.PrivateIdentifier,0,n)}function aC(t,e,n){return new Cn(t,e,Z.Keyword,0,n)}function Ec(t,e,n){return new Cn(t,e,Z.Operator,0,n)}function lC(t,e,n){return new Cn(t,e,Z.String,0,n)}function cC(t,e,n){return new Cn(t,e,Z.Number,n,"")}function uC(t,e,n){return new Cn(t,e,Z.Error,0,n)}var Sc=new Cn(-1,-1,Z.Character,0,""),ku=class{constructor(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}advance(){this.peek=++this.index>=this.length?mt:this.input.charCodeAt(this.index)}scanToken(){let e=this.input,n=this.length,r=this.peek,s=this.index;for(;r<=Gm;)if(++s>=n){r=mt;break}else r=e.charCodeAt(s);if(this.peek=r,this.index=s,s>=n)return null;if(fd(r))return this.scanIdentifier();if(jn(r))return this.scanNumber(s);let i=s;switch(r){case Ws:return this.advance(),jn(this.peek)?this.scanNumber(i):hd(i,this.index,Ws);case Zn:case pn:case kn:case Nt:case ni:case Ys:case Kt:case Ir:case hn:return this.scanCharacter(i,r);case xo:case wo:return this.scanString();case Hm:return this.scanPrivateIdentifier();case jm:case Ha:case bx:case Kn:case Ax:case Px:return this.scanOperator(i,String.fromCharCode(r));case $f:return this.scanQuestion(i);case zs:case xr:return this.scanComplexOperator(i,String.fromCharCode(r),Xs,"=");case au:case Xs:return this.scanComplexOperator(i,String.fromCharCode(r),Xs,"=",Xs,"=");case Ga:return this.scanComplexOperator(i,"&",Ga,"&");case Uf:return this.scanComplexOperator(i,"|",Uf,"|");case eg:for(;_l(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(r)}]`,0)}scanCharacter(e,n){return this.advance(),hd(e,this.index,n)}scanOperator(e,n){return this.advance(),Ec(e,this.index,n)}scanComplexOperator(e,n,r,s,i,o){this.advance();let a=n;return this.peek==r&&(this.advance(),a+=s),i!=null&&this.peek==i&&(this.advance(),a+=o),Ec(e,this.index,a)}scanIdentifier(){let e=this.index;for(this.advance();dd(this.peek);)this.advance();let n=this.input.substring(e,this.index);return sC.indexOf(n)>-1?aC(e,this.index,n):iC(e,this.index,n)}scanPrivateIdentifier(){let e=this.index;if(this.advance(),!fd(this.peek))return this.error("Invalid character [#]",-1);for(;dd(this.peek);)this.advance();let n=this.input.substring(e,this.index);return oC(e,this.index,n)}scanNumber(e){let n=this.index===e,r=!1;for(this.advance();;){if(!jn(this.peek))if(this.peek===Dl){if(!jn(this.input.charCodeAt(this.index-1))||!jn(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);r=!0}else if(this.peek===Ws)n=!1;else if(pC(this.peek)){if(this.advance(),hC(this.peek)&&this.advance(),!jn(this.peek))return this.error("Invalid exponent",-1);n=!1}else break;this.advance()}let s=this.input.substring(e,this.index);r&&(s=s.replace(/_/g,""));let i=n?dC(s):parseFloat(s);return cC(e,this.index,i)}scanString(){let e=this.index,n=this.peek;this.advance();let r="",s=this.index,i=this.input;for(;this.peek!=n;)if(this.peek==Wa){r+=i.substring(s,this.index);let a;if(this.advance(),this.peek==Qm){let l=i.substring(this.index+1,this.index+5);if(/^[0-9a-f]+$/i.test(l))a=parseInt(l,16);else return this.error(`Invalid unicode escape [\\u${l}]`,0);for(let c=0;c<5;c++)this.advance()}else a=fC(this.peek),this.advance();r+=String.fromCharCode(a),s=this.index}else{if(this.peek==mt)return this.error("Unterminated quote",0);this.advance()}let o=i.substring(s,this.index);return this.advance(),lC(e,this.index,r+o)}scanQuestion(e){this.advance();let n="?";return(this.peek===$f||this.peek===Ws)&&(n+=this.peek===Ws?".":"?",this.advance()),Ec(e,this.index,n)}error(e,n){let r=this.index+n;return uC(r,this.index,`Lexer Error: ${e} at column ${r} in expression [${this.input}]`)}};function fd(t){return hs<=t&&t<=Vo||Pi<=t&&t<=Nl||t==Dl||t==Wm}function dd(t){return Rl(t)||jn(t)||t==Dl||t==Wm}function pC(t){return t==Mx||t==Dx}function hC(t){return t==Ha||t==jm}function fC(t){switch(t){case zm:return rs;case Mp:return qm;case Xm:return Pp;case Ym:return Rp;case Jm:return Vm;default:return t}}function dC(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var Mu=class{constructor(e,n,r){this.strings=e,this.expressions=n,this.offsets=r}},Lu=class{constructor(e,n,r){this.templateBindings=e,this.warnings=n,this.errors=r}},ll=class{constructor(e){this._lexer=e,this.errors=[]}parseAction(e,n,r,s=Wt){this._checkNoInterpolation(e,n,s);let i=this._stripComments(e),o=this._lexer.tokenize(i),a=new Jr(e,n,r,o,1,this.errors,0).parseChain();return new Me(a,e,n,r,this.errors)}parseBinding(e,n,r,s=Wt){let i=this._parseBindingAst(e,n,r,s);return new Me(i,e,n,r,this.errors)}checkSimpleExpression(e){let n=new Ou;return e.visit(n),n.errors}parseSimpleBinding(e,n,r,s=Wt){let i=this._parseBindingAst(e,n,r,s),o=this.checkSimpleExpression(i);return o.length>0&&this._reportError(`Host binding expression cannot contain ${o.join(" ")}`,e,n),new Me(i,e,n,r,this.errors)}_reportError(e,n,r,s){this.errors.push(new To(e,n,r,s))}_parseBindingAst(e,n,r,s){this._checkNoInterpolation(e,n,s);let i=this._stripComments(e),o=this._lexer.tokenize(i);return new Jr(e,n,r,o,0,this.errors,0).parseChain()}parseTemplateBindings(e,n,r,s,i){let o=this._lexer.tokenize(n);return new Jr(n,r,i,o,0,this.errors,0).parseTemplateBindings({source:e,span:new Je(s,s+e.length)})}parseInterpolation(e,n,r,s,i=Wt){let{strings:o,expressions:a,offsets:l}=this.splitInterpolation(e,n,s,i);if(a.length===0)return null;let c=[];for(let u=0;u<a.length;++u){let h=a[u].text,d=this._stripComments(h),g=this._lexer.tokenize(d),v=new Jr(e,n,r,g,0,this.errors,l[u]).parseChain();c.push(v)}return this.createInterpolationAst(o.map(u=>u.text),c,e,n,r)}parseInterpolationExpression(e,n,r){let s=this._stripComments(e),i=this._lexer.tokenize(s),o=new Jr(e,n,r,i,0,this.errors,0).parseChain(),a=["",""];return this.createInterpolationAst(a,[o],e,n,r)}createInterpolationAst(e,n,r,s,i){let o=new ms(0,r.length),a=new be(o,o.toAbsolute(i),e,n);return new Me(a,r,s,i,this.errors)}splitInterpolation(e,n,r,s=Wt){let i=[],o=[],a=[],l=r?mC(r):null,c=0,u=!1,h=!1,{start:d,end:g}=s;for(;c<e.length;)if(u){let v=c,I=v+d.length,x=this._getInterpolationEndIndex(e,g,I);if(x===-1){u=!1,h=!0;break}let N=x+g.length,B=e.substring(I,x);B.trim().length===0&&this._reportError("Blank expressions are not allowed in interpolated strings",e,`at column ${c} in`,n),o.push({text:B,start:v,end:N});let ae=(l?.get(v)??v)+d.length;a.push(ae),c=N,u=!1}else{let v=c;c=e.indexOf(d,c),c===-1&&(c=e.length);let I=e.substring(v,c);i.push({text:I,start:v,end:c}),u=!0}if(!u)if(h){let v=i[i.length-1];v.text+=e.substring(c),v.end=e.length}else i.push({text:e.substring(c),start:c,end:e.length});return new Mu(i,o,a)}wrapLiteralPrimitive(e,n,r){let s=new ms(0,e==null?0:e.length);return new Me(new at(s,s.toAbsolute(r),e),e,n,r,this.errors)}_stripComments(e){let n=this._commentStart(e);return n!=null?e.substring(0,n):e}_commentStart(e){let n=null;for(let r=0;r<e.length-1;r++){let s=e.charCodeAt(r),i=e.charCodeAt(r+1);if(s===Kn&&i==Kn&&n==null)return r;n===s?n=null:n==null&&ja(s)&&(n=s)}return null}_checkNoInterpolation(e,n,{start:r,end:s}){let i=-1,o=-1;for(let a of this._forEachUnquotedChar(e,0))if(i===-1)e.startsWith(r)&&(i=a);else if(o=this._getInterpolationEndIndex(e,s,a),o>-1)break;i>-1&&o>-1&&this._reportError(`Got interpolation (${r}${s}) where expression was expected`,e,`at column ${i} in`,n)}_getInterpolationEndIndex(e,n,r){for(let s of this._forEachUnquotedChar(e,r)){if(e.startsWith(n,s))return s;if(e.startsWith("//",s))return e.indexOf(n,s)}return-1}*_forEachUnquotedChar(e,n){let r=null,s=0;for(let i=n;i<e.length;i++){let o=e[i];ja(e.charCodeAt(i))&&(r===null||r===o)&&s%2===0?r=r===null?o:null:r===null&&(yield i),s=o==="\\"?s+1:0}}},ei;(function(t){t[t.None=0]="None",t[t.Writable=1]="Writable"})(ei||(ei={}));var Jr=class{constructor(e,n,r,s,i,o,a){this.input=e,this.location=n,this.absoluteOffset=r,this.tokens=s,this.parseFlags=i,this.errors=o,this.offset=a,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.context=ei.None,this.sourceSpanCache=new Map,this.index=0}peek(e){let n=this.index+e;return n<this.tokens.length?this.tokens[n]:Sc}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){return this.index>0?this.peek(-1).end+this.offset:this.tokens.length===0?this.input.length+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,n){let r=this.currentEndIndex;if(n!==void 0&&n>this.currentEndIndex&&(r=n),e>r){let s=r;r=e,e=s}return new ms(e,r)}sourceSpan(e,n){let r=`${e}@${this.inputIndex}:${n}`;return this.sourceSpanCache.has(r)||this.sourceSpanCache.set(r,this.span(e,n).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(r)}advance(){this.index++}withContext(e,n){this.context|=e;let r=n();return this.context^=e,r}consumeOptionalCharacter(e){return this.next.isCharacter(e)?(this.advance(),!0):!1}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}consumeOptionalOperator(e){return this.next.isOperator(e)?(this.advance(),!0):!1}expectOperator(e){this.consumeOptionalOperator(e)||this.error(`Missing expected operator ${e}`)}prettyPrintToken(e){return e===Sc?"end of input":`token ${e}`}expectIdentifierOrKeyword(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null):(this.advance(),e.toString())}expectIdentifierOrKeywordOrString(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()&&!e.isString()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),""):(this.advance(),e.toString())}parseChain(){let e=[],n=this.inputIndex;for(;this.index<this.tokens.length;){let r=this.parsePipe();if(e.push(r),this.consumeOptionalCharacter(hn))for(this.parseFlags&1||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(hn););else if(this.index<this.tokens.length){let s=this.index;if(this.error(`Unexpected token '${this.next}'`),this.index===s)break}}if(e.length===0){let r=this.offset,s=this.offset+this.input.length;return new Ve(this.span(r,s),this.sourceSpan(r,s))}return e.length==1?e[0]:new Lr(this.span(n),this.sourceSpan(n),e)}parsePipe(){let e=this.inputIndex,n=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseFlags&1&&this.error("Cannot have a pipe in an action expression");do{let r=this.inputIndex,s=this.expectIdentifierOrKeyword(),i,o;s!==null?i=this.sourceSpan(r):(s="",o=this.next.index!==-1?this.next.index:this.input.length+this.offset,i=new ms(o,o).toAbsolute(this.absoluteOffset));let a=[];for(;this.consumeOptionalCharacter(Ir);)a.push(this.parseExpression());n=new Un(this.span(e),this.sourceSpan(e,o),n,s,a,i)}while(this.consumeOptionalOperator("|"))}return n}parseExpression(){return this.parseConditional()}parseConditional(){let e=this.inputIndex,n=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){let r=this.parsePipe(),s;if(this.consumeOptionalCharacter(Ir))s=this.parsePipe();else{let i=this.inputIndex,o=this.input.substring(e,i);this.error(`Conditional expression ${o} requires all 3 expressions`),s=new Ve(this.span(e),this.sourceSpan(e))}return new gs(this.span(e),this.sourceSpan(e),n,r,s)}else return n}parseLogicalOr(){let e=this.inputIndex,n=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){let r=this.parseLogicalAnd();n=new ot(this.span(e),this.sourceSpan(e),"||",n,r)}return n}parseLogicalAnd(){let e=this.inputIndex,n=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){let r=this.parseNullishCoalescing();n=new ot(this.span(e),this.sourceSpan(e),"&&",n,r)}return n}parseNullishCoalescing(){let e=this.inputIndex,n=this.parseEquality();for(;this.consumeOptionalOperator("??");){let r=this.parseEquality();n=new ot(this.span(e),this.sourceSpan(e),"??",n,r)}return n}parseEquality(){let e=this.inputIndex,n=this.parseRelational();for(;this.next.type==Z.Operator;){let r=this.next.strValue;switch(r){case"==":case"===":case"!=":case"!==":this.advance();let s=this.parseRelational();n=new ot(this.span(e),this.sourceSpan(e),r,n,s);continue}break}return n}parseRelational(){let e=this.inputIndex,n=this.parseAdditive();for(;this.next.type==Z.Operator;){let r=this.next.strValue;switch(r){case"<":case">":case"<=":case">=":this.advance();let s=this.parseAdditive();n=new ot(this.span(e),this.sourceSpan(e),r,n,s);continue}break}return n}parseAdditive(){let e=this.inputIndex,n=this.parseMultiplicative();for(;this.next.type==Z.Operator;){let r=this.next.strValue;switch(r){case"+":case"-":this.advance();let s=this.parseMultiplicative();n=new ot(this.span(e),this.sourceSpan(e),r,n,s);continue}break}return n}parseMultiplicative(){let e=this.inputIndex,n=this.parsePrefix();for(;this.next.type==Z.Operator;){let r=this.next.strValue;switch(r){case"*":case"%":case"/":this.advance();let s=this.parsePrefix();n=new ot(this.span(e),this.sourceSpan(e),r,n,s);continue}break}return n}parsePrefix(){if(this.next.type==Z.Operator){let e=this.inputIndex,n=this.next.strValue,r;switch(n){case"+":return this.advance(),r=this.parsePrefix(),ar.createPlus(this.span(e),this.sourceSpan(e),r);case"-":return this.advance(),r=this.parsePrefix(),ar.createMinus(this.span(e),this.sourceSpan(e),r);case"!":return this.advance(),r=this.parsePrefix(),new ys(this.span(e),this.sourceSpan(e),r)}}return this.parseCallChain()}parseCallChain(){let e=this.inputIndex,n=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(Ws))n=this.parseAccessMember(n,e,!1);else if(this.consumeOptionalOperator("?."))this.consumeOptionalCharacter(Zn)?n=this.parseCall(n,e,!0):n=this.consumeOptionalCharacter(ni)?this.parseKeyedReadOrWrite(n,e,!0):this.parseAccessMember(n,e,!0);else if(this.consumeOptionalCharacter(ni))n=this.parseKeyedReadOrWrite(n,e,!1);else if(this.consumeOptionalCharacter(Zn))n=this.parseCall(n,e,!1);else if(this.consumeOptionalOperator("!"))n=new Es(this.span(e),this.sourceSpan(e),n);else return n}parsePrimary(){let e=this.inputIndex;if(this.consumeOptionalCharacter(Zn)){this.rparensExpected++;let n=this.parsePipe();return this.rparensExpected--,this.expectCharacter(pn),n}else{if(this.next.isKeywordNull())return this.advance(),new at(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new at(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new at(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new at(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordThis())return this.advance(),new dn(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(ni)){this.rbracketsExpected++;let n=this.parseExpressionList(Ys);return this.rbracketsExpected--,this.expectCharacter(Ys),new vs(this.span(e),this.sourceSpan(e),n)}else{if(this.next.isCharacter(kn))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMember(new xe(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){let n=this.next.toNumber();return this.advance(),new at(this.span(e),this.sourceSpan(e),n)}else if(this.next.isString()){let n=this.next.toString();return this.advance(),new at(this.span(e),this.sourceSpan(e),n)}else return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new Ve(this.span(e),this.sourceSpan(e))):this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new Ve(this.span(e),this.sourceSpan(e))):(this.error(`Unexpected token ${this.next}`),new Ve(this.span(e),this.sourceSpan(e)))}}}parseExpressionList(e){let n=[];do if(!this.next.isCharacter(e))n.push(this.parsePipe());else break;while(this.consumeOptionalCharacter(Kt));return n}parseLiteralMap(){let e=[],n=[],r=this.inputIndex;if(this.expectCharacter(kn),!this.consumeOptionalCharacter(Nt)){this.rbracesExpected++;do{let s=this.inputIndex,i=this.next.isString(),o=this.expectIdentifierOrKeywordOrString();if(e.push({key:o,quoted:i}),i)this.expectCharacter(Ir),n.push(this.parsePipe());else if(this.consumeOptionalCharacter(Ir))n.push(this.parsePipe());else{let a=this.span(s),l=this.sourceSpan(s);n.push(new de(a,l,l,new xe(a,l),o))}}while(this.consumeOptionalCharacter(Kt)&&!this.next.isCharacter(Nt));this.rbracesExpected--,this.expectCharacter(Nt)}return new Ei(this.span(r),this.sourceSpan(r),e,n)}parseAccessMember(e,n,r){let s=this.inputIndex,i=this.withContext(ei.Writable,()=>{let l=this.expectIdentifierOrKeyword()??"";return l.length===0&&this.error("Expected identifier for property access",e.span.end),l}),o=this.sourceSpan(s),a;if(r)this.consumeOptionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),a=new Ve(this.span(n),this.sourceSpan(n))):a=new Tt(this.span(n),this.sourceSpan(n),o,e,i);else if(this.consumeOptionalOperator("=")){if(!(this.parseFlags&1))return this.error("Bindings cannot contain assignments"),new Ve(this.span(n),this.sourceSpan(n));let l=this.parseConditional();a=new wn(this.span(n),this.sourceSpan(n),o,e,i,l)}else a=new de(this.span(n),this.sourceSpan(n),o,e,i);return a}parseCall(e,n,r){let s=this.inputIndex;this.rparensExpected++;let i=this.parseCallArguments(),o=this.span(s,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(pn),this.rparensExpected--;let a=this.span(n),l=this.sourceSpan(n);return r?new Tn(a,l,e,i,o):new kt(a,l,e,i,o)}parseCallArguments(){if(this.next.isCharacter(pn))return[];let e=[];do e.push(this.parsePipe());while(this.consumeOptionalCharacter(Kt));return e}expectTemplateBindingKey(){let e="",n=!1,r=this.currentAbsoluteOffset;do e+=this.expectIdentifierOrKeywordOrString(),n=this.consumeOptionalOperator("-"),n&&(e+="-");while(n);return{source:e,span:new Je(r,r+e.length)}}parseTemplateBindings(e){let n=[];for(n.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){let r=this.parseLetBinding();if(r)n.push(r);else{let s=this.expectTemplateBindingKey(),i=this.parseAsBinding(s);i?n.push(i):(s.source=e.source+s.source.charAt(0).toUpperCase()+s.source.substring(1),n.push(...this.parseDirectiveKeywordBindings(s)))}this.consumeStatementTerminator()}return new Lu(n,[],this.errors)}parseKeyedReadOrWrite(e,n,r){return this.withContext(ei.Writable,()=>{this.rbracketsExpected++;let s=this.parsePipe();if(s instanceof Ve&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(Ys),this.consumeOptionalOperator("="))if(r)this.error("The '?.' operator cannot be used in the assignment");else{let i=this.parseConditional();return new yi(this.span(n),this.sourceSpan(n),e,s,i)}else return r?new xn(this.span(n),this.sourceSpan(n),e,s):new or(this.span(n),this.sourceSpan(n),e,s);return new Ve(this.span(n),this.sourceSpan(n))})}parseDirectiveKeywordBindings(e){let n=[];this.consumeOptionalCharacter(Ir);let r=this.getDirectiveBoundTarget(),s=this.currentAbsoluteOffset,i=this.parseAsBinding(e);i||(this.consumeStatementTerminator(),s=this.currentAbsoluteOffset);let o=new Je(e.span.start,s);return n.push(new du(o,e,r)),i&&n.push(i),n}getDirectiveBoundTarget(){if(this.next===Sc||this.peekKeywordAs()||this.peekKeywordLet())return null;let e=this.parsePipe(),{start:n,end:r}=e.span,s=this.input.substring(n,r);return new Me(e,s,this.location,this.absoluteOffset+n,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();let n=this.expectTemplateBindingKey();this.consumeStatementTerminator();let r=new Je(e.span.start,this.currentAbsoluteOffset);return new Io(r,n,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;let e=this.currentAbsoluteOffset;this.advance();let n=this.expectTemplateBindingKey(),r=null;this.consumeOptionalOperator("=")&&(r=this.expectTemplateBindingKey()),this.consumeStatementTerminator();let s=new Je(e,this.currentAbsoluteOffset);return new Io(s,n,r)}consumeStatementTerminator(){this.consumeOptionalCharacter(hn)||this.consumeOptionalCharacter(Kt)}error(e,n=null){this.errors.push(new To(e,this.input,this.locationText(n),this.location)),this.skip()}locationText(e=null){return e==null&&(e=this.index),e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(e,n){let r=`Private identifiers are not supported. Unexpected private identifier: ${e}`;n!==null&&(r+=`, ${n}`),this.error(r)}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(hn)&&!e.isOperator("|")&&(this.rparensExpected<=0||!e.isCharacter(pn))&&(this.rbracesExpected<=0||!e.isCharacter(Nt))&&(this.rbracketsExpected<=0||!e.isCharacter(Ys))&&(!(this.context&ei.Writable)||!e.isOperator("="));)this.next.isError()&&this.errors.push(new To(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next}},Ou=class extends Or{constructor(){super(...arguments),this.errors=[]}visitPipe(){this.errors.push("pipes")}};function mC(t){let e=new Map,n=0,r=0,s=0;for(;s<t.length;){let i=t[s];if(i.type===9){let[o,a]=i.parts;n+=a.length,r+=o.length}else{let o=i.parts.reduce((a,l)=>a+l.length,0);r+=o,n+=o}e.set(r,n),s++}return e}var Vr=class{constructor(e,n){this.sourceSpan=e,this.i18n=n}},qr=class extends Vr{constructor(e,n,r,s){super(n,s),this.value=e,this.tokens=r}visit(e,n){return e.visitText(this,n)}},Ai=class extends Vr{constructor(e,n,r,s,i,o){super(s,o),this.switchValue=e,this.type=n,this.cases=r,this.switchValueSourceSpan=i}visit(e,n){return e.visitExpansion(this,n)}},Fu=class{constructor(e,n,r,s,i){this.value=e,this.expression=n,this.sourceSpan=r,this.valueSourceSpan=s,this.expSourceSpan=i}visit(e,n){return e.visitExpansionCase(this,n)}},Bu=class extends Vr{constructor(e,n,r,s,i,o,a){super(r,a),this.name=e,this.value=n,this.keySpan=s,this.valueSpan=i,this.valueTokens=o}visit(e,n){return e.visitAttribute(this,n)}},Gt=class extends Vr{constructor(e,n,r,s,i,o=null,a){super(s,a),this.name=e,this.attrs=n,this.children=r,this.startSourceSpan=i,this.endSourceSpan=o}visit(e,n){return e.visitElement(this,n)}},Po=class{constructor(e,n){this.value=e,this.sourceSpan=n}visit(e,n){return e.visitComment(this,n)}},Ht=class extends Vr{constructor(e,n,r,s,i,o,a=null,l){super(s,l),this.name=e,this.parameters=n,this.children=r,this.nameSpan=i,this.startSourceSpan=o,this.endSourceSpan=a}visit(e,n){return e.visitBlock(this,n)}},cl=class{constructor(e,n){this.expression=e,this.sourceSpan=n}visit(e,n){return e.visitBlockParameter(this,n)}};function Ae(t,e,n=null){let r=[],s=t.visit?i=>t.visit(i,n)||i.visit(t,n):i=>i.visit(t,n);return e.forEach(i=>{let o=s(i);o&&r.push(o)}),r}var $u=class{},gC="boolean",vC="number",yC="string",EC="object",SC=["[Element]|textContent,%ariaAtomic,%ariaAutoComplete,%ariaBusy,%ariaChecked,%ariaColCount,%ariaColIndex,%ariaColSpan,%ariaCurrent,%ariaDescription,%ariaDisabled,%ariaExpanded,%ariaHasPopup,%ariaHidden,%ariaKeyShortcuts,%ariaLabel,%ariaLevel,%ariaLive,%ariaModal,%ariaMultiLine,%ariaMultiSelectable,%ariaOrientation,%ariaPlaceholder,%ariaPosInSet,%ariaPressed,%ariaReadOnly,%ariaRelevant,%ariaRequired,%ariaRoleDescription,%ariaRowCount,%ariaRowIndex,%ariaRowSpan,%ariaSelected,%ariaSetSize,%ariaSort,%ariaValueMax,%ariaValueMin,%ariaValueNow,%ariaValueText,%classList,className,elementTiming,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*fullscreenchange,*fullscreenerror,*search,*webkitfullscreenchange,*webkitfullscreenerror,outerHTML,%part,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,!inert,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","abbr,address,article,aside,b,bdi,bdo,cite,content,code,dd,dfn,dt,em,figcaption,figure,footer,header,hgroup,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,!preservesPitch,src,%srcObject,#volume",":svg:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","data^[HTMLElement]|value","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,allow,!allowFullscreen,!allowPaymentRequest,csp,frameBorder,height,loading,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,decoding,#height,#hspace,!isMap,loading,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocomplete,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,imageSizes,imageSrcset,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,media,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,!noModule,%referrerPolicy,src,text,type","select^[HTMLElement]|autocomplete,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","slot^[HTMLElement]|name","source^[HTMLElement]|#height,media,sizes,src,srcset,type,#width","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocomplete,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","time^[HTMLElement]|dateTime","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|!disablePictureInPicture,#height,*enterpictureinpicture,*leavepictureinpicture,!playsInline,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|decoding",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],Cg=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"})),wC=Array.from(Cg).reduce((t,[e,n])=>(t.set(e,n),t),new Map),An=class extends $u{constructor(){super(),this._schema=new Map,this._eventSchema=new Map,SC.forEach(e=>{let n=new Map,r=new Set,[s,i]=e.split("|"),o=i.split(","),[a,l]=s.split("^");a.split(",").forEach(u=>{this._schema.set(u.toLowerCase(),n),this._eventSchema.set(u.toLowerCase(),r)});let c=l&&this._schema.get(l.toLowerCase());if(c){for(let[u,h]of c)n.set(u,h);for(let u of this._eventSchema.get(l.toLowerCase()))r.add(u)}o.forEach(u=>{if(u.length>0)switch(u[0]){case"*":r.add(u.substring(1));break;case"!":n.set(u.substring(1),gC);break;case"#":n.set(u.substring(1),vC);break;case"%":n.set(u.substring(1),EC);break;default:n.set(u,yC)}})})}hasProperty(e,n,r){if(r.some(i=>i.name===Bc.name))return!0;if(e.indexOf("-")>-1){if(Xc(e)||Yc(e))return!1;if(r.some(i=>i.name===Fc.name))return!0}return(this._schema.get(e.toLowerCase())||this._schema.get("unknown")).has(n)}hasElement(e,n){return n.some(r=>r.name===Bc.name)||e.indexOf("-")>-1&&(Xc(e)||Yc(e)||n.some(r=>r.name===Fc.name))?!0:this._schema.has(e.toLowerCase())}securityContext(e,n,r){r&&(n=this.getMappedPropName(n)),e=e.toLowerCase(),n=n.toLowerCase();let s=jf()[e+"|"+n];return s||(s=jf()["*|"+n],s||ne.NONE)}getMappedPropName(e){return Cg.get(e)??e}getDefaultComponentElementName(){return"ng-component"}validateProperty(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...
If '${e}' is a directive input, make sure the directive is imported by the current module.`}:{error:!1}}validateAttribute(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`}:{error:!1}}allKnownElementNames(){return Array.from(this._schema.keys())}allKnownAttributesOfElement(e){let n=this._schema.get(e.toLowerCase())||this._schema.get("unknown");return Array.from(n.keys()).map(r=>wC.get(r)??r)}allKnownEventsOfElement(e){return Array.from(this._eventSchema.get(e.toLowerCase())??[])}normalizeAnimationStyleProperty(e){return Lw(e)}normalizeAnimationStyleValue(e,n,r){let s="",i=r.toString().trim(),o=null;if(xC(e)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&(o=`Please provide a CSS unit value for ${n}:${r}`)}return{error:o,value:i+s}}};function xC(t){switch(t){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}var X=class{constructor({closedByChildren:e,implicitNamespacePrefix:n,contentType:r=cn.PARSABLE_DATA,closedByParent:s=!1,isVoid:i=!1,ignoreFirstLf:o=!1,preventNamespaceInheritance:a=!1,canSelfClose:l=!1}={}){this.closedByChildren={},this.closedByParent=!1,e&&e.length>0&&e.forEach(c=>this.closedByChildren[c]=!0),this.isVoid=i,this.closedByParent=s||i,this.implicitNamespacePrefix=n||null,this.contentType=r,this.ignoreFirstLf=o,this.preventNamespaceInheritance=a,this.canSelfClose=l??i}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}getContentType(e){return typeof this.contentType=="object"?(e===void 0?void 0:this.contentType[e])??this.contentType.default:this.contentType}},md,qs;function Ag(t){return qs||(md=new X({canSelfClose:!0}),qs=Object.assign(Object.create(null),{base:new X({isVoid:!0}),meta:new X({isVoid:!0}),area:new X({isVoid:!0}),embed:new X({isVoid:!0}),link:new X({isVoid:!0}),img:new X({isVoid:!0}),input:new X({isVoid:!0}),param:new X({isVoid:!0}),hr:new X({isVoid:!0}),br:new X({isVoid:!0}),source:new X({isVoid:!0}),track:new X({isVoid:!0}),wbr:new X({isVoid:!0}),p:new X({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new X({closedByChildren:["tbody","tfoot"]}),tbody:new X({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new X({closedByChildren:["tbody"],closedByParent:!0}),tr:new X({closedByChildren:["tr"],closedByParent:!0}),td:new X({closedByChildren:["td","th"],closedByParent:!0}),th:new X({closedByChildren:["td","th"],closedByParent:!0}),col:new X({isVoid:!0}),svg:new X({implicitNamespacePrefix:"svg"}),foreignObject:new X({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new X({implicitNamespacePrefix:"math"}),li:new X({closedByChildren:["li"],closedByParent:!0}),dt:new X({closedByChildren:["dt","dd"]}),dd:new X({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new X({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new X({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new X({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new X({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new X({closedByChildren:["optgroup"],closedByParent:!0}),option:new X({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new X({ignoreFirstLf:!0}),listing:new X({ignoreFirstLf:!0}),style:new X({contentType:cn.RAW_TEXT}),script:new X({contentType:cn.RAW_TEXT}),title:new X({contentType:{default:cn.ESCAPABLE_RAW_TEXT,svg:cn.PARSABLE_DATA}}),textarea:new X({contentType:cn.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),new An().allKnownElementNames().forEach(e=>{!qs[e]&&Qc(e)===null&&(qs[e]=new X({canSelfClose:!1}))})),qs[t]??qs[t.toLowerCase()]??md}var gd={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},Uu=class{constructor(){this._placeHolderNameCounts={},this._signatureToName={}}getStartTagPlaceholderName(e,n,r){let s=this._hashTag(e,n,r);if(this._signatureToName[s])return this._signatureToName[s];let i=e.toUpperCase(),o=gd[i]||`TAG_${i}`,a=this._generateUniqueName(r?o:`START_${o}`);return this._signatureToName[s]=a,a}getCloseTagPlaceholderName(e){let n=this._hashClosingTag(e);if(this._signatureToName[n])return this._signatureToName[n];let r=e.toUpperCase(),s=gd[r]||`TAG_${r}`,i=this._generateUniqueName(`CLOSE_${s}`);return this._signatureToName[n]=i,i}getPlaceholderName(e,n){let r=e.toUpperCase(),s=`PH: ${r}=${n}`;if(this._signatureToName[s])return this._signatureToName[s];let i=this._generateUniqueName(r);return this._signatureToName[s]=i,i}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}getStartBlockPlaceholderName(e,n){let r=this._hashBlock(e,n);if(this._signatureToName[r])return this._signatureToName[r];let s=this._generateUniqueName(`START_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[r]=s,s}getCloseBlockPlaceholderName(e){let n=this._hashClosingBlock(e);if(this._signatureToName[n])return this._signatureToName[n];let r=this._generateUniqueName(`CLOSE_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[n]=r,r}_hashTag(e,n,r){let s=`<${e}`,i=Object.keys(n).sort().map(a=>` ${a}=${n[a]}`).join(""),o=r?"/>":`></${e}>`;return s+i+o}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_hashBlock(e,n){let r=n.length===0?"":` (${n.sort().join("; ")})`;return`@${e}${r} {}`}_hashClosingBlock(e){return this._hashBlock(`close_${e}`,[])}_toSnakeCase(e){return e.toUpperCase().replace(/[^A-Z0-9]/g,"_")}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;let r=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=r+1,`${e}_${r}`}},TC=new ll(new Ro);function IC(t,e){let n=new Vu(TC,t,e);return(r,s,i,o,a)=>n.toI18nMessage(r,s,i,o,a)}function CC(t,e){return e}var Vu=class{constructor(e,n,r){this._expressionParser=e,this._interpolationConfig=n,this._containerBlocks=r}toI18nMessage(e,n="",r="",s="",i){let o={isIcu:e.length==1&&e[0]instanceof Ai,icuDepth:0,placeholderRegistry:new Uu,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:i||CC},a=Ae(this,e,o);return new ct(a,o.placeholderToContent,o.placeholderToMessage,n,r,s)}visitElement(e,n){let r=Ae(this,e.children,n),s={};e.attrs.forEach(c=>{s[c.name]=c.value});let i=Ag(e.name).isVoid,o=n.placeholderRegistry.getStartTagPlaceholderName(e.name,s,i);n.placeholderToContent[o]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan};let a="";i||(a=n.placeholderRegistry.getCloseTagPlaceholderName(e.name),n.placeholderToContent[a]={text:`</${e.name}>`,sourceSpan:e.endSourceSpan??e.sourceSpan});let l=new kr(e.name,s,o,a,r,i,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return n.visitNodeFn(e,l)}visitAttribute(e,n){let r=e.valueTokens===void 0||e.valueTokens.length===1?new Ks(e.value,e.valueSpan||e.sourceSpan):this._visitTextWithInterpolation(e.valueTokens,e.valueSpan||e.sourceSpan,n,e.i18n);return n.visitNodeFn(e,r)}visitText(e,n){let r=e.tokens.length===1?new Ks(e.value,e.sourceSpan):this._visitTextWithInterpolation(e.tokens,e.sourceSpan,n,e.i18n);return n.visitNodeFn(e,r)}visitComment(e,n){return null}visitExpansion(e,n){n.icuDepth++;let r={},s=new Ua(e.switchValue,e.type,r,e.sourceSpan);if(e.cases.forEach(a=>{r[a.value]=new Ln(a.expression.map(l=>l.visit(this,n)),a.expSourceSpan)}),n.icuDepth--,n.isIcu||n.icuDepth>0){let a=n.placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return s.expressionPlaceholder=a,n.placeholderToContent[a]={text:e.switchValue,sourceSpan:e.switchValueSourceSpan},n.visitNodeFn(e,s)}let i=n.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());n.placeholderToMessage[i]=this.toI18nMessage([e],"","","",void 0);let o=new di(s,i,e.sourceSpan);return n.visitNodeFn(e,o)}visitExpansionCase(e,n){throw new Error("Unreachable code")}visitBlock(e,n){let r=Ae(this,e.children,n);if(this._containerBlocks.has(e.name))return new Ln(r,e.sourceSpan);let s=e.parameters.map(l=>l.expression),i=n.placeholderRegistry.getStartBlockPlaceholderName(e.name,s),o=n.placeholderRegistry.getCloseBlockPlaceholderName(e.name);n.placeholderToContent[i]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan},n.placeholderToContent[o]={text:e.endSourceSpan?e.endSourceSpan.toString():"}",sourceSpan:e.endSourceSpan??e.sourceSpan};let a=new ir(e.name,s,i,o,r,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return n.visitNodeFn(e,a)}visitBlockParameter(e,n){throw new Error("Unreachable code")}_visitTextWithInterpolation(e,n,r,s){let i=[],o=!1;for(let a of e)switch(a.type){case 8:case 17:o=!0;let l=a.parts[1],c=_C(l)||"INTERPOLATION",u=r.placeholderRegistry.getPlaceholderName(c,l);r.placeholderToContent[u]={text:a.parts.join(""),sourceSpan:a.sourceSpan},i.push(new yo(l,u,a.sourceSpan));break;default:if(a.parts[0].length>0){let h=i[i.length-1];h instanceof Ks?(h.value+=a.parts[0],h.sourceSpan=new K(h.sourceSpan.start,a.sourceSpan.end,h.sourceSpan.fullStart,h.sourceSpan.details)):i.push(new Ks(a.parts[0],a.sourceSpan))}break}return o?(AC(i,s),new Ln(i,n)):i[0]}};function AC(t,e){if(e instanceof ct&&(bC(e),e=e.nodes[0]),e instanceof Ln){NC(e.children,t);for(let n=0;n<t.length;n++)t[n].sourceSpan=e.children[n].sourceSpan}}function bC(t){let e=t.nodes;if(e.length!==1||!(e[0]instanceof Ln))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}function NC(t,e){if(t.length!==e.length)throw new Error("The number of i18n message children changed between first and second pass.");if(t.some((n,r)=>e[r].constructor!==n.constructor))throw new Error("The types of the i18n message children changed between first and second pass.")}var DC=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function _C(t){return t.split(DC)[2]}var qu=class extends z{constructor(e,n){super(e,n)}},ul={AElig:"\xC6",AMP:"&",amp:"&",Aacute:"\xC1",Abreve:"\u0102",Acirc:"\xC2",Acy:"\u0410",Afr:"\u{1D504}",Agrave:"\xC0",Alpha:"\u0391",Amacr:"\u0100",And:"\u2A53",Aogon:"\u0104",Aopf:"\u{1D538}",ApplyFunction:"\u2061",af:"\u2061",Aring:"\xC5",angst:"\xC5",Ascr:"\u{1D49C}",Assign:"\u2254",colone:"\u2254",coloneq:"\u2254",Atilde:"\xC3",Auml:"\xC4",Backslash:"\u2216",setminus:"\u2216",setmn:"\u2216",smallsetminus:"\u2216",ssetmn:"\u2216",Barv:"\u2AE7",Barwed:"\u2306",doublebarwedge:"\u2306",Bcy:"\u0411",Because:"\u2235",becaus:"\u2235",because:"\u2235",Bernoullis:"\u212C",Bscr:"\u212C",bernou:"\u212C",Beta:"\u0392",Bfr:"\u{1D505}",Bopf:"\u{1D539}",Breve:"\u02D8",breve:"\u02D8",Bumpeq:"\u224E",HumpDownHump:"\u224E",bump:"\u224E",CHcy:"\u0427",COPY:"\xA9",copy:"\xA9",Cacute:"\u0106",Cap:"\u22D2",CapitalDifferentialD:"\u2145",DD:"\u2145",Cayleys:"\u212D",Cfr:"\u212D",Ccaron:"\u010C",Ccedil:"\xC7",Ccirc:"\u0108",Cconint:"\u2230",Cdot:"\u010A",Cedilla:"\xB8",cedil:"\xB8",CenterDot:"\xB7",centerdot:"\xB7",middot:"\xB7",Chi:"\u03A7",CircleDot:"\u2299",odot:"\u2299",CircleMinus:"\u2296",ominus:"\u2296",CirclePlus:"\u2295",oplus:"\u2295",CircleTimes:"\u2297",otimes:"\u2297",ClockwiseContourIntegral:"\u2232",cwconint:"\u2232",CloseCurlyDoubleQuote:"\u201D",rdquo:"\u201D",rdquor:"\u201D",CloseCurlyQuote:"\u2019",rsquo:"\u2019",rsquor:"\u2019",Colon:"\u2237",Proportion:"\u2237",Colone:"\u2A74",Congruent:"\u2261",equiv:"\u2261",Conint:"\u222F",DoubleContourIntegral:"\u222F",ContourIntegral:"\u222E",conint:"\u222E",oint:"\u222E",Copf:"\u2102",complexes:"\u2102",Coproduct:"\u2210",coprod:"\u2210",CounterClockwiseContourIntegral:"\u2233",awconint:"\u2233",Cross:"\u2A2F",Cscr:"\u{1D49E}",Cup:"\u22D3",CupCap:"\u224D",asympeq:"\u224D",DDotrahd:"\u2911",DJcy:"\u0402",DScy:"\u0405",DZcy:"\u040F",Dagger:"\u2021",ddagger:"\u2021",Darr:"\u21A1",Dashv:"\u2AE4",DoubleLeftTee:"\u2AE4",Dcaron:"\u010E",Dcy:"\u0414",Del:"\u2207",nabla:"\u2207",Delta:"\u0394",Dfr:"\u{1D507}",DiacriticalAcute:"\xB4",acute:"\xB4",DiacriticalDot:"\u02D9",dot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",dblac:"\u02DD",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"\u02DC",tilde:"\u02DC",Diamond:"\u22C4",diam:"\u22C4",diamond:"\u22C4",DifferentialD:"\u2146",dd:"\u2146",Dopf:"\u{1D53B}",Dot:"\xA8",DoubleDot:"\xA8",die:"\xA8",uml:"\xA8",DotDot:"\u20DC",DotEqual:"\u2250",doteq:"\u2250",esdot:"\u2250",DoubleDownArrow:"\u21D3",Downarrow:"\u21D3",dArr:"\u21D3",DoubleLeftArrow:"\u21D0",Leftarrow:"\u21D0",lArr:"\u21D0",DoubleLeftRightArrow:"\u21D4",Leftrightarrow:"\u21D4",hArr:"\u21D4",iff:"\u21D4",DoubleLongLeftArrow:"\u27F8",Longleftarrow:"\u27F8",xlArr:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",Longleftrightarrow:"\u27FA",xhArr:"\u27FA",DoubleLongRightArrow:"\u27F9",Longrightarrow:"\u27F9",xrArr:"\u27F9",DoubleRightArrow:"\u21D2",Implies:"\u21D2",Rightarrow:"\u21D2",rArr:"\u21D2",DoubleRightTee:"\u22A8",vDash:"\u22A8",DoubleUpArrow:"\u21D1",Uparrow:"\u21D1",uArr:"\u21D1",DoubleUpDownArrow:"\u21D5",Updownarrow:"\u21D5",vArr:"\u21D5",DoubleVerticalBar:"\u2225",par:"\u2225",parallel:"\u2225",shortparallel:"\u2225",spar:"\u2225",DownArrow:"\u2193",ShortDownArrow:"\u2193",darr:"\u2193",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",duarr:"\u21F5",DownBreve:"\u0311",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",leftharpoondown:"\u21BD",lhard:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",rhard:"\u21C1",rightharpoondown:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",top:"\u22A4",DownTeeArrow:"\u21A7",mapstodown:"\u21A7",Dscr:"\u{1D49F}",Dstrok:"\u0110",ENG:"\u014A",ETH:"\xD0",Eacute:"\xC9",Ecaron:"\u011A",Ecirc:"\xCA",Ecy:"\u042D",Edot:"\u0116",Efr:"\u{1D508}",Egrave:"\xC8",Element:"\u2208",in:"\u2208",isin:"\u2208",isinv:"\u2208",Emacr:"\u0112",EmptySmallSquare:"\u25FB",EmptyVerySmallSquare:"\u25AB",Eogon:"\u0118",Eopf:"\u{1D53C}",Epsilon:"\u0395",Equal:"\u2A75",EqualTilde:"\u2242",eqsim:"\u2242",esim:"\u2242",Equilibrium:"\u21CC",rightleftharpoons:"\u21CC",rlhar:"\u21CC",Escr:"\u2130",expectation:"\u2130",Esim:"\u2A73",Eta:"\u0397",Euml:"\xCB",Exists:"\u2203",exist:"\u2203",ExponentialE:"\u2147",ee:"\u2147",exponentiale:"\u2147",Fcy:"\u0424",Ffr:"\u{1D509}",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",blacksquare:"\u25AA",squarf:"\u25AA",squf:"\u25AA",Fopf:"\u{1D53D}",ForAll:"\u2200",forall:"\u2200",Fouriertrf:"\u2131",Fscr:"\u2131",GJcy:"\u0403",GT:">",gt:">",Gamma:"\u0393",Gammad:"\u03DC",Gbreve:"\u011E",Gcedil:"\u0122",Gcirc:"\u011C",Gcy:"\u0413",Gdot:"\u0120",Gfr:"\u{1D50A}",Gg:"\u22D9",ggg:"\u22D9",Gopf:"\u{1D53E}",GreaterEqual:"\u2265",ge:"\u2265",geq:"\u2265",GreaterEqualLess:"\u22DB",gel:"\u22DB",gtreqless:"\u22DB",GreaterFullEqual:"\u2267",gE:"\u2267",geqq:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",gl:"\u2277",gtrless:"\u2277",GreaterSlantEqual:"\u2A7E",geqslant:"\u2A7E",ges:"\u2A7E",GreaterTilde:"\u2273",gsim:"\u2273",gtrsim:"\u2273",Gscr:"\u{1D4A2}",Gt:"\u226B",NestedGreaterGreater:"\u226B",gg:"\u226B",HARDcy:"\u042A",Hacek:"\u02C7",caron:"\u02C7",Hat:"^",Hcirc:"\u0124",Hfr:"\u210C",Poincareplane:"\u210C",HilbertSpace:"\u210B",Hscr:"\u210B",hamilt:"\u210B",Hopf:"\u210D",quaternions:"\u210D",HorizontalLine:"\u2500",boxh:"\u2500",Hstrok:"\u0126",HumpEqual:"\u224F",bumpe:"\u224F",bumpeq:"\u224F",IEcy:"\u0415",IJlig:"\u0132",IOcy:"\u0401",Iacute:"\xCD",Icirc:"\xCE",Icy:"\u0418",Idot:"\u0130",Ifr:"\u2111",Im:"\u2111",image:"\u2111",imagpart:"\u2111",Igrave:"\xCC",Imacr:"\u012A",ImaginaryI:"\u2148",ii:"\u2148",Int:"\u222C",Integral:"\u222B",int:"\u222B",Intersection:"\u22C2",bigcap:"\u22C2",xcap:"\u22C2",InvisibleComma:"\u2063",ic:"\u2063",InvisibleTimes:"\u2062",it:"\u2062",Iogon:"\u012E",Iopf:"\u{1D540}",Iota:"\u0399",Iscr:"\u2110",imagline:"\u2110",Itilde:"\u0128",Iukcy:"\u0406",Iuml:"\xCF",Jcirc:"\u0134",Jcy:"\u0419",Jfr:"\u{1D50D}",Jopf:"\u{1D541}",Jscr:"\u{1D4A5}",Jsercy:"\u0408",Jukcy:"\u0404",KHcy:"\u0425",KJcy:"\u040C",Kappa:"\u039A",Kcedil:"\u0136",Kcy:"\u041A",Kfr:"\u{1D50E}",Kopf:"\u{1D542}",Kscr:"\u{1D4A6}",LJcy:"\u0409",LT:"<",lt:"<",Lacute:"\u0139",Lambda:"\u039B",Lang:"\u27EA",Laplacetrf:"\u2112",Lscr:"\u2112",lagran:"\u2112",Larr:"\u219E",twoheadleftarrow:"\u219E",Lcaron:"\u013D",Lcedil:"\u013B",Lcy:"\u041B",LeftAngleBracket:"\u27E8",lang:"\u27E8",langle:"\u27E8",LeftArrow:"\u2190",ShortLeftArrow:"\u2190",larr:"\u2190",leftarrow:"\u2190",slarr:"\u2190",LeftArrowBar:"\u21E4",larrb:"\u21E4",LeftArrowRightArrow:"\u21C6",leftrightarrows:"\u21C6",lrarr:"\u21C6",LeftCeiling:"\u2308",lceil:"\u2308",LeftDoubleBracket:"\u27E6",lobrk:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",dharl:"\u21C3",downharpoonleft:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",lfloor:"\u230A",LeftRightArrow:"\u2194",harr:"\u2194",leftrightarrow:"\u2194",LeftRightVector:"\u294E",LeftTee:"\u22A3",dashv:"\u22A3",LeftTeeArrow:"\u21A4",mapstoleft:"\u21A4",LeftTeeVector:"\u295A",LeftTriangle:"\u22B2",vartriangleleft:"\u22B2",vltri:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",ltrie:"\u22B4",trianglelefteq:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",uharl:"\u21BF",upharpoonleft:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",leftharpoonup:"\u21BC",lharu:"\u21BC",LeftVectorBar:"\u2952",LessEqualGreater:"\u22DA",leg:"\u22DA",lesseqgtr:"\u22DA",LessFullEqual:"\u2266",lE:"\u2266",leqq:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",lg:"\u2276",LessLess:"\u2AA1",LessSlantEqual:"\u2A7D",leqslant:"\u2A7D",les:"\u2A7D",LessTilde:"\u2272",lesssim:"\u2272",lsim:"\u2272",Lfr:"\u{1D50F}",Ll:"\u22D8",Lleftarrow:"\u21DA",lAarr:"\u21DA",Lmidot:"\u013F",LongLeftArrow:"\u27F5",longleftarrow:"\u27F5",xlarr:"\u27F5",LongLeftRightArrow:"\u27F7",longleftrightarrow:"\u27F7",xharr:"\u27F7",LongRightArrow:"\u27F6",longrightarrow:"\u27F6",xrarr:"\u27F6",Lopf:"\u{1D543}",LowerLeftArrow:"\u2199",swarr:"\u2199",swarrow:"\u2199",LowerRightArrow:"\u2198",searr:"\u2198",searrow:"\u2198",Lsh:"\u21B0",lsh:"\u21B0",Lstrok:"\u0141",Lt:"\u226A",NestedLessLess:"\u226A",ll:"\u226A",Map:"\u2905",Mcy:"\u041C",MediumSpace:"\u205F",Mellintrf:"\u2133",Mscr:"\u2133",phmmat:"\u2133",Mfr:"\u{1D510}",MinusPlus:"\u2213",mnplus:"\u2213",mp:"\u2213",Mopf:"\u{1D544}",Mu:"\u039C",NJcy:"\u040A",Nacute:"\u0143",Ncaron:"\u0147",Ncedil:"\u0145",Ncy:"\u041D",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",ZeroWidthSpace:"\u200B",NewLine:`
`,Nfr:"\u{1D511}",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nbsp:"\xA0",Nopf:"\u2115",naturals:"\u2115",Not:"\u2AEC",NotCongruent:"\u2262",nequiv:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",npar:"\u2226",nparallel:"\u2226",nshortparallel:"\u2226",nspar:"\u2226",NotElement:"\u2209",notin:"\u2209",notinva:"\u2209",NotEqual:"\u2260",ne:"\u2260",NotEqualTilde:"\u2242\u0338",nesim:"\u2242\u0338",NotExists:"\u2204",nexist:"\u2204",nexists:"\u2204",NotGreater:"\u226F",ngt:"\u226F",ngtr:"\u226F",NotGreaterEqual:"\u2271",nge:"\u2271",ngeq:"\u2271",NotGreaterFullEqual:"\u2267\u0338",ngE:"\u2267\u0338",ngeqq:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",nGtv:"\u226B\u0338",NotGreaterLess:"\u2279",ntgl:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",NotGreaterTilde:"\u2275",ngsim:"\u2275",NotHumpDownHump:"\u224E\u0338",nbump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",nbumpe:"\u224F\u0338",NotLeftTriangle:"\u22EA",nltri:"\u22EA",ntriangleleft:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",nltrie:"\u22EC",ntrianglelefteq:"\u22EC",NotLess:"\u226E",nless:"\u226E",nlt:"\u226E",NotLessEqual:"\u2270",nle:"\u2270",nleq:"\u2270",NotLessGreater:"\u2278",ntlg:"\u2278",NotLessLess:"\u226A\u0338",nLtv:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",NotLessTilde:"\u2274",nlsim:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",NotPrecedes:"\u2280",npr:"\u2280",nprec:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",npre:"\u2AAF\u0338",npreceq:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",nprcue:"\u22E0",NotReverseElement:"\u220C",notni:"\u220C",notniva:"\u220C",NotRightTriangle:"\u22EB",nrtri:"\u22EB",ntriangleright:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",nrtrie:"\u22ED",ntrianglerighteq:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",nsqsube:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",nsqsupe:"\u22E3",NotSubset:"\u2282\u20D2",nsubset:"\u2282\u20D2",vnsub:"\u2282\u20D2",NotSubsetEqual:"\u2288",nsube:"\u2288",nsubseteq:"\u2288",NotSucceeds:"\u2281",nsc:"\u2281",nsucc:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",nsce:"\u2AB0\u0338",nsucceq:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",nsccue:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",nsupset:"\u2283\u20D2",vnsup:"\u2283\u20D2",NotSupersetEqual:"\u2289",nsupe:"\u2289",nsupseteq:"\u2289",NotTilde:"\u2241",nsim:"\u2241",NotTildeEqual:"\u2244",nsime:"\u2244",nsimeq:"\u2244",NotTildeFullEqual:"\u2247",ncong:"\u2247",NotTildeTilde:"\u2249",nap:"\u2249",napprox:"\u2249",NotVerticalBar:"\u2224",nmid:"\u2224",nshortmid:"\u2224",nsmid:"\u2224",Nscr:"\u{1D4A9}",Ntilde:"\xD1",Nu:"\u039D",OElig:"\u0152",Oacute:"\xD3",Ocirc:"\xD4",Ocy:"\u041E",Odblac:"\u0150",Ofr:"\u{1D512}",Ograve:"\xD2",Omacr:"\u014C",Omega:"\u03A9",ohm:"\u03A9",Omicron:"\u039F",Oopf:"\u{1D546}",OpenCurlyDoubleQuote:"\u201C",ldquo:"\u201C",OpenCurlyQuote:"\u2018",lsquo:"\u2018",Or:"\u2A54",Oscr:"\u{1D4AA}",Oslash:"\xD8",Otilde:"\xD5",Otimes:"\u2A37",Ouml:"\xD6",OverBar:"\u203E",oline:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",tbrk:"\u23B4",OverParenthesis:"\u23DC",PartialD:"\u2202",part:"\u2202",Pcy:"\u041F",Pfr:"\u{1D513}",Phi:"\u03A6",Pi:"\u03A0",PlusMinus:"\xB1",plusmn:"\xB1",pm:"\xB1",Popf:"\u2119",primes:"\u2119",Pr:"\u2ABB",Precedes:"\u227A",pr:"\u227A",prec:"\u227A",PrecedesEqual:"\u2AAF",pre:"\u2AAF",preceq:"\u2AAF",PrecedesSlantEqual:"\u227C",prcue:"\u227C",preccurlyeq:"\u227C",PrecedesTilde:"\u227E",precsim:"\u227E",prsim:"\u227E",Prime:"\u2033",Product:"\u220F",prod:"\u220F",Proportional:"\u221D",prop:"\u221D",propto:"\u221D",varpropto:"\u221D",vprop:"\u221D",Pscr:"\u{1D4AB}",Psi:"\u03A8",QUOT:'"',quot:'"',Qfr:"\u{1D514}",Qopf:"\u211A",rationals:"\u211A",Qscr:"\u{1D4AC}",RBarr:"\u2910",drbkarow:"\u2910",REG:"\xAE",circledR:"\xAE",reg:"\xAE",Racute:"\u0154",Rang:"\u27EB",Rarr:"\u21A0",twoheadrightarrow:"\u21A0",Rarrtl:"\u2916",Rcaron:"\u0158",Rcedil:"\u0156",Rcy:"\u0420",Re:"\u211C",Rfr:"\u211C",real:"\u211C",realpart:"\u211C",ReverseElement:"\u220B",SuchThat:"\u220B",ni:"\u220B",niv:"\u220B",ReverseEquilibrium:"\u21CB",leftrightharpoons:"\u21CB",lrhar:"\u21CB",ReverseUpEquilibrium:"\u296F",duhar:"\u296F",Rho:"\u03A1",RightAngleBracket:"\u27E9",rang:"\u27E9",rangle:"\u27E9",RightArrow:"\u2192",ShortRightArrow:"\u2192",rarr:"\u2192",rightarrow:"\u2192",srarr:"\u2192",RightArrowBar:"\u21E5",rarrb:"\u21E5",RightArrowLeftArrow:"\u21C4",rightleftarrows:"\u21C4",rlarr:"\u21C4",RightCeiling:"\u2309",rceil:"\u2309",RightDoubleBracket:"\u27E7",robrk:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",dharr:"\u21C2",downharpoonright:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rfloor:"\u230B",RightTee:"\u22A2",vdash:"\u22A2",RightTeeArrow:"\u21A6",map:"\u21A6",mapsto:"\u21A6",RightTeeVector:"\u295B",RightTriangle:"\u22B3",vartriangleright:"\u22B3",vrtri:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",rtrie:"\u22B5",trianglerighteq:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",uharr:"\u21BE",upharpoonright:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",rharu:"\u21C0",rightharpoonup:"\u21C0",RightVectorBar:"\u2953",Ropf:"\u211D",reals:"\u211D",RoundImplies:"\u2970",Rrightarrow:"\u21DB",rAarr:"\u21DB",Rscr:"\u211B",realine:"\u211B",Rsh:"\u21B1",rsh:"\u21B1",RuleDelayed:"\u29F4",SHCHcy:"\u0429",SHcy:"\u0428",SOFTcy:"\u042C",Sacute:"\u015A",Sc:"\u2ABC",Scaron:"\u0160",Scedil:"\u015E",Scirc:"\u015C",Scy:"\u0421",Sfr:"\u{1D516}",ShortUpArrow:"\u2191",UpArrow:"\u2191",uarr:"\u2191",uparrow:"\u2191",Sigma:"\u03A3",SmallCircle:"\u2218",compfn:"\u2218",Sopf:"\u{1D54A}",Sqrt:"\u221A",radic:"\u221A",Square:"\u25A1",squ:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",sqcap:"\u2293",SquareSubset:"\u228F",sqsub:"\u228F",sqsubset:"\u228F",SquareSubsetEqual:"\u2291",sqsube:"\u2291",sqsubseteq:"\u2291",SquareSuperset:"\u2290",sqsup:"\u2290",sqsupset:"\u2290",SquareSupersetEqual:"\u2292",sqsupe:"\u2292",sqsupseteq:"\u2292",SquareUnion:"\u2294",sqcup:"\u2294",Sscr:"\u{1D4AE}",Star:"\u22C6",sstarf:"\u22C6",Sub:"\u22D0",Subset:"\u22D0",SubsetEqual:"\u2286",sube:"\u2286",subseteq:"\u2286",Succeeds:"\u227B",sc:"\u227B",succ:"\u227B",SucceedsEqual:"\u2AB0",sce:"\u2AB0",succeq:"\u2AB0",SucceedsSlantEqual:"\u227D",sccue:"\u227D",succcurlyeq:"\u227D",SucceedsTilde:"\u227F",scsim:"\u227F",succsim:"\u227F",Sum:"\u2211",sum:"\u2211",Sup:"\u22D1",Supset:"\u22D1",Superset:"\u2283",sup:"\u2283",supset:"\u2283",SupersetEqual:"\u2287",supe:"\u2287",supseteq:"\u2287",THORN:"\xDE",TRADE:"\u2122",trade:"\u2122",TSHcy:"\u040B",TScy:"\u0426",Tab:"	",Tau:"\u03A4",Tcaron:"\u0164",Tcedil:"\u0162",Tcy:"\u0422",Tfr:"\u{1D517}",Therefore:"\u2234",there4:"\u2234",therefore:"\u2234",Theta:"\u0398",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",Tilde:"\u223C",sim:"\u223C",thicksim:"\u223C",thksim:"\u223C",TildeEqual:"\u2243",sime:"\u2243",simeq:"\u2243",TildeFullEqual:"\u2245",cong:"\u2245",TildeTilde:"\u2248",ap:"\u2248",approx:"\u2248",asymp:"\u2248",thickapprox:"\u2248",thkap:"\u2248",Topf:"\u{1D54B}",TripleDot:"\u20DB",tdot:"\u20DB",Tscr:"\u{1D4AF}",Tstrok:"\u0166",Uacute:"\xDA",Uarr:"\u219F",Uarrocir:"\u2949",Ubrcy:"\u040E",Ubreve:"\u016C",Ucirc:"\xDB",Ucy:"\u0423",Udblac:"\u0170",Ufr:"\u{1D518}",Ugrave:"\xD9",Umacr:"\u016A",UnderBar:"_",lowbar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",bbrk:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",bigcup:"\u22C3",xcup:"\u22C3",UnionPlus:"\u228E",uplus:"\u228E",Uogon:"\u0172",Uopf:"\u{1D54C}",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",udarr:"\u21C5",UpDownArrow:"\u2195",updownarrow:"\u2195",varr:"\u2195",UpEquilibrium:"\u296E",udhar:"\u296E",UpTee:"\u22A5",bot:"\u22A5",bottom:"\u22A5",perp:"\u22A5",UpTeeArrow:"\u21A5",mapstoup:"\u21A5",UpperLeftArrow:"\u2196",nwarr:"\u2196",nwarrow:"\u2196",UpperRightArrow:"\u2197",nearr:"\u2197",nearrow:"\u2197",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",Uring:"\u016E",Uscr:"\u{1D4B0}",Utilde:"\u0168",Uuml:"\xDC",VDash:"\u22AB",Vbar:"\u2AEB",Vcy:"\u0412",Vdash:"\u22A9",Vdashl:"\u2AE6",Vee:"\u22C1",bigvee:"\u22C1",xvee:"\u22C1",Verbar:"\u2016",Vert:"\u2016",VerticalBar:"\u2223",mid:"\u2223",shortmid:"\u2223",smid:"\u2223",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",wr:"\u2240",wreath:"\u2240",VeryThinSpace:"\u200A",hairsp:"\u200A",Vfr:"\u{1D519}",Vopf:"\u{1D54D}",Vscr:"\u{1D4B1}",Vvdash:"\u22AA",Wcirc:"\u0174",Wedge:"\u22C0",bigwedge:"\u22C0",xwedge:"\u22C0",Wfr:"\u{1D51A}",Wopf:"\u{1D54E}",Wscr:"\u{1D4B2}",Xfr:"\u{1D51B}",Xi:"\u039E",Xopf:"\u{1D54F}",Xscr:"\u{1D4B3}",YAcy:"\u042F",YIcy:"\u0407",YUcy:"\u042E",Yacute:"\xDD",Ycirc:"\u0176",Ycy:"\u042B",Yfr:"\u{1D51C}",Yopf:"\u{1D550}",Yscr:"\u{1D4B4}",Yuml:"\u0178",ZHcy:"\u0416",Zacute:"\u0179",Zcaron:"\u017D",Zcy:"\u0417",Zdot:"\u017B",Zeta:"\u0396",Zfr:"\u2128",zeetrf:"\u2128",Zopf:"\u2124",integers:"\u2124",Zscr:"\u{1D4B5}",aacute:"\xE1",abreve:"\u0103",ac:"\u223E",mstpos:"\u223E",acE:"\u223E\u0333",acd:"\u223F",acirc:"\xE2",acy:"\u0430",aelig:"\xE6",afr:"\u{1D51E}",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03B1",amacr:"\u0101",amalg:"\u2A3F",and:"\u2227",wedge:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",angle:"\u2220",ange:"\u29A4",angmsd:"\u2221",measuredangle:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angzarr:"\u237C",aogon:"\u0105",aopf:"\u{1D552}",apE:"\u2A70",apacir:"\u2A6F",ape:"\u224A",approxeq:"\u224A",apid:"\u224B",apos:"'",aring:"\xE5",ascr:"\u{1D4B6}",ast:"*",midast:"*",atilde:"\xE3",auml:"\xE4",awint:"\u2A11",bNot:"\u2AED",backcong:"\u224C",bcong:"\u224C",backepsilon:"\u03F6",bepsi:"\u03F6",backprime:"\u2035",bprime:"\u2035",backsim:"\u223D",bsim:"\u223D",backsimeq:"\u22CD",bsime:"\u22CD",barvee:"\u22BD",barwed:"\u2305",barwedge:"\u2305",bbrktbrk:"\u23B6",bcy:"\u0431",bdquo:"\u201E",ldquor:"\u201E",bemptyv:"\u29B0",beta:"\u03B2",beth:"\u2136",between:"\u226C",twixt:"\u226C",bfr:"\u{1D51F}",bigcirc:"\u25EF",xcirc:"\u25EF",bigodot:"\u2A00",xodot:"\u2A00",bigoplus:"\u2A01",xoplus:"\u2A01",bigotimes:"\u2A02",xotime:"\u2A02",bigsqcup:"\u2A06",xsqcup:"\u2A06",bigstar:"\u2605",starf:"\u2605",bigtriangledown:"\u25BD",xdtri:"\u25BD",bigtriangleup:"\u25B3",xutri:"\u25B3",biguplus:"\u2A04",xuplus:"\u2A04",bkarow:"\u290D",rbarr:"\u290D",blacklozenge:"\u29EB",lozf:"\u29EB",blacktriangle:"\u25B4",utrif:"\u25B4",blacktriangledown:"\u25BE",dtrif:"\u25BE",blacktriangleleft:"\u25C2",ltrif:"\u25C2",blacktriangleright:"\u25B8",rtrif:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bnot:"\u2310",bopf:"\u{1D553}",bowtie:"\u22C8",boxDL:"\u2557",boxDR:"\u2554",boxDl:"\u2556",boxDr:"\u2553",boxH:"\u2550",boxHD:"\u2566",boxHU:"\u2569",boxHd:"\u2564",boxHu:"\u2567",boxUL:"\u255D",boxUR:"\u255A",boxUl:"\u255C",boxUr:"\u2559",boxV:"\u2551",boxVH:"\u256C",boxVL:"\u2563",boxVR:"\u2560",boxVh:"\u256B",boxVl:"\u2562",boxVr:"\u255F",boxbox:"\u29C9",boxdL:"\u2555",boxdR:"\u2552",boxdl:"\u2510",boxdr:"\u250C",boxhD:"\u2565",boxhU:"\u2568",boxhd:"\u252C",boxhu:"\u2534",boxminus:"\u229F",minusb:"\u229F",boxplus:"\u229E",plusb:"\u229E",boxtimes:"\u22A0",timesb:"\u22A0",boxuL:"\u255B",boxuR:"\u2558",boxul:"\u2518",boxur:"\u2514",boxv:"\u2502",boxvH:"\u256A",boxvL:"\u2561",boxvR:"\u255E",boxvh:"\u253C",boxvl:"\u2524",boxvr:"\u251C",brvbar:"\xA6",bscr:"\u{1D4B7}",bsemi:"\u204F",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bumpE:"\u2AAE",cacute:"\u0107",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",caps:"\u2229\uFE00",caret:"\u2041",ccaps:"\u2A4D",ccaron:"\u010D",ccedil:"\xE7",ccirc:"\u0109",ccups:"\u2A4C",ccupssm:"\u2A50",cdot:"\u010B",cemptyv:"\u29B2",cent:"\xA2",cfr:"\u{1D520}",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",chi:"\u03C7",cir:"\u25CB",cirE:"\u29C3",circ:"\u02C6",circeq:"\u2257",cire:"\u2257",circlearrowleft:"\u21BA",olarr:"\u21BA",circlearrowright:"\u21BB",orarr:"\u21BB",circledS:"\u24C8",oS:"\u24C8",circledast:"\u229B",oast:"\u229B",circledcirc:"\u229A",ocir:"\u229A",circleddash:"\u229D",odash:"\u229D",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",clubs:"\u2663",clubsuit:"\u2663",colon:":",comma:",",commat:"@",comp:"\u2201",complement:"\u2201",congdot:"\u2A6D",copf:"\u{1D554}",copysr:"\u2117",crarr:"\u21B5",cross:"\u2717",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",curlyeqprec:"\u22DE",cuesc:"\u22DF",curlyeqsucc:"\u22DF",cularr:"\u21B6",curvearrowleft:"\u21B6",cularrp:"\u293D",cup:"\u222A",cupbrcap:"\u2A48",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curvearrowright:"\u21B7",curarrm:"\u293C",curlyvee:"\u22CE",cuvee:"\u22CE",curlywedge:"\u22CF",cuwed:"\u22CF",curren:"\xA4",cwint:"\u2231",cylcty:"\u232D",dHar:"\u2965",dagger:"\u2020",daleth:"\u2138",dash:"\u2010",hyphen:"\u2010",dbkarow:"\u290F",rBarr:"\u290F",dcaron:"\u010F",dcy:"\u0434",ddarr:"\u21CA",downdownarrows:"\u21CA",ddotseq:"\u2A77",eDDot:"\u2A77",deg:"\xB0",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",dfr:"\u{1D521}",diamondsuit:"\u2666",diams:"\u2666",digamma:"\u03DD",gammad:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",djcy:"\u0452",dlcorn:"\u231E",llcorner:"\u231E",dlcrop:"\u230D",dollar:"$",dopf:"\u{1D555}",doteqdot:"\u2251",eDot:"\u2251",dotminus:"\u2238",minusd:"\u2238",dotplus:"\u2214",plusdo:"\u2214",dotsquare:"\u22A1",sdotb:"\u22A1",drcorn:"\u231F",lrcorner:"\u231F",drcrop:"\u230C",dscr:"\u{1D4B9}",dscy:"\u0455",dsol:"\u29F6",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",triangledown:"\u25BF",dwangle:"\u29A6",dzcy:"\u045F",dzigrarr:"\u27FF",eacute:"\xE9",easter:"\u2A6E",ecaron:"\u011B",ecir:"\u2256",eqcirc:"\u2256",ecirc:"\xEA",ecolon:"\u2255",eqcolon:"\u2255",ecy:"\u044D",edot:"\u0117",efDot:"\u2252",fallingdotseq:"\u2252",efr:"\u{1D522}",eg:"\u2A9A",egrave:"\xE8",egs:"\u2A96",eqslantgtr:"\u2A96",egsdot:"\u2A98",el:"\u2A99",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",eqslantless:"\u2A95",elsdot:"\u2A97",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",emptyv:"\u2205",varnothing:"\u2205",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",eng:"\u014B",ensp:"\u2002",eogon:"\u0119",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",epsilon:"\u03B5",epsiv:"\u03F5",straightepsilon:"\u03F5",varepsilon:"\u03F5",equals:"=",equest:"\u225F",questeq:"\u225F",equivDD:"\u2A78",eqvparsl:"\u29E5",erDot:"\u2253",risingdotseq:"\u2253",erarr:"\u2971",escr:"\u212F",eta:"\u03B7",eth:"\xF0",euml:"\xEB",euro:"\u20AC",excl:"!",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",ffr:"\u{1D523}",filig:"\uFB01",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",fopf:"\u{1D557}",fork:"\u22D4",pitchfork:"\u22D4",forkv:"\u2AD9",fpartint:"\u2A0D",frac12:"\xBD",half:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",sfrown:"\u2322",fscr:"\u{1D4BB}",gEl:"\u2A8C",gtreqqless:"\u2A8C",gacute:"\u01F5",gamma:"\u03B3",gap:"\u2A86",gtrapprox:"\u2A86",gbreve:"\u011F",gcirc:"\u011D",gcy:"\u0433",gdot:"\u0121",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",gfr:"\u{1D524}",gimel:"\u2137",gjcy:"\u0453",glE:"\u2A92",gla:"\u2AA5",glj:"\u2AA4",gnE:"\u2269",gneqq:"\u2269",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gneq:"\u2A88",gnsim:"\u22E7",gopf:"\u{1D558}",gscr:"\u210A",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtrdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrarr:"\u2978",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",hardcy:"\u044A",harrcir:"\u2948",harrw:"\u21AD",leftrightsquigarrow:"\u21AD",hbar:"\u210F",hslash:"\u210F",planck:"\u210F",plankv:"\u210F",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",mldr:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",hksearow:"\u2925",searhk:"\u2925",hkswarow:"\u2926",swarhk:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",larrhk:"\u21A9",hookrightarrow:"\u21AA",rarrhk:"\u21AA",hopf:"\u{1D559}",horbar:"\u2015",hscr:"\u{1D4BD}",hstrok:"\u0127",hybull:"\u2043",iacute:"\xED",icirc:"\xEE",icy:"\u0438",iecy:"\u0435",iexcl:"\xA1",ifr:"\u{1D526}",igrave:"\xEC",iiiint:"\u2A0C",qint:"\u2A0C",iiint:"\u222D",tint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",ijlig:"\u0133",imacr:"\u012B",imath:"\u0131",inodot:"\u0131",imof:"\u22B7",imped:"\u01B5",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",intcal:"\u22BA",intercal:"\u22BA",intlarhk:"\u2A17",intprod:"\u2A3C",iprod:"\u2A3C",iocy:"\u0451",iogon:"\u012F",iopf:"\u{1D55A}",iota:"\u03B9",iquest:"\xBF",iscr:"\u{1D4BE}",isinE:"\u22F9",isindot:"\u22F5",isins:"\u22F4",isinsv:"\u22F3",itilde:"\u0129",iukcy:"\u0456",iuml:"\xEF",jcirc:"\u0135",jcy:"\u0439",jfr:"\u{1D527}",jmath:"\u0237",jopf:"\u{1D55B}",jscr:"\u{1D4BF}",jsercy:"\u0458",jukcy:"\u0454",kappa:"\u03BA",kappav:"\u03F0",varkappa:"\u03F0",kcedil:"\u0137",kcy:"\u043A",kfr:"\u{1D528}",kgreen:"\u0138",khcy:"\u0445",kjcy:"\u045C",kopf:"\u{1D55C}",kscr:"\u{1D4C0}",lAtail:"\u291B",lBarr:"\u290E",lEg:"\u2A8B",lesseqqgtr:"\u2A8B",lHar:"\u2962",lacute:"\u013A",laemptyv:"\u29B4",lambda:"\u03BB",langd:"\u2991",lap:"\u2A85",lessapprox:"\u2A85",laquo:"\xAB",larrbfs:"\u291F",larrfs:"\u291D",larrlp:"\u21AB",looparrowleft:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",leftarrowtail:"\u21A2",lat:"\u2AAB",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",lcaron:"\u013E",lcedil:"\u013C",lcy:"\u043B",ldca:"\u2936",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",leq:"\u2264",leftleftarrows:"\u21C7",llarr:"\u21C7",leftthreetimes:"\u22CB",lthree:"\u22CB",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessdot:"\u22D6",ltdot:"\u22D6",lfisht:"\u297C",lfr:"\u{1D529}",lgE:"\u2A91",lharul:"\u296A",lhblk:"\u2584",ljcy:"\u0459",llhard:"\u296B",lltri:"\u25FA",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnE:"\u2268",lneqq:"\u2268",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lneq:"\u2A87",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",longmapsto:"\u27FC",xmap:"\u27FC",looparrowright:"\u21AC",rarrlp:"\u21AC",lopar:"\u2985",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",loz:"\u25CA",lozenge:"\u25CA",lpar:"(",lparlt:"\u2993",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",lsime:"\u2A8D",lsimg:"\u2A8F",lsquor:"\u201A",sbquo:"\u201A",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltrPar:"\u2996",ltri:"\u25C3",triangleleft:"\u25C3",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",mDDot:"\u223A",macr:"\xAF",strns:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",marker:"\u25AE",mcomma:"\u2A29",mcy:"\u043C",mdash:"\u2014",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midcir:"\u2AF0",minus:"\u2212",minusdu:"\u2A2A",mlcp:"\u2ADB",models:"\u22A7",mopf:"\u{1D55E}",mscr:"\u{1D4C2}",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nGg:"\u22D9\u0338",nGt:"\u226B\u20D2",nLeftarrow:"\u21CD",nlArr:"\u21CD",nLeftrightarrow:"\u21CE",nhArr:"\u21CE",nLl:"\u22D8\u0338",nLt:"\u226A\u20D2",nRightarrow:"\u21CF",nrArr:"\u21CF",nVDash:"\u22AF",nVdash:"\u22AE",nacute:"\u0144",nang:"\u2220\u20D2",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",natur:"\u266E",natural:"\u266E",ncap:"\u2A43",ncaron:"\u0148",ncedil:"\u0146",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",ncy:"\u043D",ndash:"\u2013",neArr:"\u21D7",nearhk:"\u2924",nedot:"\u2250\u0338",nesear:"\u2928",toea:"\u2928",nfr:"\u{1D52B}",nharr:"\u21AE",nleftrightarrow:"\u21AE",nhpar:"\u2AF2",nis:"\u22FC",nisd:"\u22FA",njcy:"\u045A",nlE:"\u2266\u0338",nleqq:"\u2266\u0338",nlarr:"\u219A",nleftarrow:"\u219A",nldr:"\u2025",nopf:"\u{1D55F}",not:"\xAC",notinE:"\u22F9\u0338",notindot:"\u22F5\u0338",notinvb:"\u22F7",notinvc:"\u22F6",notnivb:"\u22FE",notnivc:"\u22FD",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",nrarr:"\u219B",nrightarrow:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nscr:"\u{1D4C3}",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsubseteqq:"\u2AC5\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupseteqq:"\u2AC6\u0338",ntilde:"\xF1",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvDash:"\u22AD",nvHarr:"\u2904",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwArr:"\u21D6",nwarhk:"\u2923",nwnear:"\u2927",oacute:"\xF3",ocirc:"\xF4",ocy:"\u043E",odblac:"\u0151",odiv:"\u2A38",odsold:"\u29BC",oelig:"\u0153",ofcir:"\u29BF",ofr:"\u{1D52C}",ogon:"\u02DB",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",olcir:"\u29BE",olcross:"\u29BB",olt:"\u29C0",omacr:"\u014D",omega:"\u03C9",omicron:"\u03BF",omid:"\u29B6",oopf:"\u{1D560}",opar:"\u29B7",operp:"\u29B9",or:"\u2228",vee:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",oscr:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oslash:"\xF8",osol:"\u2298",otilde:"\xF5",otimesas:"\u2A36",ouml:"\xF6",ovbar:"\u233D",para:"\xB6",parsim:"\u2AF3",parsl:"\u2AFD",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",pertenk:"\u2031",pfr:"\u{1D52D}",phi:"\u03C6",phiv:"\u03D5",straightphi:"\u03D5",varphi:"\u03D5",phone:"\u260E",pi:"\u03C0",piv:"\u03D6",varpi:"\u03D6",planckh:"\u210E",plus:"+",plusacir:"\u2A23",pluscir:"\u2A22",plusdu:"\u2A25",pluse:"\u2A72",plussim:"\u2A26",plustwo:"\u2A27",pointint:"\u2A15",popf:"\u{1D561}",pound:"\xA3",prE:"\u2AB3",prap:"\u2AB7",precapprox:"\u2AB7",precnapprox:"\u2AB9",prnap:"\u2AB9",precneqq:"\u2AB5",prnE:"\u2AB5",precnsim:"\u22E8",prnsim:"\u22E8",prime:"\u2032",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prurel:"\u22B0",pscr:"\u{1D4C5}",psi:"\u03C8",puncsp:"\u2008",qfr:"\u{1D52E}",qopf:"\u{1D562}",qprime:"\u2057",qscr:"\u{1D4C6}",quatint:"\u2A16",quest:"?",rAtail:"\u291C",rHar:"\u2964",race:"\u223D\u0331",racute:"\u0155",raemptyv:"\u29B3",rangd:"\u2992",range:"\u29A5",raquo:"\xBB",rarrap:"\u2975",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21A3",rightarrowtail:"\u21A3",rarrw:"\u219D",rightsquigarrow:"\u219D",ratail:"\u291A",ratio:"\u2236",rbbrk:"\u2773",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",rcaron:"\u0159",rcedil:"\u0157",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdsh:"\u21B3",rect:"\u25AD",rfisht:"\u297D",rfr:"\u{1D52F}",rharul:"\u296C",rho:"\u03C1",rhov:"\u03F1",varrho:"\u03F1",rightrightarrows:"\u21C9",rrarr:"\u21C9",rightthreetimes:"\u22CC",rthree:"\u22CC",ring:"\u02DA",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",ropar:"\u2986",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rsaquo:"\u203A",rscr:"\u{1D4C7}",rtimes:"\u22CA",rtri:"\u25B9",triangleright:"\u25B9",rtriltri:"\u29CE",ruluhar:"\u2968",rx:"\u211E",sacute:"\u015B",scE:"\u2AB4",scap:"\u2AB8",succapprox:"\u2AB8",scaron:"\u0161",scedil:"\u015F",scirc:"\u015D",scnE:"\u2AB6",succneqq:"\u2AB6",scnap:"\u2ABA",succnapprox:"\u2ABA",scnsim:"\u22E9",succnsim:"\u22E9",scpolint:"\u2A13",scy:"\u0441",sdot:"\u22C5",sdote:"\u2A66",seArr:"\u21D8",sect:"\xA7",semi:";",seswar:"\u2929",tosa:"\u2929",sext:"\u2736",sfr:"\u{1D530}",sharp:"\u266F",shchcy:"\u0449",shcy:"\u0448",shy:"\xAD",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",varsigma:"\u03C2",simdot:"\u2A6A",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",smashp:"\u2A33",smeparsl:"\u29E4",smile:"\u2323",ssmile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",sqcaps:"\u2293\uFE00",sqcups:"\u2294\uFE00",sscr:"\u{1D4C8}",star:"\u2606",sub:"\u2282",subset:"\u2282",subE:"\u2AC5",subseteqq:"\u2AC5",subdot:"\u2ABD",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subsetneqq:"\u2ACB",subne:"\u228A",subsetneq:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supE:"\u2AC6",supseteqq:"\u2AC6",supdot:"\u2ABE",supdsub:"\u2AD8",supedot:"\u2AC4",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supsetneqq:"\u2ACC",supne:"\u228B",supsetneq:"\u228B",supplus:"\u2AC0",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swArr:"\u21D9",swnwar:"\u292A",szlig:"\xDF",target:"\u2316",tau:"\u03C4",tcaron:"\u0165",tcedil:"\u0163",tcy:"\u0442",telrec:"\u2315",tfr:"\u{1D531}",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",vartheta:"\u03D1",thorn:"\xFE",times:"\xD7",timesbar:"\u2A31",timesd:"\u2A30",topbot:"\u2336",topcir:"\u2AF1",topf:"\u{1D565}",topfork:"\u2ADA",tprime:"\u2034",triangle:"\u25B5",utri:"\u25B5",triangleq:"\u225C",trie:"\u225C",tridot:"\u25EC",triminus:"\u2A3A",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",tscr:"\u{1D4C9}",tscy:"\u0446",tshcy:"\u045B",tstrok:"\u0167",uHar:"\u2963",uacute:"\xFA",ubrcy:"\u045E",ubreve:"\u016D",ucirc:"\xFB",ucy:"\u0443",udblac:"\u0171",ufisht:"\u297E",ufr:"\u{1D532}",ugrave:"\xF9",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",umacr:"\u016B",uogon:"\u0173",uopf:"\u{1D566}",upsi:"\u03C5",upsilon:"\u03C5",upuparrows:"\u21C8",uuarr:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",uring:"\u016F",urtri:"\u25F9",uscr:"\u{1D4CA}",utdot:"\u22F0",utilde:"\u0169",uuml:"\xFC",uwangle:"\u29A7",vBar:"\u2AE8",vBarv:"\u2AE9",vangrt:"\u299C",varsubsetneq:"\u228A\uFE00",vsubne:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",vsubnE:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",vsupne:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vsupnE:"\u2ACC\uFE00",vcy:"\u0432",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",vfr:"\u{1D533}",vopf:"\u{1D567}",vscr:"\u{1D4CB}",vzigzag:"\u299A",wcirc:"\u0175",wedbar:"\u2A5F",wedgeq:"\u2259",weierp:"\u2118",wp:"\u2118",wfr:"\u{1D534}",wopf:"\u{1D568}",wscr:"\u{1D4CC}",xfr:"\u{1D535}",xi:"\u03BE",xnis:"\u22FB",xopf:"\u{1D569}",xscr:"\u{1D4CD}",yacute:"\xFD",yacy:"\u044F",ycirc:"\u0177",ycy:"\u044B",yen:"\xA5",yfr:"\u{1D536}",yicy:"\u0457",yopf:"\u{1D56A}",yscr:"\u{1D4CE}",yucy:"\u044E",yuml:"\xFF",zacute:"\u017A",zcaron:"\u017E",zcy:"\u0437",zdot:"\u017C",zeta:"\u03B6",zfr:"\u{1D537}",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"},bg="\uE500";ul.ngsp=bg;var eo=class extends z{constructor(e,n,r){super(r,e),this.tokenType=n}},Gu=class{constructor(e,n,r){this.tokens=e,this.errors=n,this.nonNormalizedIcuExpressions=r}};function RC(t,e,n,r={}){let s=new Hu(new ds(t,e),n,r);return s.tokenize(),new Gu(UC(s.tokens),s.errors,s.nonNormalizedIcuExpressions)}var PC=/\r\n?/g;function ji(t){return`Unexpected character "${t===mt?"EOF":String.fromCharCode(t)}"`}function vd(t){return`Unknown entity "${t}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}function kC(t,e){return`Unable to parse entity "${e}" - ${t} character reference entities must end with ";"`}var pl;(function(t){t.HEX="hexadecimal",t.DEC="decimal"})(pl||(pl={}));var to=class{constructor(e){this.error=e}},Hu=class{constructor(e,n,r){this._getTagDefinition=n,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this.nonNormalizedIcuExpressions=[],this._tokenizeIcu=r.tokenizeExpansionForms||!1,this._interpolationConfig=r.interpolationConfig||Wt,this._leadingTriviaCodePoints=r.leadingTriviaChars&&r.leadingTriviaChars.map(i=>i.codePointAt(0)||0);let s=r.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=r.escapedString?new Wu(e,s):new hl(e,s),this._preserveLineEndings=r.preserveLineEndings||!1,this._i18nNormalizeLineEndingsInICUs=r.i18nNormalizeLineEndingsInICUs||!1,this._tokenizeBlocks=r.tokenizeBlocks??!0;try{this._cursor.init()}catch(i){this.handleError(i)}}_processCarriageReturns(e){return this._preserveLineEndings?e:e.replace(PC,`
`)}tokenize(){for(;this._cursor.peek()!==mt;){let e=this._cursor.clone();try{this._attemptCharCode(zs)?this._attemptCharCode(au)?this._attemptCharCode(ni)?this._consumeCdata(e):this._attemptCharCode(Ha)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(Kn)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeBlocks&&this._attemptCharCode(Vf)?this._consumeBlockStart(e):this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansionCase()&&!this._isInExpansionForm()&&this._attemptCharCode(Nt)?this._consumeBlockEnd(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeWithInterpolation(5,8,()=>this._isTextEnd(),()=>this._isTagStart())}catch(n){this.handleError(n)}}this._beginToken(29),this._endToken([])}_getBlockName(){let e=!1,n=this._cursor.clone();return this._attemptCharCodeUntilFn(r=>_l(r)?!e:$C(r)?(e=!0,!1):!0),this._cursor.getChars(n).trim()}_consumeBlockStart(e){this._beginToken(24,e);let n=this._endToken([this._getBlockName()]);if(this._cursor.peek()===Zn)if(this._cursor.advance(),this._consumeBlockParameters(),this._attemptCharCodeUntilFn(it),this._attemptCharCode(pn))this._attemptCharCodeUntilFn(it);else{n.type=28;return}this._attemptCharCode(kn)?(this._beginToken(25),this._endToken([])):n.type=28}_consumeBlockEnd(e){this._beginToken(26,e),this._endToken([])}_consumeBlockParameters(){for(this._attemptCharCodeUntilFn(Sd);this._cursor.peek()!==pn&&this._cursor.peek()!==mt;){this._beginToken(27);let e=this._cursor.clone(),n=null,r=0;for(;this._cursor.peek()!==hn&&this._cursor.peek()!==mt||n!==null;){let s=this._cursor.peek();if(s===Wa)this._cursor.advance();else if(s===n)n=null;else if(n===null&&ja(s))n=s;else if(s===Zn&&n===null)r++;else if(s===pn&&n===null){if(r===0)break;r>0&&r--}this._cursor.advance()}this._endToken([this._cursor.getChars(e)]),this._attemptCharCodeUntilFn(Sd)}}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(FC(this._cursor.peek())&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._cursor.peek()===Nt){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,n=this._cursor.clone()){this._currentTokenStart=n,this._currentTokenType=e}_endToken(e,n){if(this._currentTokenStart===null)throw new eo("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(n));if(this._currentTokenType===null)throw new eo("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));let r={type:this._currentTokenType,parts:e,sourceSpan:(n??this._cursor).getSpan(this._currentTokenStart,this._leadingTriviaCodePoints)};return this.tokens.push(r),this._currentTokenStart=null,this._currentTokenType=null,r}_createError(e,n){this._isInExpansionForm()&&(e+=` (Do you have an unescaped "{" in your template? Use "{{ '{' }}") to escape it.)`);let r=new eo(e,this._currentTokenType,n);return this._currentTokenStart=null,this._currentTokenType=null,new to(r)}handleError(e){if(e instanceof ko&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),e instanceof to)this.errors.push(e.error);else throw e}_attemptCharCode(e){return this._cursor.peek()===e?(this._cursor.advance(),!0):!1}_attemptCharCodeCaseInsensitive(e){return BC(this._cursor.peek(),e)?(this._cursor.advance(),!0):!1}_requireCharCode(e){let n=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(ji(this._cursor.peek()),this._cursor.getSpan(n))}_attemptStr(e){let n=e.length;if(this._cursor.charsLeft()<n)return!1;let r=this._cursor.clone();for(let s=0;s<n;s++)if(!this._attemptCharCode(e.charCodeAt(s)))return this._cursor=r,!1;return!0}_attemptStrCaseInsensitive(e){for(let n=0;n<e.length;n++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(n)))return!1;return!0}_requireStr(e){let n=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(ji(this._cursor.peek()),this._cursor.getSpan(n))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,n){let r=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(r)<n)throw this._createError(ji(this._cursor.peek()),this._cursor.getSpan(r))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(){let e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}_consumeEntity(e){this._beginToken(9);let n=this._cursor.clone();if(this._cursor.advance(),this._attemptCharCode(Hm)){let r=this._attemptCharCode(Zm)||this._attemptCharCode(Rx),s=this._cursor.clone();if(this._attemptCharCodeUntilFn(LC),this._cursor.peek()!=hn){this._cursor.advance();let o=r?pl.HEX:pl.DEC;throw this._createError(kC(o,this._cursor.getChars(n)),this._cursor.getSpan())}let i=this._cursor.getChars(s);this._cursor.advance();try{let o=parseInt(i,r?16:10);this._endToken([String.fromCharCode(o),this._cursor.getChars(n)])}catch{throw this._createError(vd(this._cursor.getChars(n)),this._cursor.getSpan())}}else{let r=this._cursor.clone();if(this._attemptCharCodeUntilFn(OC),this._cursor.peek()!=hn)this._beginToken(e,n),this._cursor=r,this._endToken(["&"]);else{let s=this._cursor.getChars(r);this._cursor.advance();let i=ul[s];if(!i)throw this._createError(vd(s),this._cursor.getSpan(n));this._endToken([i,`&${s};`])}}}_consumeRawText(e,n){this._beginToken(e?6:7);let r=[];for(;;){let s=this._cursor.clone(),i=n();if(this._cursor=s,i)break;e&&this._cursor.peek()===Ga?(this._endToken([this._processCarriageReturns(r.join(""))]),r.length=0,this._consumeEntity(6),this._beginToken(6)):r.push(this._readChar())}this._endToken([this._processCarriageReturns(r.join(""))])}_consumeComment(e){this._beginToken(10,e),this._requireCharCode(Ha),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("-->")),this._beginToken(11),this._requireStr("-->"),this._endToken([])}_consumeCdata(e){this._beginToken(12,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(13),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(18,e);let n=this._cursor.clone();this._attemptUntilChar(xr);let r=this._cursor.getChars(n);this._cursor.advance(),this._endToken([r])}_consumePrefixAndName(){let e=this._cursor.clone(),n="";for(;this._cursor.peek()!==Ir&&!MC(this._cursor.peek());)this._cursor.advance();let r;this._cursor.peek()===Ir?(n=this._cursor.getChars(e),this._cursor.advance(),r=this._cursor.clone()):r=e,this._requireCharCodeUntilFn(yd,n===""?0:1);let s=this._cursor.getChars(r);return[n,s]}_consumeTagOpen(e){let n,r,s;try{if(!Rl(this._cursor.peek()))throw this._createError(ji(this._cursor.peek()),this._cursor.getSpan(e));for(s=this._consumeTagOpenStart(e),r=s.parts[0],n=s.parts[1],this._attemptCharCodeUntilFn(it);this._cursor.peek()!==Kn&&this._cursor.peek()!==xr&&this._cursor.peek()!==zs&&this._cursor.peek()!==mt;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(it),this._attemptCharCode(Xs)&&(this._attemptCharCodeUntilFn(it),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(it);this._consumeTagOpenEnd()}catch(o){if(o instanceof to){s?s.type=4:(this._beginToken(5,e),this._endToken(["<"]));return}throw o}let i=this._getTagDefinition(n).getContentType(r);i===cn.RAW_TEXT?this._consumeRawTextWithTagClose(r,n,!1):i===cn.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(r,n,!0)}_consumeRawTextWithTagClose(e,n,r){this._consumeRawText(r,()=>!this._attemptCharCode(zs)||!this._attemptCharCode(Kn)||(this._attemptCharCodeUntilFn(it),!this._attemptStrCaseInsensitive(n))?!1:(this._attemptCharCodeUntilFn(it),this._attemptCharCode(xr))),this._beginToken(3),this._requireCharCodeUntilFn(s=>s===xr,3),this._cursor.advance(),this._endToken([e,n])}_consumeTagOpenStart(e){this._beginToken(0,e);let n=this._consumePrefixAndName();return this._endToken(n)}_consumeAttributeName(){let e=this._cursor.peek();if(e===xo||e===wo)throw this._createError(ji(e),this._cursor.getSpan());this._beginToken(14);let n=this._consumePrefixAndName();this._endToken(n)}_consumeAttributeValue(){if(this._cursor.peek()===xo||this._cursor.peek()===wo){let e=this._cursor.peek();this._consumeQuote(e);let n=()=>this._cursor.peek()===e;this._consumeWithInterpolation(16,17,n,n),this._consumeQuote(e)}else{let e=()=>yd(this._cursor.peek());this._consumeWithInterpolation(16,17,e,e)}}_consumeQuote(e){this._beginToken(15),this._requireCharCode(e),this._endToken([String.fromCodePoint(e)])}_consumeTagOpenEnd(){let e=this._attemptCharCode(Kn)?2:1;this._beginToken(e),this._requireCharCode(xr),this._endToken([])}_consumeTagClose(e){this._beginToken(3,e),this._attemptCharCodeUntilFn(it);let n=this._consumePrefixAndName();this._attemptCharCodeUntilFn(it),this._requireCharCode(xr),this._endToken(n)}_consumeExpansionFormStart(){this._beginToken(19),this._requireCharCode(kn),this._endToken([]),this._expansionCaseStack.push(19),this._beginToken(7);let e=this._readUntil(Kt),n=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([n]);else{let s=this._endToken([e]);n!==e&&this.nonNormalizedIcuExpressions.push(s)}this._requireCharCode(Kt),this._attemptCharCodeUntilFn(it),this._beginToken(7);let r=this._readUntil(Kt);this._endToken([r]),this._requireCharCode(Kt),this._attemptCharCodeUntilFn(it)}_consumeExpansionCaseStart(){this._beginToken(20);let e=this._readUntil(kn).trim();this._endToken([e]),this._attemptCharCodeUntilFn(it),this._beginToken(21),this._requireCharCode(kn),this._endToken([]),this._attemptCharCodeUntilFn(it),this._expansionCaseStack.push(21)}_consumeExpansionCaseEnd(){this._beginToken(22),this._requireCharCode(Nt),this._endToken([]),this._attemptCharCodeUntilFn(it),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(23),this._requireCharCode(Nt),this._endToken([]),this._expansionCaseStack.pop()}_consumeWithInterpolation(e,n,r,s){this._beginToken(e);let i=[];for(;!r();){let o=this._cursor.clone();this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(this._endToken([this._processCarriageReturns(i.join(""))],o),i.length=0,this._consumeInterpolation(n,o,s),this._beginToken(e)):this._cursor.peek()===Ga?(this._endToken([this._processCarriageReturns(i.join(""))]),i.length=0,this._consumeEntity(e),this._beginToken(e)):i.push(this._readChar())}this._inInterpolation=!1,this._endToken([this._processCarriageReturns(i.join(""))])}_consumeInterpolation(e,n,r){let s=[];this._beginToken(e,n),s.push(this._interpolationConfig.start);let i=this._cursor.clone(),o=null,a=!1;for(;this._cursor.peek()!==mt&&(r===null||!r());){let l=this._cursor.clone();if(this._isTagStart()){this._cursor=l,s.push(this._getProcessedChars(i,l)),this._endToken(s);return}if(o===null)if(this._attemptStr(this._interpolationConfig.end)){s.push(this._getProcessedChars(i,l)),s.push(this._interpolationConfig.end),this._endToken(s);return}else this._attemptStr("//")&&(a=!0);let c=this._cursor.peek();this._cursor.advance(),c===Wa?this._cursor.advance():c===o?o=null:!a&&o===null&&ja(c)&&(o=c)}s.push(this._getProcessedChars(i,this._cursor)),this._endToken(s)}_getProcessedChars(e,n){return this._processCarriageReturns(n.getChars(e))}_isTextEnd(){return!!(this._isTagStart()||this._cursor.peek()===mt||this._tokenizeIcu&&!this._inInterpolation&&(this.isExpansionFormStart()||this._cursor.peek()===Nt&&this._isInExpansionCase())||this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansion()&&(this._cursor.peek()===Vf||this._cursor.peek()===Nt))}_isTagStart(){if(this._cursor.peek()===zs){let e=this._cursor.clone();e.advance();let n=e.peek();if(hs<=n&&n<=Vo||Pi<=n&&n<=Nl||n===Kn||n===au)return!0}return!1}_readUntil(e){let n=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(n)}_isInExpansion(){return this._isInExpansionCase()||this._isInExpansionForm()}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===21}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===19}isExpansionFormStart(){if(this._cursor.peek()!==kn)return!1;if(this._interpolationConfig){let e=this._cursor.clone(),n=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!n}return!0}};function it(t){return!_l(t)||t===mt}function yd(t){return _l(t)||t===xr||t===zs||t===Kn||t===xo||t===wo||t===Xs||t===mt}function MC(t){return(t<hs||Vo<t)&&(t<Pi||Nl<t)&&(t<kp||t>Km)}function LC(t){return t===hn||t===mt||!Ox(t)}function OC(t){return t===hn||t===mt||!Rl(t)}function FC(t){return t!==Nt}function BC(t,e){return Ed(t)===Ed(e)}function Ed(t){return t>=hs&&t<=Vo?t-hs+Pi:t}function $C(t){return Rl(t)||jn(t)||t===Dl}function Sd(t){return t!==hn&&it(t)}function UC(t){let e=[],n;for(let r=0;r<t.length;r++){let s=t[r];n&&n.type===5&&s.type===5||n&&n.type===16&&s.type===16?(n.parts[0]+=s.parts[0],n.sourceSpan.end=s.sourceSpan.end):(n=s,e.push(n))}return e}var hl=class t{constructor(e,n){if(e instanceof t){this.file=e.file,this.input=e.input,this.end=e.end;let r=e.state;this.state={peek:r.peek,offset:r.offset,line:r.line,column:r.column}}else{if(!n)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=n.endPos,this.state={peek:-1,offset:n.startPos,line:n.startLine,column:n.startCol}}}clone(){return new t(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,n){e=e||this;let r=e;if(n)for(;this.diff(e)>0&&n.indexOf(e.peek())!==-1;)r===e&&(e=e.clone()),e.advance();let s=this.locationFromCursor(e),i=this.locationFromCursor(this),o=r!==e?this.locationFromCursor(r):s;return new K(s,i,o)}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new ko('Unexpected character "EOF"',this);let n=this.charAt(e.offset);n===rs?(e.line++,e.column=0):tg(n)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?mt:this.charAt(e.offset)}locationFromCursor(e){return new fs(e.file,e.state.offset,e.state.line,e.state.column)}},Wu=class t extends hl{constructor(e,n){e instanceof t?(super(e),this.internalState={...e.internalState}):(super(e,n),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new t(this)}getChars(e){let n=e.clone(),r="";for(;n.internalState.offset<this.internalState.offset;)r+=String.fromCodePoint(n.peek()),n.advance();return r}processEscapeSequence(){let e=()=>this.internalState.peek;if(e()===Wa)if(this.internalState={...this.state},this.advanceState(this.internalState),e()===zm)this.state.peek=rs;else if(e()===Xm)this.state.peek=Pp;else if(e()===Jm)this.state.peek=Vm;else if(e()===Ym)this.state.peek=Rp;else if(e()===kx)this.state.peek=Cx;else if(e()===Mp)this.state.peek=qm;else if(e()===Qm)if(this.advanceState(this.internalState),e()===kn){this.advanceState(this.internalState);let n=this.clone(),r=0;for(;e()!==Nt;)this.advanceState(this.internalState),r++;this.state.peek=this.decodeHexDigits(n,r)}else{let n=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(n,4)}else if(e()===Zm){this.advanceState(this.internalState);let n=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(n,2)}else if(qf(e())){let n="",r=0,s=this.clone();for(;qf(e())&&r<3;)s=this.clone(),n+=String.fromCodePoint(e()),this.advanceState(this.internalState),r++;this.state.peek=parseInt(n,8),this.internalState=s.internalState}else tg(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(e,n){let r=this.input.slice(e.internalState.offset,e.internalState.offset+n),s=parseInt(r,16);if(isNaN(s))throw e.state=e.internalState,new ko("Invalid hexadecimal escape sequence",e);return s}},ko=class{constructor(e,n){this.msg=e,this.cursor=n}},bt=class t extends z{static create(e,n,r){return new t(e,n,r)}constructor(e,n,r){super(n,r),this.elementName=e}},fl=class{constructor(e,n){this.rootNodes=e,this.errors=n}},ju=class{constructor(e){this.getTagDefinition=e}parse(e,n,r){let s=RC(e,n,this.getTagDefinition,r),i=new Ku(s.tokens,this.getTagDefinition);return i.build(),new fl(i.rootNodes,s.errors.concat(i.errors))}},Ku=class t{constructor(e,n){this.tokens=e,this.getTagDefinition=n,this._index=-1,this._containerStack=[],this.rootNodes=[],this.errors=[],this._advance()}build(){for(;this._peek.type!==29;)this._peek.type===0||this._peek.type===4?this._consumeStartTag(this._advance()):this._peek.type===3?this._consumeEndTag(this._advance()):this._peek.type===12?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===10?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===5||this._peek.type===7||this._peek.type===6?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===19?this._consumeExpansion(this._advance()):this._peek.type===24?(this._closeVoidElement(),this._consumeBlockOpen(this._advance())):this._peek.type===26?(this._closeVoidElement(),this._consumeBlockClose(this._advance())):this._peek.type===28?(this._closeVoidElement(),this._consumeIncompleteBlock(this._advance())):this._advance();for(let e of this._containerStack)e instanceof Ht&&this.errors.push(bt.create(e.name,e.sourceSpan,`Unclosed block "${e.name}"`))}_advance(){let e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(13)}_consumeComment(e){let n=this._advanceIf(7),r=this._advanceIf(11),s=n!=null?n.parts[0].trim():null,i=r==null?e.sourceSpan:new K(e.sourceSpan.start,r.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new Po(s,i))}_consumeExpansion(e){let n=this._advance(),r=this._advance(),s=[];for(;this._peek.type===20;){let o=this._parseExpansionCase();if(!o)return;s.push(o)}if(this._peek.type!==23){this.errors.push(bt.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));return}let i=new K(e.sourceSpan.start,this._peek.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new Ai(n.parts[0],r.parts[0],s,i,n.sourceSpan)),this._advance()}_parseExpansionCase(){let e=this._advance();if(this._peek.type!==21)return this.errors.push(bt.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;let n=this._advance(),r=this._collectExpansionExpTokens(n);if(!r)return null;let s=this._advance();r.push({type:29,parts:[],sourceSpan:s.sourceSpan});let i=new t(r,this.getTagDefinition);if(i.build(),i.errors.length>0)return this.errors=this.errors.concat(i.errors),null;let o=new K(e.sourceSpan.start,s.sourceSpan.end,e.sourceSpan.fullStart),a=new K(n.sourceSpan.start,s.sourceSpan.end,n.sourceSpan.fullStart);return new Fu(e.parts[0],i.rootNodes,o,e.sourceSpan,a)}_collectExpansionExpTokens(e){let n=[],r=[21];for(;;){if((this._peek.type===19||this._peek.type===21)&&r.push(this._peek.type),this._peek.type===22)if(wd(r,21)){if(r.pop(),r.length===0)return n}else return this.errors.push(bt.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===23)if(wd(r,19))r.pop();else return this.errors.push(bt.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===29)return this.errors.push(bt.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.push(this._advance())}}_consumeText(e){let n=[e],r=e.sourceSpan,s=e.parts[0];if(s.length>0&&s[0]===`
`){let i=this._getContainer();i!=null&&i.children.length===0&&this.getTagDefinition(i.name).ignoreFirstLf&&(s=s.substring(1),n[0]={type:e.type,sourceSpan:e.sourceSpan,parts:[s]})}for(;this._peek.type===8||this._peek.type===5||this._peek.type===9;)e=this._advance(),n.push(e),e.type===8?s+=e.parts.join("").replace(/&([^;]+);/g,xd):e.type===9?s+=e.parts[0]:s+=e.parts.join("");if(s.length>0){let i=e.sourceSpan;this._addToParent(new qr(s,new K(r.start,i.end,r.fullStart,r.details),n))}}_closeVoidElement(){let e=this._getContainer();e instanceof Gt&&this.getTagDefinition(e.name).isVoid&&this._containerStack.pop()}_consumeStartTag(e){let[n,r]=e.parts,s=[];for(;this._peek.type===14;)s.push(this._consumeAttr(this._advance()));let i=this._getElementFullName(n,r,this._getClosestParentElement()),o=!1;if(this._peek.type===2){this._advance(),o=!0;let d=this.getTagDefinition(i);d.canSelfClose||Qc(i)!==null||d.isVoid||this.errors.push(bt.create(i,e.sourceSpan,`Only void, custom and foreign elements can be self closed "${e.parts[1]}"`))}else this._peek.type===1&&(this._advance(),o=!1);let a=this._peek.sourceSpan.fullStart,l=new K(e.sourceSpan.start,a,e.sourceSpan.fullStart),c=new K(e.sourceSpan.start,a,e.sourceSpan.fullStart),u=new Gt(i,s,[],l,c,void 0),h=this._getContainer();this._pushContainer(u,h instanceof Gt&&this.getTagDefinition(h.name).isClosedByChild(u.name)),o?this._popContainer(i,Gt,l):e.type===4&&(this._popContainer(i,Gt,null),this.errors.push(bt.create(i,l,`Opening tag "${i}" not terminated.`)))}_pushContainer(e,n){n&&this._containerStack.pop(),this._addToParent(e),this._containerStack.push(e)}_consumeEndTag(e){let n=this._getElementFullName(e.parts[0],e.parts[1],this._getClosestParentElement());if(this.getTagDefinition(n).isVoid)this.errors.push(bt.create(n,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popContainer(n,Gt,e.sourceSpan)){let r=`Unexpected closing tag "${n}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this.errors.push(bt.create(n,e.sourceSpan,r))}}_popContainer(e,n,r){let s=!1;for(let i=this._containerStack.length-1;i>=0;i--){let o=this._containerStack[i];if((o.name===e||e===null)&&o instanceof n)return o.endSourceSpan=r,o.sourceSpan.end=r!==null?r.end:o.sourceSpan.end,this._containerStack.splice(i,this._containerStack.length-i),!s;(o instanceof Ht||o instanceof Gt&&!this.getTagDefinition(o.name).closedByParent)&&(s=!0)}return!1}_consumeAttr(e){let n=Jc(e.parts[0],e.parts[1]),r=e.sourceSpan.end;this._peek.type===15&&this._advance();let s="",i=[],o,a;if(this._peek.type===16)for(o=this._peek.sourceSpan,a=this._peek.sourceSpan.end;this._peek.type===16||this._peek.type===17||this._peek.type===9;){let u=this._advance();i.push(u),u.type===17?s+=u.parts.join("").replace(/&([^;]+);/g,xd):u.type===9?s+=u.parts[0]:s+=u.parts.join(""),a=r=u.sourceSpan.end}this._peek.type===15&&(r=this._advance().sourceSpan.end);let c=o&&a&&new K(o.start,a,o.fullStart);return new Bu(n,s,new K(e.sourceSpan.start,r,e.sourceSpan.fullStart),e.sourceSpan,c,i.length>0?i:void 0,void 0)}_consumeBlockOpen(e){let n=[];for(;this._peek.type===27;){let a=this._advance();n.push(new cl(a.parts[0],a.sourceSpan))}this._peek.type===25&&this._advance();let r=this._peek.sourceSpan.fullStart,s=new K(e.sourceSpan.start,r,e.sourceSpan.fullStart),i=new K(e.sourceSpan.start,r,e.sourceSpan.fullStart),o=new Ht(e.parts[0],n,[],s,e.sourceSpan,i);this._pushContainer(o,!1)}_consumeBlockClose(e){this._popContainer(null,Ht,e.sourceSpan)||this.errors.push(bt.create(null,e.sourceSpan,'Unexpected closing block. The block may have been closed earlier. If you meant to write the } character, you should use the "&#125;" HTML entity instead.'))}_consumeIncompleteBlock(e){let n=[];for(;this._peek.type===27;){let a=this._advance();n.push(new cl(a.parts[0],a.sourceSpan))}let r=this._peek.sourceSpan.fullStart,s=new K(e.sourceSpan.start,r,e.sourceSpan.fullStart),i=new K(e.sourceSpan.start,r,e.sourceSpan.fullStart),o=new Ht(e.parts[0],n,[],s,e.sourceSpan,i);this._pushContainer(o,!1),this._popContainer(null,Ht,null),this.errors.push(bt.create(e.parts[0],s,`Incomplete block "${e.parts[0]}". If you meant to write the @ character, you should use the "&#64;" HTML entity instead.`))}_getContainer(){return this._containerStack.length>0?this._containerStack[this._containerStack.length-1]:null}_getClosestParentElement(){for(let e=this._containerStack.length-1;e>-1;e--)if(this._containerStack[e]instanceof Gt)return this._containerStack[e];return null}_addToParent(e){let n=this._getContainer();n===null?this.rootNodes.push(e):n.children.push(e)}_getElementFullName(e,n,r){if(e===""&&(e=this.getTagDefinition(n).implicitNamespacePrefix||"",e===""&&r!=null)){let s=Et(r.name)[1];this.getTagDefinition(s).preventNamespaceInheritance||(e=Qc(r.name))}return Jc(e,n)}};function wd(t,e){return t.length>0&&t[t.length-1]===e}function xd(t,e){return ul[e]!==void 0?ul[e]||t:/^#x[a-f0-9]+$/i.test(e)?String.fromCodePoint(parseInt(e.slice(2),16)):/^#\d+$/.test(e)?String.fromCodePoint(parseInt(e.slice(1),10)):t}var Td=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function Ng(t,e){return t=t.toLowerCase(),e=e.toLowerCase(),Td.has(t+"|"+e)||Td.has("*|"+e)}var VC=(t,e)=>(t instanceof Vr&&(e instanceof di&&t.i18n instanceof ct&&(e.previousMessage=t.i18n),t.i18n=e),e),dl=class{constructor(e=Wt,n=!1,r=!1,s=Ix){this.interpolationConfig=e,this.keepI18nAttrs=n,this.enableI18nLegacyMessageIdFormat=r,this.containerBlocks=s,this.hasI18nMeta=!1,this._errors=[]}_generateI18nMessage(e,n="",r){let{meaning:s,description:i,customId:o}=this._parseMetadata(n),l=IC(this.interpolationConfig,this.containerBlocks)(e,s,i,o,r);return this._setMessageId(l,n),this._setLegacyIds(l,n),l}visitAllWithErrors(e){let n=e.map(r=>r.visit(this,null));return new fl(n,this._errors)}visitElement(e){let n;if(px(e)){this.hasI18nMeta=!0;let r=[],s={};for(let i of e.attrs)if(i.name===Lm){let o=e.i18n||i.value;n=this._generateI18nMessage(e.children,o,VC),n.nodes.length===0&&(n=void 0),e.i18n=n}else if(i.name.startsWith(su)){let o=i.name.slice(su.length);Ng(e.name,o)?this._reportError(i,`Translating attribute '${o}' is disallowed for security reasons.`):s[o]=i.value}else r.push(i);if(Object.keys(s).length)for(let i of r){let o=s[i.name];o!==void 0&&i.value&&(i.i18n=this._generateI18nMessage([i],i.i18n||o))}this.keepI18nAttrs||(e.attrs=r)}return Ae(this,e.children,n),e}visitExpansion(e,n){let r,s=e.i18n;if(this.hasI18nMeta=!0,s instanceof di){let i=s.name;r=this._generateI18nMessage([e],s);let o=Np(r);o.name=i,n!==null&&(n.placeholderToMessage[i]=r)}else r=this._generateI18nMessage([e],n||s);return e.i18n=r,e}visitText(e){return e}visitAttribute(e){return e}visitComment(e){return e}visitExpansionCase(e){return e}visitBlock(e,n){return Ae(this,e.children,n),e}visitBlockParameter(e,n){return e}_parseMetadata(e){return typeof e=="string"?HC(e):e instanceof ct?e:{}}_setMessageId(e,n){e.id||(e.id=n instanceof ct&&n.id||pw(e))}_setLegacyIds(e,n){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[uw(e),xm(e)];else if(typeof n!="string"){let r=n instanceof ct?n:n instanceof di?n.previousMessage:void 0;e.legacyIds=r?r.legacyIds:[]}}_reportError(e,n){this._errors.push(new qu(e.sourceSpan,n))}},qC="|",GC="@@";function HC(t=""){let e,n,r;if(t=t.trim(),t){let s=t.indexOf(GC),i=t.indexOf(qC),o;[o,e]=s>-1?[t.slice(0,s),t.slice(s+2)]:[t,""],[n,r]=i>-1?[o.slice(0,i),o.slice(i+1)]:["",o]}return{customId:e,meaning:n,description:r}}function WC(t){let e=[];return t.description?e.push({tagName:"desc",text:t.description}):e.push({tagName:"suppress",text:"{msgDescriptions}"}),t.meaning&&e.push({tagName:"meaning",text:t.meaning}),bm(e)}var jC="goog.getMsg";function Dg(t,e,n,r){let s=zC(e),i=[m(s)];Object.keys(r).length&&(i.push(_o(Bo(r,!0),!0)),i.push(_o({original_code:Fe(Object.keys(r).map(l=>({key:$o(l),quoted:!0,value:e.placeholders[l]?m(e.placeholders[l].sourceSpan.toString()):m(e.placeholderToMessage[l].nodes.map(c=>c.sourceSpan.toString()).join(""))})))})));let o=n.set(P(jC).callFn(i)).toConstDecl();o.addLeadingComment(WC(e));let a=new je(t.set(n));return[o,a]}var zu=class{formatPh(e){return`{$${$o(e)}}`}visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){return Ig(e)}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,n){return this.formatPh(e.name)}},KC=new zu;function zC(t){return t.nodes.map(e=>e.visit(KC,null)).join("")}function _g(t,e,n){let{messageParts:r,placeHolders:s}=XC(e),i=YC(e),o=s.map(c=>n[c.text]),a=Nm(e,r,s,o,i),l=t.set(a);return[new je(l)]}var Xu=class{constructor(e,n){this.placeholderToMessage=e,this.pieces=n}visitText(e){if(this.pieces[this.pieces.length-1]instanceof Ar)this.pieces[this.pieces.length-1].text+=e.value;else{let n=new K(e.sourceSpan.fullStart,e.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details);this.pieces.push(new Ar(e.value,n))}}visitContainer(e){e.children.forEach(n=>n.visit(this))}visitIcu(e){this.pieces.push(new Ar(Ig(e),e.sourceSpan))}visitTagPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.isVoid||(e.children.forEach(n=>n.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan)))}visitPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}visitBlockPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.children.forEach(n=>n.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan))}visitIcuPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan,this.placeholderToMessage[e.name]))}createPlaceholderPiece(e,n,r){return new ns($o(e,!1),n,r)}};function XC(t){let e=[],n=new Xu(t.placeholderToMessage,e);return t.nodes.forEach(r=>r.visit(n)),QC(e)}function YC(t){let e=t.nodes[0],n=t.nodes[t.nodes.length-1];return new K(e.sourceSpan.fullStart,n.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details)}function QC(t){let e=[],n=[];t[0]instanceof ns&&e.push(wc(t[0].sourceSpan.start));for(let r=0;r<t.length;r++){let s=t[r];s instanceof Ar?e.push(s):(n.push(s),t[r-1]instanceof ns&&e.push(wc(t[r-1].sourceSpan.end)))}return t[t.length-1]instanceof ns&&e.push(wc(t[t.length-1].sourceSpan.end)),{messageParts:e,placeHolders:n}}function wc(t){return new Ar("",new K(t,t))}var Id="ngI18nClosureMode",JC="i18n_",ZC="I18N_EXP_",Cd="\uFFFD";function eA(t){let e=t.relativeContextFilePath.replace(/[^A-Za-z0-9]/g,"_").toUpperCase()+"_",n=new Map,r=new Map,s=new Map,i=new Map;for(let l of t.units)for(let c of l.ops())if(c.kind===f.ExtractedAttribute&&c.i18nContext!==null){let u=n.get(c.i18nContext)??[];u.push(c),n.set(c.i18nContext,u)}else if(c.kind===f.I18nAttributes)r.set(c.target,c);else if(c.kind===f.I18nExpression&&c.usage===ws.I18nAttribute){let u=s.get(c.target)??[];u.push(c),s.set(c.target,u)}else c.kind===f.I18nMessage&&i.set(c.xref,c);let o=new Map,a=new Map;for(let l of t.units)for(let c of l.create)if(c.kind===f.I18nMessage){if(c.messagePlaceholder===null){let{mainVar:u,statements:h}=Rg(t,e,i,c);if(c.i18nBlock!==null){let d=t.addConst(u,h);a.set(c.i18nBlock,d)}else{t.constsInitializers.push(...h),o.set(c.i18nContext,u);let d=n.get(c.i18nContext);if(d!==void 0)for(let g of d)g.expression=u.clone()}}w.remove(c)}for(let l of t.units)for(let c of l.create)if($r(c)){let u=r.get(c.xref);if(u===void 0)continue;let h=s.get(c.xref);if(h===void 0)throw new Error("AssertionError: Could not find any i18n expressions associated with an I18nAttributes instruction");let d=new Set;h=h.filter(v=>{let I=d.has(v.name);return d.add(v.name),!I});let g=h.flatMap(v=>{let I=o.get(v.context);if(I===void 0)throw new Error("AssertionError: Could not find i18n expression's value");return[m(v.name),I]});u.i18nAttributesConfig=t.addConst(new xt(g))}for(let l of t.units)for(let c of l.create)if(c.kind===f.I18nStart){let u=a.get(c.root);if(u===void 0)throw new Error("AssertionError: Could not find corresponding i18n block index for an i18n message op; was an i18n message incorrectly assumed to correspond to an attribute?");c.messageIndex=u}}function Rg(t,e,n,r){let s=[],i=new Map;for(let c of r.subMessages){let u=n.get(c),{mainVar:h,statements:d}=Rg(t,e,n,u);s.push(...d);let g=i.get(u.messagePlaceholder)??[];g.push(h),i.set(u.messagePlaceholder,g)}tA(r,i),r.params=new Map([...r.params.entries()].sort());let o=P(t.pool.uniqueName(JC)),a=sA(t.pool,r.message.id,e,t.i18nUseExternalIds),l;if(r.needsPostprocessing||r.postprocessingParams.size>0){let c=Object.fromEntries([...r.postprocessingParams.entries()].sort()),u=Bo(c,!1),h=[];r.postprocessingParams.size>0&&h.push(_o(u,!0)),l=d=>b(p.i18nPostprocess).callFn([d,...h])}return s.push(...nA(r.message,o,a,r.params,l)),{mainVar:o,statements:s}}function tA(t,e){for(let[n,r]of e)r.length===1?t.params.set(n,r[0]):(t.params.set(n,m(`${Cd}${ZC}${n}${Cd}`)),t.postprocessingParams.set(n,W(r)))}function nA(t,e,n,r,s){let i=Object.fromEntries(r),o=[Bm(e),Ri(rA(),Dg(e,t,n,i),_g(e,t,Bo(i,!1)))];return s&&o.push(new je(e.set(s(e)))),o}function rA(){return _i(P(Id)).notIdentical(m("undefined",Il)).and(P(Id))}function sA(t,e,n,r){let s,i=n;if(r){let o=Va("EXTERNAL_"),a=t.uniqueName(i);s=`${o}${On(e)}$$${a}`}else{let o=Va(i);s=t.uniqueName(o)}return P(s)}function iA(t){for(let e of t.units){let n=null,r=null,s=new Map,i=new Map,o=new Map;for(let a of e.create)switch(a.kind){case f.I18nStart:if(a.context===null)throw Error("I18n op should have its context set.");n=a;break;case f.I18nEnd:n=null;break;case f.IcuStart:if(a.context===null)throw Error("Icu op should have its context set.");r=a;break;case f.IcuEnd:r=null;break;case f.Text:if(n!==null)if(s.set(a.xref,n),i.set(a.xref,r),a.icuPlaceholder!==null){let l=eI(t.allocateXrefId(),a.icuPlaceholder,[a.initialValue]);w.replace(a,l),o.set(a.xref,l)}else w.remove(a);break}for(let a of e.update)switch(a.kind){case f.InterpolateText:if(!s.has(a.target))continue;let l=s.get(a.target),c=i.get(a.target),u=o.get(a.target),h=c?c.context:l.context,d=c?Si.Postproccessing:Si.Creation,g=[];for(let v=0;v<a.interpolation.expressions.length;v++){let I=a.interpolation.expressions[v];g.push(mg(h,l.xref,l.xref,l.handle,I,u?.xref??null,a.interpolation.i18nPlaceholders[v]??null,d,ws.I18nText,"",I.sourceSpan??a.sourceSpan))}w.replaceWithMany(a,g),u!==void 0&&(u.strings=a.interpolation.strings);break}}}function oA(t){for(let e of t.units)for(let n of e.create)switch(n.kind){case f.ElementStart:case f.Template:if(!Array.isArray(n.localRefs))throw new Error("AssertionError: expected localRefs to be an array still");if(n.numSlotsUsed+=n.localRefs.length,n.localRefs.length>0){let r=aA(n.localRefs);n.localRefs=t.addConst(r)}else n.localRefs=null;break}}function aA(t){let e=[];for(let n of t)e.push(m(n.name),m(n.target));return W(e)}function lA(t){for(let e of t.units){let n=Ze.HTML;for(let r of e.create)r.kind===f.ElementStart&&r.namespace!==n&&(w.insertBefore(KT(r.namespace),r),n=r.namespace)}}function Pg(t){let e=[],n=0,r=0,s=0,i=0,o=0,a=null;for(;n<t.length;)switch(t.charCodeAt(n++)){case 40:r++;break;case 41:r--;break;case 39:s===0?s=39:s===39&&t.charCodeAt(n-1)!==92&&(s=0);break;case 34:s===0?s=34:s===34&&t.charCodeAt(n-1)!==92&&(s=0);break;case 58:!a&&r===0&&s===0&&(a=qp(t.substring(o,n-1).trim()),i=n);break;case 59:if(a&&i>0&&r===0&&s===0){let c=t.substring(i,n-1).trim();e.push(a,c),o=n,i=0,a=null}break}if(a&&i){let l=t.slice(i).trim();e.push(a,l)}return e}function qp(t){return t.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function cA(t){Ca(t.root,t.componentName,{index:0},t.compatibility===Mt.TemplateDefinitionBuilder)}function Ca(t,e,n,r){t.fnName===null&&(t.fnName=t.job.pool.uniqueName(On(`${e}_${t.job.fnSuffix}`),!1));let s=new Map;for(let i of t.ops())switch(i.kind){case f.Property:case f.HostProperty:i.isAnimationTrigger&&(i.name="@"+i.name);break;case f.Listener:if(i.handlerFnName!==null)break;if(!i.hostListener&&i.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let o="";i.isAnimationListener&&(i.name=`@${i.name}.${i.animationPhase}`,o="animation"),i.hostListener?i.handlerFnName=`${e}_${o}${i.name}_HostBindingHandler`:i.handlerFnName=`${t.fnName}_${i.tag.replace("-","_")}_${o}${i.name}_${i.targetSlot.slot}_listener`,i.handlerFnName=On(i.handlerFnName);break;case f.TwoWayListener:if(i.handlerFnName!==null)break;if(i.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");i.handlerFnName=On(`${t.fnName}_${i.tag.replace("-","_")}_${i.name}_${i.targetSlot.slot}_listener`);break;case f.Variable:s.set(i.xref,uA(t,i.variable,n));break;case f.RepeaterCreate:if(!(t instanceof Ur))throw new Error("AssertionError: must be compiling a component");if(i.handle.slot===null)throw new Error("Expected slot to be assigned");if(i.emptyView!==null){let c=t.job.views.get(i.emptyView);Ca(c,`${e}_${i.functionNameSuffix}Empty_${i.handle.slot+2}`,n,r)}Ca(t.job.views.get(i.xref),`${e}_${i.functionNameSuffix}_${i.handle.slot+1}`,n,r);break;case f.Template:if(!(t instanceof Ur))throw new Error("AssertionError: must be compiling a component");let a=t.job.views.get(i.xref);if(i.handle.slot===null)throw new Error("Expected slot to be assigned");let l=i.functionNameSuffix.length===0?"":`_${i.functionNameSuffix}`;Ca(a,`${e}${l}_${i.handle.slot}`,n,r);break;case f.StyleProp:i.name=pA(i.name),r&&(i.name=Ad(i.name));break;case f.ClassProp:r&&(i.name=Ad(i.name));break}for(let i of t.ops())Lt(i,o=>{if(!(!(o instanceof cr)||o.name!==null)){if(!s.has(o.xref))throw new Error(`Variable ${o.xref} not yet named`);o.name=s.get(o.xref)}})}function uA(t,e,n){if(e.name===null)switch(e.kind){case Ge.Context:e.name=`ctx_r${n.index++}`;break;case Ge.Identifier:if(t.job.compatibility===Mt.TemplateDefinitionBuilder){let r=e.identifier==="ctx"?"i":"";e.name=`${e.identifier}_${r}r${++n.index}`}else e.name=`${e.identifier}_i${n.index++}`;break;default:e.name=`_r${++n.index}`;break}return e.name}function pA(t){return t.startsWith("--")?t:qp(t)}function Ad(t){let e=t.indexOf("!important");return e>-1?t.substring(0,e):t}function hA(t){for(let e of t.units){for(let n of e.create)(n.kind===f.Listener||n.kind===f.TwoWayListener)&&bd(n.handlerOps);bd(e.update)}}function bd(t){for(let e of t){if(e.kind!==f.Statement||!(e.statement instanceof je)||!(e.statement.expr instanceof Ja))continue;let n=e.statement.expr.steps,r=!0;for(let s=e.next;s.kind!==f.ListEnd&&r;s=s.next)Lt(s,(i,o)=>{if(!qn(i))return i;if(r&&!(o&ue.InChildOperation))switch(i.kind){case U.NextContext:i.steps+=n,w.remove(e),r=!1;break;case U.GetCurrentView:case U.Reference:r=!1;break}})}}var fA="ng-container";function dA(t){for(let e of t.units){let n=new Set;for(let r of e.create)r.kind===f.ElementStart&&r.tag===fA&&(r.kind=f.ContainerStart,n.add(r.xref)),r.kind===f.ElementEnd&&n.has(r.xref)&&(r.kind=f.ContainerEnd)}}function mA(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function gA(t){let e=new Map;for(let n of t.units)for(let r of n.create)$r(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.create)(r.kind===f.ElementStart||r.kind===f.ContainerStart)&&r.nonBindable&&w.insertAfter(WT(r.xref),r),(r.kind===f.ElementEnd||r.kind===f.ContainerEnd)&&mA(e,r.xref).nonBindable&&w.insertBefore(jT(r.xref),r)}function vA(t){for(let e of t.units)for(let n of e.ops())rt(n,r=>{if(!(r instanceof ee)||r.operator!==T.NullishCoalesce)return r;let s=new In(r.lhs.clone(),t.allocateXrefId()),i=new ur(s.xref);return new wt(new ee(T.And,new ee(T.NotIdentical,s,_r),new ee(T.NotIdentical,i,new Re(void 0))),i.clone(),r.rhs)},ue.None)}function Xn(t){return e=>e.kind===t}function no(t,e){return n=>n.kind===t&&e===n.expression instanceof ke}function yA(t){return t.kind===f.Listener&&!(t.hostListener&&t.isAnimationListener)||t.kind===f.TwoWayListener}function EA(t){return(t.kind===f.Property||t.kind===f.TwoWayProperty)&&!(t.expression instanceof ke)}var SA=[{test:t=>t.kind===f.Listener&&t.hostListener&&t.isAnimationListener},{test:yA}],wA=[{test:Xn(f.StyleMap),transform:ml},{test:Xn(f.ClassMap),transform:ml},{test:Xn(f.StyleProp)},{test:Xn(f.ClassProp)},{test:no(f.Attribute,!0)},{test:no(f.Property,!0)},{test:EA},{test:no(f.Attribute,!1)}],xA=[{test:no(f.HostProperty,!0)},{test:no(f.HostProperty,!1)},{test:Xn(f.Attribute)},{test:Xn(f.StyleMap),transform:ml},{test:Xn(f.ClassMap),transform:ml},{test:Xn(f.StyleProp)},{test:Xn(f.ClassProp)}],Nd=new Set([f.Listener,f.TwoWayListener,f.StyleMap,f.ClassMap,f.StyleProp,f.ClassProp,f.Property,f.TwoWayProperty,f.HostProperty,f.Attribute]);function TA(t){for(let e of t.units){Dd(e.create,SA);let n=e.job.kind===_.Host?xA:wA;Dd(e.update,n)}}function Dd(t,e){let n=[],r=null;for(let s of t){let i=$p(s)?s.target:null;(!Nd.has(s.kind)||i!==r&&r!==null&&i!==null)&&(w.insertBefore(_d(n,e),s),n=[],r=null),Nd.has(s.kind)&&(n.push(s),w.remove(s),r=i??r)}t.push(_d(n,e))}function _d(t,e){let n=Array.from(e,()=>new Array);for(let r of t){let s=e.findIndex(i=>i.test(r));n[s].push(r)}return n.flatMap((r,s)=>{let i=e[s].transform;return i?i(r):r})}function ml(t){return t.slice(t.length-1)}function IA(t){let e=new Map;for(let n of t.units)for(let r of n.create)$r(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.create)if(r.kind===f.ExtractedAttribute&&r.bindingKind===F.Attribute&&gg(r.expression)){let s=e.get(r.target);if(s!==void 0&&s.kind===f.Template&&s.templateKind===Rt.Structural)continue;if(r.name==="style"){let i=Pg(r.expression.value);for(let o=0;o<i.length-1;o+=2)w.insertBefore(jt(r.target,F.StyleProperty,null,i[o],m(i[o+1]),null,null,ne.STYLE),r);w.remove(r)}else if(r.name==="class"){let i=r.expression.value.trim().split(/\s+/g);for(let o of i)w.insertBefore(jt(r.target,F.ClassName,null,o,null,null,null,ne.NONE),r);w.remove(r)}}}function CA(t){for(let e of t.units){let n=Vp(e);for(let r of e.ops())switch(r.kind){case f.Binding:let s=bA(n,r.target);AA(r.name)&&s.kind===f.Projection&&w.remove(r);break}}}function AA(t){return t.toLowerCase()==="select"}function bA(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an slottable target.");return n}function NA(t){for(let e of t.units)DA(e)}function DA(t){for(let e of t.update)Lt(e,(n,r)=>{if(qn(n)&&n.kind===U.PipeBinding){if(r&ue.InChildOperation)throw new Error("AssertionError: pipe bindings should not appear in child expressions");if(t.job.compatibility){if(e.target==null)throw new Error("AssertionError: expected slot handle to be assigned for pipe creation");_A(t,e.target,n)}else t.create.push(Eg(n.target,n.targetSlot,n.name))}})}function _A(t,e,n){for(let r=t.create.head.next;r.kind!==f.ListEnd;r=r.next){if(!ki(r)||r.xref!==e)continue;for(;r.next.kind===f.Pipe;)r=r.next;let s=Eg(n.target,n.targetSlot,n.name);w.insertBefore(s,r.next);return}throw new Error(`AssertionError: unable to find insertion point for pipe ${n.name}`)}function RA(t){for(let e of t.units)for(let n of e.update)rt(n,r=>!(r instanceof Is)||r.args.length<=4?r:new tl(r.target,r.targetSlot,r.name,W(r.args),r.args.length),ue.None)}function PA(t){kg(t.root,0)}function kg(t,e){let n=null;for(let r of t.create)switch(r.kind){case f.I18nStart:r.subTemplateIndex=e===0?null:e,n=r;break;case f.I18nEnd:n.subTemplateIndex===null&&(e=0),n=null;break;case f.Template:e=xc(t.job.views.get(r.xref),n,r.i18nPlaceholder,e);break;case f.RepeaterCreate:let s=t.job.views.get(r.xref);e=xc(s,n,r.i18nPlaceholder,e),r.emptyView!==null&&(e=xc(t.job.views.get(r.emptyView),n,r.emptyI18nPlaceholder,e));break}return e}function xc(t,e,n,r){if(n!==void 0){if(e===null)throw Error("Expected template with i18n placeholder to be in an i18n block.");r++,kA(t,e)}return kg(t,r)}function kA(t,e){if(t.create.head.next?.kind!==f.I18nStart){let n=t.job.allocateXrefId();w.insertAfter(Ll(n,e.message,e.root,null),t.create.head),w.insertBefore(Ol(n,null),t.create.tail)}}function MA(t){for(let e of t.units)for(let n of e.ops())Lt(n,r=>{if(!(r instanceof Ts)||r.body===null)return;let s=new Yu(r.args.length);r.fn=t.pool.getSharedConstant(s,r.body),r.body=null})}var Yu=class extends ti{constructor(e){super(),this.numArgs=e}keyOf(e){return e instanceof wi?`param(${e.index})`:super.keyOf(e)}toSharedConstantDeclaration(e,n){let r=[];for(let i=0;i<this.numArgs;i++)r.push(new me("a"+i));let s=R(n,i=>i instanceof wi?P("a"+i.index):i,ue.None);return new nt(e,new tr(r,s),void 0,Le.Final)}};function LA(t){for(let e of t.units)for(let n of e.update)rt(n,(r,s)=>s&ue.InChildOperation?r:r instanceof xt?OA(r):r instanceof Qt?FA(r):r,ue.None)}function OA(t){let e=[],n=[];for(let r of t.entries)if(r.isConstant())e.push(r);else{let s=n.length;n.push(r),e.push(new wi(s))}return new Ts(W(e),n)}function FA(t){let e=[],n=[];for(let r of t.entries)if(r.value.isConstant())e.push(r);else{let s=n.length;n.push(r.value),e.push(new ls(r.key,new wi(s),r.quoted))}return new Ts(Fe(e),n)}function BA(t,e,n,r,s){return Fl(p.element,t,e,n,r,s)}function $A(t,e,n,r,s){return Fl(p.elementStart,t,e,n,r,s)}function Fl(t,e,n,r,s,i){let o=[m(e)];return n!==null&&o.push(m(n)),s!==null?o.push(m(r),m(s)):r!==null&&o.push(m(r)),re(t,o,i)}function UA(t){return re(p.elementEnd,[],t)}function VA(t,e,n,r){return Fl(p.elementContainerStart,t,null,e,n,r)}function qA(t,e,n,r){return Fl(p.elementContainer,t,null,e,n,r)}function GA(){return re(p.elementContainerEnd,[],null)}function HA(t,e,n,r,s,i,o,a){let l=[m(t),e,m(n),m(r),m(s),m(i)];for(o!==null&&(l.push(m(o)),l.push(b(p.templateRefExtractor)));l[l.length-1].isEquivalent(_r);)l.pop();return re(p.templateCreate,l,a)}function WA(){return re(p.disableBindings,[],null)}function jA(){return re(p.enableBindings,[],null)}function KA(t,e,n,r,s){let i=[m(t),e];return n!==null&&(i.push(m(!1)),i.push(b(n))),re(r?p.syntheticHostListener:p.listener,i,s)}function Rd(t,e){return b(p.twoWayBindingSet).callFn([t,e])}function zA(t,e,n){return re(p.twoWayListener,[m(t),e],n)}function XA(t,e){return re(p.pipe,[m(t),m(e)],null)}function YA(){return re(p.namespaceHTML,[],null)}function QA(){return re(p.namespaceSVG,[],null)}function JA(){return re(p.namespaceMathML,[],null)}function ZA(t,e){return re(p.advance,t>1?[m(t)]:[],e)}function eb(t){return b(p.reference).callFn([m(t)])}function tb(t){return b(p.nextContext).callFn(t===1?[]:[m(t)])}function nb(){return b(p.getCurrentView).callFn([])}function rb(t){return b(p.restoreView).callFn([t])}function sb(t){return b(p.resetView).callFn([t])}function ib(t,e,n){let r=[m(t,null)];return e!==""&&r.push(m(e)),re(p.text,r,n)}function ob(t,e,n,r,s,i,o,a,l,c){let u=[m(t),m(e),n??m(null),m(r),m(s),m(i),o??m(null),a??m(null),l?b(p.deferEnableTimerScheduling):m(null)],h;for(;(h=u[u.length-1])!==null&&h instanceof Re&&h.value===null;)u.pop();return re(p.defer,u,c)}var ab=new Map([[ye.Idle,[p.deferOnIdle,p.deferPrefetchOnIdle]],[ye.Immediate,[p.deferOnImmediate,p.deferPrefetchOnImmediate]],[ye.Timer,[p.deferOnTimer,p.deferPrefetchOnTimer]],[ye.Hover,[p.deferOnHover,p.deferPrefetchOnHover]],[ye.Interaction,[p.deferOnInteraction,p.deferPrefetchOnInteraction]],[ye.Viewport,[p.deferOnViewport,p.deferPrefetchOnViewport]]]);function lb(t,e,n,r){let s=ab.get(t);if(s===void 0)throw new Error(`Unable to determine instruction for trigger ${t}`);let i=n?s[1]:s[0];return re(i,e.map(o=>m(o)),r)}function cb(t){return re(p.projectionDef,t?[t]:[],null)}function ub(t,e,n,r){let s=[m(t)];return(e!==0||n!==null)&&(s.push(m(e)),n!==null&&s.push(n)),re(p.projection,s,r)}function pb(t,e,n,r){let s=[m(t),m(e)];return n!==null&&s.push(m(n)),re(p.i18nStart,s,r)}function hb(t,e,n,r,s,i,o,a,l,c,u,h,d,g){let v=[m(t),P(e),m(n),m(r),m(s),m(i),o];return(a||l!==null)&&(v.push(m(a)),l!==null&&(v.push(P(l),m(c),m(u)),(h!==null||d!==null)&&v.push(m(h)),d!==null&&v.push(m(d)))),re(p.repeaterCreate,v,g)}function fb(t,e){return re(p.repeater,[t],e)}function db(t,e,n){return re(t?p.deferPrefetchWhen:p.deferWhen,[e],n)}function mb(t,e,n,r){let s=[m(t),m(e)];return n&&s.push(m(n)),re(p.i18n,s,r)}function gb(t){return re(p.i18nEnd,[],t)}function vb(t,e){let n=[m(t),m(e)];return re(p.i18nAttributes,n,null)}function yb(t,e,n,r){let s=[m(t),e];return n!==null&&s.push(n),re(p.property,s,r)}function Eb(t,e,n,r){let s=[m(t),e];return n!==null&&s.push(n),re(p.twoWayProperty,s,r)}function Sb(t,e,n,r){let s=[m(t),e];return(n!==null||r!==null)&&s.push(n??m(null)),r!==null&&s.push(m(r)),re(p.attribute,s,null)}function wb(t,e,n,r){let s=[m(t),e];return n!==null&&s.push(m(n)),re(p.styleProp,s,r)}function xb(t,e,n){return re(p.classProp,[m(t),e],n)}function Tb(t,e){return re(p.styleMap,[t],e)}function Ib(t,e){return re(p.classMap,[t],e)}var Pd=[p.pipeBind1,p.pipeBind2,p.pipeBind3,p.pipeBind4];function Cb(t,e,n){if(n.length<1||n.length>Pd.length)throw new Error("pipeBind() argument count out of bounds");let r=Pd[n.length-1];return b(r).callFn([m(t),m(e),...n])}function Ab(t,e,n){return b(p.pipeBindV).callFn([m(t),m(e),n])}function bb(t,e,n){if(t.length<1||e.length!==t.length-1)throw new Error("AssertionError: expected specific shape of args for strings/expressions in interpolation");let r=[];if(e.length===1&&t[0]===""&&t[1]==="")r.push(e[0]);else{let s;for(s=0;s<e.length;s++)r.push(m(t[s]),e[s]);r.push(m(t[s]))}return Mi($b,[],r,[],n)}function Nb(t,e){return re(p.i18nExp,[t],e)}function Db(t,e){return re(p.i18nApply,[m(t)],e)}function _b(t,e,n,r,s){let i=Go(e,n),o=[];return r!==null&&o.push(r),Mi(Ub,[m(t)],i,o,s)}function Rb(t,e,n,r,s){let i=Go(e,n),o=[];return r!==null&&o.push(r),Mi(qb,[m(t)],i,o,s)}function Pb(t,e,n,r,s){let i=Go(e,n),o=[];return r!==null&&o.push(m(r)),Mi(Vb,[m(t)],i,o,s)}function kb(t,e,n){let r=Go(t,e);return Mi(Gb,[],r,[],n)}function Mb(t,e,n){let r=Go(t,e);return Mi(Hb,[],r,[],n)}function Lb(t,e,n,r){let s=[m(t),e];return n!==null&&s.push(n),re(p.hostProperty,s,r)}function Ob(t,e,n){return re(p.syntheticHostProperty,[m(t),e],n)}function Fb(t,e,n){return Mg(Wb,[m(t),e],n,[],null)}function Go(t,e){if(t.length<1||e.length!==t.length-1)throw new Error("AssertionError: expected specific shape of args for strings/expressions in interpolation");let n=[];if(e.length===1&&t[0]===""&&t[1]==="")n.push(e[0]);else{let r;for(r=0;r<e.length;r++)n.push(m(t[r]),e[r]);n.push(m(t[r]))}return n}function re(t,e,n){let r=b(t).callFn(e,n);return Vn(new je(r,n))}function Bb(t,e,n,r){let s=[m(t),e];return n!==null&&s.push(n),re(p.conditional,s,r)}var $b={constant:[p.textInterpolate,p.textInterpolate1,p.textInterpolate2,p.textInterpolate3,p.textInterpolate4,p.textInterpolate5,p.textInterpolate6,p.textInterpolate7,p.textInterpolate8],variable:p.textInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},Ub={constant:[p.propertyInterpolate,p.propertyInterpolate1,p.propertyInterpolate2,p.propertyInterpolate3,p.propertyInterpolate4,p.propertyInterpolate5,p.propertyInterpolate6,p.propertyInterpolate7,p.propertyInterpolate8],variable:p.propertyInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},Vb={constant:[p.styleProp,p.stylePropInterpolate1,p.stylePropInterpolate2,p.stylePropInterpolate3,p.stylePropInterpolate4,p.stylePropInterpolate5,p.stylePropInterpolate6,p.stylePropInterpolate7,p.stylePropInterpolate8],variable:p.stylePropInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},qb={constant:[p.attribute,p.attributeInterpolate1,p.attributeInterpolate2,p.attributeInterpolate3,p.attributeInterpolate4,p.attributeInterpolate5,p.attributeInterpolate6,p.attributeInterpolate7,p.attributeInterpolate8],variable:p.attributeInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},Gb={constant:[p.styleMap,p.styleMapInterpolate1,p.styleMapInterpolate2,p.styleMapInterpolate3,p.styleMapInterpolate4,p.styleMapInterpolate5,p.styleMapInterpolate6,p.styleMapInterpolate7,p.styleMapInterpolate8],variable:p.styleMapInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},Hb={constant:[p.classMap,p.classMapInterpolate1,p.classMapInterpolate2,p.classMapInterpolate3,p.classMapInterpolate4,p.classMapInterpolate5,p.classMapInterpolate6,p.classMapInterpolate7,p.classMapInterpolate8],variable:p.classMapInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},Wb={constant:[p.pureFunction0,p.pureFunction1,p.pureFunction2,p.pureFunction3,p.pureFunction4,p.pureFunction5,p.pureFunction6,p.pureFunction7,p.pureFunction8],variable:p.pureFunctionV,mapping:t=>t};function Mg(t,e,n,r,s){let i=t.mapping(n.length);if(i<t.constant.length)return b(t.constant[i]).callFn([...e,...n,...r],s);if(t.variable!==null)return b(t.variable).callFn([...e,W(n),...r],s);throw new Error("AssertionError: unable to call variadic function")}function Mi(t,e,n,r,s){return Vn(Mg(t,e,n,r,s).toStmt())}var jb=new Map([["window",p.resolveWindow],["document",p.resolveDocument],["body",p.resolveBody]]);function Kb(t){for(let e of t.units)zb(e,e.create),Lg(e,e.update)}function zb(t,e){for(let n of e)switch(rt(n,Og,ue.None),n.kind){case f.Text:w.replace(n,ib(n.handle.slot,n.initialValue,n.sourceSpan));break;case f.ElementStart:w.replace(n,$A(n.handle.slot,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case f.Element:w.replace(n,BA(n.handle.slot,n.tag,n.attributes,n.localRefs,n.wholeSourceSpan));break;case f.ElementEnd:w.replace(n,UA(n.sourceSpan));break;case f.ContainerStart:w.replace(n,VA(n.handle.slot,n.attributes,n.localRefs,n.startSourceSpan));break;case f.Container:w.replace(n,qA(n.handle.slot,n.attributes,n.localRefs,n.wholeSourceSpan));break;case f.ContainerEnd:w.replace(n,GA());break;case f.I18nStart:w.replace(n,pb(n.handle.slot,n.messageIndex,n.subTemplateIndex,n.sourceSpan));break;case f.I18nEnd:w.replace(n,gb(n.sourceSpan));break;case f.I18n:w.replace(n,mb(n.handle.slot,n.messageIndex,n.subTemplateIndex,n.sourceSpan));break;case f.I18nAttributes:if(n.i18nAttributesConfig===null)throw new Error("AssertionError: i18nAttributesConfig was not set");w.replace(n,vb(n.handle.slot,n.i18nAttributesConfig));break;case f.Template:if(!(t instanceof Ur))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(n.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let r=t.job.views.get(n.xref);w.replace(n,HA(n.handle.slot,P(r.fnName),r.decls,r.vars,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case f.DisableBindings:w.replace(n,WA());break;case f.EnableBindings:w.replace(n,jA());break;case f.Pipe:w.replace(n,XA(n.handle.slot,n.name));break;case f.Listener:let s=kd(t,n.handlerFnName,n.handlerOps,n.consumesDollarEvent),i=n.eventTarget?jb.get(n.eventTarget):null;if(i===void 0)throw new Error(`Unexpected global target '${n.eventTarget}' defined for '${n.name}' event. Supported list of global targets: window,document,body.`);w.replace(n,KA(n.name,s,i,n.hostListener&&n.isAnimationListener,n.sourceSpan));break;case f.TwoWayListener:w.replace(n,zA(n.name,kd(t,n.handlerFnName,n.handlerOps,!0),n.sourceSpan));break;case f.Variable:if(n.variable.name===null)throw new Error(`AssertionError: unnamed variable ${n.xref}`);w.replace(n,Vn(new nt(n.variable.name,n.initializer,void 0,Le.Final)));break;case f.Namespace:switch(n.active){case Ze.HTML:w.replace(n,YA());break;case Ze.SVG:w.replace(n,QA());break;case Ze.Math:w.replace(n,JA());break}break;case f.Defer:let o=!!n.loadingMinimumTime||!!n.loadingAfterTime||!!n.placeholderMinimumTime;w.replace(n,ob(n.handle.slot,n.mainSlot.slot,n.resolverFn,n.loadingSlot?.slot??null,n.placeholderSlot?.slot??null,n.errorSlot?.slot??null,n.loadingConfig,n.placeholderConfig,o,n.sourceSpan));break;case f.DeferOn:let a=[];switch(n.trigger.kind){case ye.Idle:case ye.Immediate:break;case ye.Timer:a=[n.trigger.delay];break;case ye.Interaction:case ye.Hover:case ye.Viewport:if(n.trigger.targetSlot?.slot==null||n.trigger.targetSlotViewSteps===null)throw new Error(`Slot or view steps not set in trigger reification for trigger kind ${n.trigger.kind}`);a=[n.trigger.targetSlot.slot],n.trigger.targetSlotViewSteps!==0&&a.push(n.trigger.targetSlotViewSteps);break;default:throw new Error(`AssertionError: Unsupported reification of defer trigger kind ${n.trigger.kind}`)}w.replace(n,lb(n.trigger.kind,a,n.prefetch,n.sourceSpan));break;case f.ProjectionDef:w.replace(n,cb(n.def));break;case f.Projection:if(n.handle.slot===null)throw new Error("No slot was assigned for project instruction");w.replace(n,ub(n.handle.slot,n.projectionSlotIndex,n.attributes,n.sourceSpan));break;case f.RepeaterCreate:if(n.handle.slot===null)throw new Error("No slot was assigned for repeater instruction");if(!(t instanceof Ur))throw new Error("AssertionError: must be compiling a component");let l=t.job.views.get(n.xref);if(l.fnName===null)throw new Error("AssertionError: expected repeater primary view to have been named");let c=null,u=null,h=null;if(n.emptyView!==null){let d=t.job.views.get(n.emptyView);if(d===void 0)throw new Error("AssertionError: repeater had empty view xref, but empty view was not found");if(d.fnName===null||d.decls===null||d.vars===null)throw new Error("AssertionError: expected repeater empty view to have been named and counted");c=d.fnName,u=d.decls,h=d.vars}w.replace(n,hb(n.handle.slot,l.fnName,n.decls,n.vars,n.tag,n.attributes,n.trackByFn,n.usesComponentInstance,c,u,h,n.emptyTag,n.emptyAttributes,n.wholeSourceSpan));break;case f.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of create op ${f[n.kind]}`)}}function Lg(t,e){for(let n of e)switch(rt(n,Og,ue.None),n.kind){case f.Advance:w.replace(n,ZA(n.delta,n.sourceSpan));break;case f.Property:n.expression instanceof ke?w.replace(n,_b(n.name,n.expression.strings,n.expression.expressions,n.sanitizer,n.sourceSpan)):w.replace(n,yb(n.name,n.expression,n.sanitizer,n.sourceSpan));break;case f.TwoWayProperty:w.replace(n,Eb(n.name,n.expression,n.sanitizer,n.sourceSpan));break;case f.StyleProp:n.expression instanceof ke?w.replace(n,Pb(n.name,n.expression.strings,n.expression.expressions,n.unit,n.sourceSpan)):w.replace(n,wb(n.name,n.expression,n.unit,n.sourceSpan));break;case f.ClassProp:w.replace(n,xb(n.name,n.expression,n.sourceSpan));break;case f.StyleMap:n.expression instanceof ke?w.replace(n,kb(n.expression.strings,n.expression.expressions,n.sourceSpan)):w.replace(n,Tb(n.expression,n.sourceSpan));break;case f.ClassMap:n.expression instanceof ke?w.replace(n,Mb(n.expression.strings,n.expression.expressions,n.sourceSpan)):w.replace(n,Ib(n.expression,n.sourceSpan));break;case f.I18nExpression:w.replace(n,Nb(n.expression,n.sourceSpan));break;case f.I18nApply:w.replace(n,Db(n.handle.slot,n.sourceSpan));break;case f.InterpolateText:w.replace(n,bb(n.interpolation.strings,n.interpolation.expressions,n.sourceSpan));break;case f.Attribute:n.expression instanceof ke?w.replace(n,Rb(n.name,n.expression.strings,n.expression.expressions,n.sanitizer,n.sourceSpan)):w.replace(n,Sb(n.name,n.expression,n.sanitizer,n.namespace));break;case f.HostProperty:if(n.expression instanceof ke)throw new Error("not yet handled");n.isAnimationTrigger?w.replace(n,Ob(n.name,n.expression,n.sourceSpan)):w.replace(n,Lb(n.name,n.expression,n.sanitizer,n.sourceSpan));break;case f.Variable:if(n.variable.name===null)throw new Error(`AssertionError: unnamed variable ${n.xref}`);w.replace(n,Vn(new nt(n.variable.name,n.initializer,void 0,Le.Final)));break;case f.Conditional:if(n.processed===null)throw new Error("Conditional test was not set.");if(n.targetSlot.slot===null)throw new Error("Conditional slot was not set.");w.replace(n,Bb(n.targetSlot.slot,n.processed,n.contextValue,n.sourceSpan));break;case f.Repeater:w.replace(n,fb(n.collection,n.sourceSpan));break;case f.DeferWhen:w.replace(n,db(n.prefetch,n.expr,n.sourceSpan));break;case f.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of update op ${f[n.kind]}`)}}function Og(t){if(!qn(t))return t;switch(t.kind){case U.NextContext:return tb(t.steps);case U.Reference:return eb(t.targetSlot.slot+1+t.offset);case U.LexicalRead:throw new Error(`AssertionError: unresolved LexicalRead of ${t.name}`);case U.TwoWayBindingSet:throw new Error("AssertionError: unresolved TwoWayBindingSet");case U.RestoreView:if(typeof t.view=="number")throw new Error("AssertionError: unresolved RestoreView");return rb(t.view);case U.ResetView:return sb(t.expr);case U.GetCurrentView:return nb();case U.ReadVariable:if(t.name===null)throw new Error(`Read of unnamed variable ${t.xref}`);return P(t.name);case U.ReadTemporaryExpr:if(t.name===null)throw new Error(`Read of unnamed temporary ${t.xref}`);return P(t.name);case U.AssignTemporaryExpr:if(t.name===null)throw new Error(`Assign of unnamed temporary ${t.xref}`);return P(t.name).set(t.expr);case U.PureFunctionExpr:if(t.fn===null)throw new Error("AssertionError: expected PureFunctions to have been extracted");return Fb(t.varOffset,t.fn,t.args);case U.PureFunctionParameterExpr:throw new Error("AssertionError: expected PureFunctionParameterExpr to have been extracted");case U.PipeBinding:return Cb(t.targetSlot.slot,t.varOffset,t.args);case U.PipeBindingVariadic:return Ab(t.targetSlot.slot,t.varOffset,t.args);case U.SlotLiteralExpr:return m(t.slot.slot);default:throw new Error(`AssertionError: Unsupported reification of ir.Expression kind: ${U[t.kind]}`)}}function kd(t,e,n,r){Lg(t,n);let s=[];for(let o of n){if(o.kind!==f.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${f[o.kind]}`);s.push(o.statement)}let i=[];return r&&i.push(new me("$event")),En(i,s,void 0,void 0,e)}function Xb(t){for(let e of t.units)for(let n of e.update)switch(n.kind){case f.Attribute:case f.Binding:case f.ClassProp:case f.ClassMap:case f.Property:case f.StyleProp:case f.StyleMap:n.expression instanceof bo&&w.remove(n);break}}function Yb(t){for(let e of t.units)for(let n of e.create)switch(n.kind){case f.I18nContext:w.remove(n);break;case f.I18nStart:n.context=null;break}}function Qb(t){for(let e of t.units){let n=new Set;for(let r of e.update)switch(r.kind){case f.I18nExpression:n.add(r.i18nOwner)}for(let r of e.create)switch(r.kind){case f.I18nAttributes:if(n.has(r.xref))continue;w.remove(r)}}}function Jb(t){for(let e of t.units)Qu(e,e.create),Qu(e,e.update)}function Qu(t,e){let n=new Map;n.set(t.xref,P("ctx"));for(let r of e)switch(r.kind){case f.Variable:switch(r.variable.kind){case Ge.Context:n.set(r.variable.view,new cr(r.xref));break}break;case f.Listener:case f.TwoWayListener:Qu(t,r.handlerOps);break}t===t.job.root&&n.set(t.xref,P("ctx"));for(let r of e)rt(r,s=>{if(s instanceof lr){if(!n.has(s.view))throw new Error(`No context found for reference to view ${s.view} from view ${t.xref}`);return n.get(s.view)}else return s},ue.None)}function Zb(t){for(let e of t.units)Md(e.create),Md(e.update)}function Md(t){for(let e of t)(e.kind===f.Listener||e.kind===f.TwoWayListener)&&rt(e,n=>n instanceof Dt&&n.name==="$event"?(e.kind===f.Listener&&(e.consumesDollarEvent=!0),new Pt(n.name)):n,ue.InChildOperation)}function eN(t){let e=new Map,n=new Map;for(let r of t.units)for(let s of r.create)switch(s.kind){case f.I18nContext:e.set(s.xref,s);break;case f.ElementStart:n.set(s.xref,s);break}wr(t,t.root,e,n)}function wr(t,e,n,r,s){let i=null,o=new Map;for(let a of e.create)switch(a.kind){case f.I18nStart:if(!a.context)throw Error("Could not find i18n context for i18n op");i={i18nBlock:a,i18nContext:n.get(a.context)};break;case f.I18nEnd:i=null;break;case f.ElementStart:if(a.i18nPlaceholder!==void 0){if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Ld(a,i.i18nContext,i.i18nBlock,s),s&&a.i18nPlaceholder.closeName&&o.set(a.xref,s),s=void 0}break;case f.ElementEnd:let l=r.get(a.xref);if(l&&l.i18nPlaceholder!==void 0){if(i===null)throw Error("AssertionError: i18n tag placeholder should only occur inside an i18n block");Od(l,i.i18nContext,i.i18nBlock,o.get(a.xref)),o.delete(a.xref)}break;case f.Projection:if(a.i18nPlaceholder!==void 0){if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Ld(a,i.i18nContext,i.i18nBlock,s),Od(a,i.i18nContext,i.i18nBlock,s),s=void 0}break;case f.Template:let c=t.views.get(a.xref);if(a.i18nPlaceholder===void 0)wr(t,c,n,r);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");a.templateKind===Rt.Structural?wr(t,c,n,r,a):(Tc(t,c,a.handle.slot,a.i18nPlaceholder,i.i18nContext,i.i18nBlock,s),wr(t,c,n,r),Ic(t,c,a.handle.slot,a.i18nPlaceholder,i.i18nContext,i.i18nBlock,s),s=void 0)}break;case f.RepeaterCreate:if(s!==void 0)throw Error("AssertionError: Unexpected structural directive associated with @for block");let u=a.handle.slot+1,h=t.views.get(a.xref);if(a.i18nPlaceholder===void 0)wr(t,h,n,r);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Tc(t,h,u,a.i18nPlaceholder,i.i18nContext,i.i18nBlock,s),wr(t,h,n,r),Ic(t,h,u,a.i18nPlaceholder,i.i18nContext,i.i18nBlock,s),s=void 0}if(a.emptyView!==null){let d=a.handle.slot+2,g=t.views.get(a.emptyView);if(a.emptyI18nPlaceholder===void 0)wr(t,g,n,r);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Tc(t,g,d,a.emptyI18nPlaceholder,i.i18nContext,i.i18nBlock,s),wr(t,g,n,r),Ic(t,g,d,a.emptyI18nPlaceholder,i.i18nContext,i.i18nBlock,s),s=void 0}}break}}function Ld(t,e,n,r){let{startName:s,closeName:i}=t.i18nPlaceholder,o=fe.ElementTag|fe.OpenTag,a=t.handle.slot;r!==void 0&&(o|=fe.TemplateTag,a={element:a,template:r.handle.slot}),i||(o|=fe.CloseTag),bi(e.params,s,a,n.subTemplateIndex,o)}function Od(t,e,n,r){let{closeName:s}=t.i18nPlaceholder;if(s){let i=fe.ElementTag|fe.CloseTag,o=t.handle.slot;r!==void 0&&(i|=fe.TemplateTag,o={element:o,template:r.handle.slot}),bi(e.params,s,o,n.subTemplateIndex,i)}}function Tc(t,e,n,r,s,i,o){let{startName:a,closeName:l}=r,c=fe.TemplateTag|fe.OpenTag;l||(c|=fe.CloseTag),o!==void 0&&bi(s.params,a,o.handle.slot,i.subTemplateIndex,c),bi(s.params,a,n,Fg(t,i,e),c)}function Ic(t,e,n,r,s,i,o){let{closeName:a}=r,l=fe.TemplateTag|fe.CloseTag;a&&(bi(s.params,a,n,Fg(t,i,e),l),o!==void 0&&bi(s.params,a,o.handle.slot,i.subTemplateIndex,l))}function Fg(t,e,n){for(let r of n.create)if(r.kind===f.I18nStart)return r.subTemplateIndex;return e.subTemplateIndex}function bi(t,e,n,r,s){let i=t.get(e)??[];i.push({value:n,subTemplateIndex:r,flags:s}),t.set(e,i)}function tN(t){let e=new Map,n=new Map,r=new Map;for(let o of t.units)for(let a of o.create)switch(a.kind){case f.I18nStart:e.set(a.xref,a.subTemplateIndex);break;case f.I18nContext:n.set(a.xref,a);break;case f.IcuPlaceholder:r.set(a.xref,a);break}let s=new Map,i=o=>o.usage===ws.I18nText?o.i18nOwner:o.context;for(let o of t.units)for(let a of o.update)if(a.kind===f.I18nExpression){let l=s.get(i(a))||0,c=e.get(a.i18nOwner)??null,u={value:l,subTemplateIndex:c,flags:fe.ExpressionIndex};nN(a,u,n,r),s.set(i(a),l+1)}}function nN(t,e,n,r){if(t.i18nPlaceholder!==null){let s=n.get(t.context),i=t.resolutionTime===Si.Creation?s.params:s.postprocessingParams,o=i.get(t.i18nPlaceholder)||[];o.push(e),i.set(t.i18nPlaceholder,o)}t.icuPlaceholder!==null&&r.get(t.icuPlaceholder)?.expressionPlaceholders.push(e)}function rN(t){for(let e of t.units)Ju(e,e.create,null),Ju(e,e.update,null)}function Ju(t,e,n){let r=new Map;for(let s of e)switch(s.kind){case f.Variable:switch(s.variable.kind){case Ge.Identifier:case Ge.Alias:if(r.has(s.variable.identifier))continue;r.set(s.variable.identifier,s.xref);break;case Ge.SavedView:n={view:s.variable.view,variable:s.xref};break}break;case f.Listener:case f.TwoWayListener:Ju(t,s.handlerOps,n);break}for(let s of e)s.kind==f.Listener||s.kind===f.TwoWayListener||rt(s,i=>{if(i instanceof Dt)return r.has(i.name)?new cr(r.get(i.name)):new tt(new lr(t.job.root.xref),i.name);if(i instanceof Za&&typeof i.view=="number"){if(n===null||n.view!==i.view)throw new Error(`AssertionError: no saved view ${i.view} from view ${t.xref}`);return i.view=new cr(n.variable),i}else return i},ue.None);for(let s of e)Lt(s,i=>{if(i instanceof Dt)throw new Error(`AssertionError: no lexical reads should remain, but found read of ${i.name}`)})}var sN=new Map([[ne.HTML,p.sanitizeHtml],[ne.RESOURCE_URL,p.sanitizeResourceUrl],[ne.SCRIPT,p.sanitizeScript],[ne.STYLE,p.sanitizeStyle],[ne.URL,p.sanitizeUrl]]),iN=new Map([[ne.HTML,p.trustConstantHtml],[ne.RESOURCE_URL,p.trustConstantResourceUrl]]);function oN(t){for(let e of t.units){let n=Vp(e);if(t.kind!==_.Host){for(let r of e.create)if(r.kind===f.ExtractedAttribute){let s=iN.get(Fd(r.securityContext))??null;r.trustedValueFn=s!==null?b(s):null}}for(let r of e.update)switch(r.kind){case f.Property:case f.Attribute:case f.HostProperty:let s=null;if(Array.isArray(r.securityContext)&&r.securityContext.length===2&&r.securityContext.indexOf(ne.URL)>-1&&r.securityContext.indexOf(ne.RESOURCE_URL)>-1?s=p.sanitizeUrlOrResourceUrl:s=sN.get(Fd(r.securityContext))??null,r.sanitizer=s!==null?b(s):null,r.sanitizer===null){let i=!1;if(t.kind===_.Host||r.kind===f.HostProperty)i=!0;else{let o=n.get(r.target);if(o===void 0||!$r(o))throw Error("Property should have an element-like owner");i=aN(o)}i&&Lp(r.name)&&(r.sanitizer=b(p.validateIframeAttribute))}break}}}function aN(t){return t.kind===f.ElementStart&&t.tag?.toLowerCase()==="iframe"}function Fd(t){if(Array.isArray(t)){if(t.length>1)throw Error("AssertionError: Ambiguous security context");return t[0]||ne.NONE}return t}function lN(t){for(let e of t.units)for(let n of e.create)n.kind===f.TwoWayListener&&rt(n,r=>r instanceof el?cN(r.target,r.value):r,ue.InChildOperation)}function ga(t,e){return t instanceof cr?Rd(t,e):Rd(t,e).or(t.set(e))}function va(t){return t instanceof tt||t instanceof yn||t instanceof cr}function cN(t,e){if(va(t))return ga(t,e);if(t instanceof ee&&va(t.rhs))return new ee(t.operator,t.lhs,ga(t.rhs,e));if(t instanceof wt&&va(t.falseCase))return new wt(t.condition,t.trueCase,ga(t.falseCase,e));if(t instanceof Fn){let n=t.condition;for(;;)if(n instanceof Fn)n=n.condition;else{if(va(n))return ga(n,e);break}}throw new Error("Unsupported expression in two-way action binding.")}function uN(t){for(let e of t.units){e.create.prepend([Js(e.job.allocateXrefId(),{kind:Ge.SavedView,name:null,view:e.xref},new Cu,fn.None)]);for(let n of e.create){if(n.kind!==f.Listener&&n.kind!==f.TwoWayListener)continue;let r=e!==t.root;if(!r)for(let s of n.handlerOps)Lt(s,i=>{i instanceof Ya&&(r=!0)});r&&pN(e,n)}}}function pN(t,e){e.handlerOps.prepend([Js(t.job.allocateXrefId(),{kind:Ge.Context,name:null,view:t.xref},new Za(t.xref),fn.None)]);for(let n of e.handlerOps)n.kind===f.Statement&&n.statement instanceof _e&&(n.statement.value=new Au(n.statement.value))}function hN(t){let e=new Map;for(let n of t.units){let r=0;for(let s of n.create)ki(s)&&(s.handle.slot=r,e.set(s.xref,s.handle.slot),r+=s.numSlotsUsed);n.decls=r}for(let n of t.units)for(let r of n.ops())if(r.kind===f.Template||r.kind===f.RepeaterCreate){let s=t.views.get(r.xref);r.decls=s.decls}}function fN(t){for(let e of t.units)for(let n of e.update)if(n.kind===f.Binding)switch(n.bindingKind){case F.ClassName:if(n.expression instanceof ke)throw new Error("Unexpected interpolation in ClassName binding");w.replace(n,kT(n.target,n.name,n.expression,n.sourceSpan));break;case F.StyleProperty:w.replace(n,PT(n.target,n.name,n.expression,n.unit,n.sourceSpan));break;case F.Property:case F.Template:n.name==="style"?w.replace(n,MT(n.target,n.expression,n.sourceSpan)):n.name==="class"&&w.replace(n,LT(n.target,n.expression,n.sourceSpan));break}}function dN(t){for(let e of t.units)e.create.prepend(Zu(e.create)),e.update.prepend(Zu(e.update))}function Zu(t){let e=0,n=[];for(let r of t){let s=new Map;Lt(r,(c,u)=>{u&ue.InChildOperation||c instanceof ur&&s.set(c.xref,c)});let i=0,o=new Set,a=new Set,l=new Map;Lt(r,(c,u)=>{u&ue.InChildOperation||(c instanceof In?(o.has(c.xref)||(o.add(c.xref),l.set(c.xref,`tmp_${e}_${i++}`)),Bd(l,c)):c instanceof ur&&(s.get(c.xref)===c&&(a.add(c.xref),i--),Bd(l,c)))}),n.push(...Array.from(new Set(l.values())).map(c=>Vn(new nt(c)))),e++,(r.kind===f.Listener||r.kind===f.TwoWayListener)&&r.handlerOps.prepend(Zu(r.handlerOps))}return n}function Bd(t,e){let n=t.get(e.xref);if(n===void 0)throw new Error(`Found xref with unassigned name: ${e.xref}`);e.name=n}function mN(t){for(let e of t.units)for(let n of e.create){if(n.kind!==f.RepeaterCreate||n.trackByFn!==null)continue;let r=!1;n.track=R(n.track,o=>{if(o instanceof Is||o instanceof tl)throw new Error("Illegal State: Pipes are not allowed in this context");return o instanceof Qa?(r=!0,P("this")):o},ue.None);let s,i=[new me("$index"),new me("$item")];r?s=new er(i,[new _e(n.track)]):s=We(i,n.track),n.trackByFn=t.pool.getSharedFunctionReference(s,"_forTrack")}}function gN(t){for(let e of t.units)for(let n of e.create)n.kind===f.RepeaterCreate&&(n.track instanceof Pt&&n.track.name==="$index"?n.trackByFn=b(p.repeaterTrackByIndex):n.track instanceof Pt&&n.track.name==="$item"?n.trackByFn=b(p.repeaterTrackByIdentity):vN(t.root.xref,n.track)?(n.usesComponentInstance=!0,n.track.receiver.receiver.view===e.xref?n.trackByFn=n.track.receiver:(n.trackByFn=b(p.componentInstance).callFn([]).prop(n.track.receiver.name),n.track=n.trackByFn)):n.track=R(n.track,r=>r instanceof lr?(n.usesComponentInstance=!0,new Qa(r.view)):r,ue.None))}function vN(t,e){if(!(e instanceof et)||e.args.length!==2||!(e.receiver instanceof tt&&e.receiver.receiver instanceof lr)||e.receiver.receiver.view!==t)return!1;let[n,r]=e.args;return!(!(n instanceof Pt)||n.name!=="$index"||!(r instanceof Pt)||r.name!=="$item")}function yN(t){for(let e of t.units)for(let n of e.create)n.kind===f.RepeaterCreate&&(n.track=R(n.track,r=>{if(r instanceof Dt){if(r.name===n.varNames.$index)return P("$index");if(r.name===n.varNames.$implicit)return P("$item")}return r},ue.None))}function EN(t){for(let e of t.units){let n=0;for(let r of e.ops())mc(r)&&(n+=SN(r));for(let r of e.ops())Lt(r,s=>{qn(s)&&(t.compatibility===Mt.TemplateDefinitionBuilder&&s instanceof Ts||(Qf(s)&&(s.varOffset=n),mc(s)&&(n+=$d(s))))});if(t.compatibility===Mt.TemplateDefinitionBuilder)for(let r of e.ops())Lt(r,s=>{!qn(s)||!(s instanceof Ts)||(Qf(s)&&(s.varOffset=n),mc(s)&&(n+=$d(s)))});e.vars=n}if(t instanceof Do)for(let e of t.units)for(let n of e.create){if(n.kind!==f.Template&&n.kind!==f.RepeaterCreate)continue;let r=t.views.get(n.xref);n.vars=r.vars}}function SN(t){let e;switch(t.kind){case f.Property:case f.HostProperty:case f.Attribute:return e=1,t.expression instanceof ke&&!wN(t.expression)&&(e+=t.expression.expressions.length),e;case f.TwoWayProperty:return 1;case f.StyleProp:case f.ClassProp:case f.StyleMap:case f.ClassMap:return e=2,t.expression instanceof ke&&(e+=t.expression.expressions.length),e;case f.InterpolateText:return t.interpolation.expressions.length;case f.I18nExpression:case f.Conditional:case f.DeferWhen:return 1;case f.RepeaterCreate:return t.emptyView?1:0;default:throw new Error(`Unhandled op: ${f[t.kind]}`)}}function $d(t){switch(t.kind){case U.PureFunctionExpr:return 1+t.args.length;case U.PipeBinding:return 1+t.args.length;case U.PipeBindingVariadic:return 1+t.numArgs;default:throw new Error(`AssertionError: unhandled ConsumesVarsTrait expression ${t.constructor.name}`)}}function wN(t){return!(t.expressions.length!==1||t.strings.length!==2||t.strings[0]!==""||t.strings[1]!=="")}function xN(t){for(let e of t.units){Cc(e.create),Cc(e.update);for(let n of e.create)(n.kind===f.Listener||n.kind===f.TwoWayListener)&&Cc(n.handlerOps);Ac(e.create,t.compatibility),Ac(e.update,t.compatibility);for(let n of e.create)(n.kind===f.Listener||n.kind===f.TwoWayListener)&&Ac(n.handlerOps,t.compatibility)}}var qe;(function(t){t[t.None=0]="None",t[t.ViewContextRead=1]="ViewContextRead",t[t.ViewContextWrite=2]="ViewContextWrite",t[t.SideEffectful=4]="SideEffectful"})(qe||(qe={}));function Cc(t){let e=new Map;for(let n of t)n.kind===f.Variable&&n.flags&fn.AlwaysInline&&(Lt(n,r=>{if(qn(r)&&Gp(r)!==qe.None)throw new Error("AssertionError: A context-sensitive variable was marked AlwaysInline")}),e.set(n.xref,n)),rt(n,r=>r instanceof cr&&e.has(r.xref)?e.get(r.xref).initializer.clone():r,ue.None);for(let n of e.values())w.remove(n)}function Ac(t,e){let n=new Map,r=new Map,s=new Set,i=new Map;for(let c of t){if(c.kind===f.Variable){if(n.has(c.xref)||r.has(c.xref))throw new Error(`Should not see two declarations of the same variable: ${c.xref}`);n.set(c.xref,c),r.set(c.xref,0)}i.set(c,TN(c)),IN(c,r,s)}let o=!1;for(let c of t.reversed()){let u=i.get(c);if(c.kind===f.Variable&&r.get(c.xref)===0){if(o&&u.fences&qe.ViewContextWrite||u.fences&qe.SideEffectful){let h=Vn(c.initializer.toStmt());i.set(h,u),w.replace(c,h)}else CN(c,r),w.remove(c);i.delete(c),n.delete(c.xref),r.delete(c.xref);continue}u.fences&qe.ViewContextRead&&(o=!0)}let a=[];for(let[c,u]of r){let d=!!(n.get(c).flags&fn.AlwaysInline);u!==1||d||s.has(c)||a.push(c)}let l;for(;l=a.pop();){let c=n.get(l),u=i.get(c);if(!!(c.flags&fn.AlwaysInline))throw new Error("AssertionError: Found an 'AlwaysInline' variable after the always inlining pass.");for(let d=c.next;d.kind!==f.ListEnd;d=d.next){let g=i.get(d);if(g.variablesUsed.has(l)){if(e===Mt.TemplateDefinitionBuilder&&!bN(c,d))break;if(AN(l,c.initializer,d,u.fences)){g.variablesUsed.delete(l);for(let v of u.variablesUsed)g.variablesUsed.add(v);g.fences|=u.fences,n.delete(l),r.delete(l),i.delete(c),w.remove(c)}break}if(!Bg(g.fences,u.fences))break}}}function Gp(t){switch(t.kind){case U.NextContext:return qe.ViewContextRead|qe.ViewContextWrite;case U.RestoreView:return qe.ViewContextRead|qe.ViewContextWrite|qe.SideEffectful;case U.Reference:return qe.ViewContextRead;default:return qe.None}}function TN(t){let e=qe.None,n=new Set;return Lt(t,r=>{if(qn(r))switch(r.kind){case U.ReadVariable:n.add(r.xref);break;default:e|=Gp(r)}}),{fences:e,variablesUsed:n}}function IN(t,e,n){Lt(t,(r,s)=>{if(!qn(r)||r.kind!==U.ReadVariable)return;let i=e.get(r.xref);i!==void 0&&(e.set(r.xref,i+1),s&ue.InChildOperation&&n.add(r.xref))})}function CN(t,e){Lt(t,n=>{if(!qn(n)||n.kind!==U.ReadVariable)return;let r=e.get(n.xref);if(r!==void 0){if(r===0)throw new Error(`Inaccurate variable count: ${n.xref} - found another read but count is already 0`);e.set(n.xref,r-1)}})}function Bg(t,e){if(t&qe.ViewContextWrite){if(e&qe.ViewContextRead)return!1}else if(t&qe.ViewContextRead&&e&qe.ViewContextWrite)return!1;return!0}function AN(t,e,n,r){let s=!1,i=!0;return rt(n,(o,a)=>{if(!qn(o)||s||!i)return o;if(a&ue.InChildOperation&&r&qe.ViewContextRead)return o;switch(o.kind){case U.ReadVariable:if(o.xref===t)return s=!0,e;break;default:let l=Gp(o);i=i&&Bg(l,r);break}return o},ue.None),s}function bN(t,e){switch(t.variable.kind){case Ge.Identifier:return t.initializer instanceof Pt&&t.initializer.name==="ctx";case Ge.Context:return e.kind===f.Variable;default:return!0}}function NN(t){for(let e of t.units){let n=null,r=null;for(let s of e.create)switch(s.kind){case f.I18nStart:n=s;break;case f.I18nEnd:n=null;break;case f.IcuStart:n===null&&(r=t.allocateXrefId(),w.insertBefore(Ll(r,s.message,void 0,null),s));break;case f.IcuEnd:r!==null&&(w.insertAfter(Ol(r,null),s),r=null);break}}}var DN=[{kind:_.Tmpl,fn:CA},{kind:_.Host,fn:eC},{kind:_.Tmpl,fn:lA},{kind:_.Tmpl,fn:PA},{kind:_.Tmpl,fn:NN},{kind:_.Both,fn:TI},{kind:_.Both,fn:fN},{kind:_.Both,fn:uI},{kind:_.Both,fn:aI},{kind:_.Tmpl,fn:xI},{kind:_.Both,fn:IA},{kind:_.Tmpl,fn:Xb},{kind:_.Both,fn:fI},{kind:_.Both,fn:TA},{kind:_.Tmpl,fn:dI},{kind:_.Tmpl,fn:NA},{kind:_.Tmpl,fn:II},{kind:_.Tmpl,fn:iA},{kind:_.Tmpl,fn:SI},{kind:_.Tmpl,fn:Qb},{kind:_.Tmpl,fn:oI},{kind:_.Tmpl,fn:sI},{kind:_.Tmpl,fn:RA},{kind:_.Both,fn:LA},{kind:_.Tmpl,fn:XI},{kind:_.Tmpl,fn:YI},{kind:_.Tmpl,fn:uN},{kind:_.Both,fn:nI},{kind:_.Both,fn:Zb},{kind:_.Tmpl,fn:yN},{kind:_.Both,fn:rN},{kind:_.Tmpl,fn:CI},{kind:_.Tmpl,fn:lN},{kind:_.Tmpl,fn:gN},{kind:_.Both,fn:Jb},{kind:_.Both,fn:oN},{kind:_.Tmpl,fn:oA},{kind:_.Both,fn:vA},{kind:_.Both,fn:DI},{kind:_.Both,fn:dN},{kind:_.Tmpl,fn:hN},{kind:_.Tmpl,fn:eN},{kind:_.Tmpl,fn:tN},{kind:_.Tmpl,fn:HI},{kind:_.Tmpl,fn:mN},{kind:_.Tmpl,fn:eA},{kind:_.Tmpl,fn:JI},{kind:_.Both,fn:yI},{kind:_.Tmpl,fn:Yb},{kind:_.Both,fn:EN},{kind:_.Tmpl,fn:zI},{kind:_.Both,fn:xN},{kind:_.Both,fn:cA},{kind:_.Tmpl,fn:wI},{kind:_.Tmpl,fn:hA},{kind:_.Tmpl,fn:dA},{kind:_.Tmpl,fn:NI},{kind:_.Tmpl,fn:gA},{kind:_.Both,fn:MA},{kind:_.Both,fn:Kb},{kind:_.Both,fn:hI}];function $g(t,e){for(let n of DN)(n.kind===e||n.kind===_.Both)&&n.fn(t)}function _N(t,e){let n=Vg(t.root);return Ug(t.root,e),n}function Ug(t,e){for(let n of t.job.units){if(n.parent!==t.xref)continue;Ug(n,e);let r=Vg(n);e.statements.push(r.toDeclStmt(r.name))}}function Vg(t){if(t.fnName===null)throw new Error(`AssertionError: view ${t.xref} is unnamed`);let e=[];for(let i of t.create){if(i.kind!==f.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${f[i.kind]}`);e.push(i.statement)}let n=[];for(let i of t.update){if(i.kind!==f.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${f[i.kind]}`);n.push(i.statement)}let r=gl(1,e),s=gl(2,n);return En([new me("rf"),new me("ctx")],[...r,...s],void 0,void 0,t.fnName)}function gl(t,e){return e.length===0?[]:[Ri(new ee(T.BitwiseAnd,P("rf"),m(t)),e)]}function RN(t){if(t.root.fnName===null)throw new Error("AssertionError: host binding function is unnamed");let e=[];for(let i of t.root.create){if(i.kind!==f.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${f[i.kind]}`);e.push(i.statement)}let n=[];for(let i of t.root.update){if(i.kind!==f.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${f[i.kind]}`);n.push(i.statement)}if(e.length===0&&n.length===0)return null;let r=gl(1,e),s=gl(2,n);return En([new me("rf"),new me("ctx")],[...r,...s],void 0,void 0,t.root.fnName)}var qg=Mt.TemplateDefinitionBuilder,ss=new An,is="ng-template";function PN(t,e,n,r,s,i,o){let a=new Do(t,n,qg,r,s,i,o);return Gr(a.root,e),a}function kN(t,e,n){let r=new al(t.componentName,n,qg);for(let s of t.properties??[]){let i=F.Property;s.name.startsWith("attr.")&&(s.name=s.name.substring(5),i=F.Attribute),s.isAnimation&&(i=F.Animation);let o=e.calcPossibleSecurityContexts(t.componentSelector,s.name,i===F.Attribute).filter(a=>a!==ne.NONE);MN(r,s,i,o)}for(let[s,i]of Object.entries(t.attributes)??[]){let o=e.calcPossibleSecurityContexts(t.componentSelector,s,!0).filter(a=>a!==ne.NONE);LN(r,s,i,o)}for(let s of t.events??[])ON(r,s);return r}function MN(t,e,n,r){let s,i=e.expression.ast;i instanceof be?s=new ke(i.strings,i.expressions.map(o=>Y(o,t,e.sourceSpan)),[]):s=Y(i,t,e.sourceSpan),t.root.update.push(xs(t.root.xref,n,e.name,s,null,r,!1,!1,null,null,e.sourceSpan))}function LN(t,e,n,r){let s=xs(t.root.xref,F.Attribute,e,n,null,r,!0,!1,null,null,n.sourceSpan);t.root.update.push(s)}function ON(t,e){let[n,r]=e.type!==1?[null,e.targetOrPhase]:[e.targetOrPhase,null],s=Up(t.root.xref,new Ut,e.name,null,Hp(t.root,e.handler,e.handlerSpan),n,r,!0,e.sourceSpan);t.root.create.push(s)}function Gr(t,e){for(let n of e)if(n instanceof oe)FN(t,n);else if(n instanceof ce)BN(t,n);else if(n instanceof $a)$N(t,n);else if(n instanceof zt)Gg(t,n,null);else if(n instanceof Bn)Hg(t,n,null);else if(n instanceof cs)UN(t,n);else if(n instanceof hi)VN(t,n);else if(n instanceof sr)qN(t,n);else if(n instanceof us)GN(t,n);else if(n instanceof Sn)HN(t,n);else throw new Error(`Unsupported template node: ${n.constructor.name}`)}function FN(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof ct||e.i18n instanceof kr))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let n=t.job.allocateXrefId(),[r,s]=Et(e.name),i=qT(s,n,xg(r),e.i18n instanceof kr?e.i18n:void 0,e.startSourceSpan,e.sourceSpan);t.create.push(i),jN(t,i,e),Kg(i,e);let o=null;e.i18n instanceof ct&&(o=t.job.allocateXrefId(),t.create.push(Ll(o,e.i18n,void 0,e.startSourceSpan))),Gr(t,e.children);let a=HT(n,e.endSourceSpan??e.startSourceSpan);t.create.push(a),o!==null&&w.insertBefore(Ol(o,e.endSourceSpan??e.startSourceSpan),a)}function BN(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof ct||e.i18n instanceof kr))throw Error(`Unhandled i18n metadata type for template: ${e.i18n.constructor.name}`);let n=t.job.allocateView(t.xref),r=e.tagName,s="";e.tagName&&([s,r]=Et(e.tagName));let i=e.i18n instanceof kr?e.i18n:void 0,o=xg(s),a=r===null?"":vI(r,o),l=WN(e)?Rt.NgTemplate:Rt.Structural,c=Ml(n.xref,l,r,a,o,i,e.startSourceSpan,e.sourceSpan);t.create.push(c),KN(t,c,e,l),Kg(c,e),Gr(n,e.children);for(let{name:u,value:h}of e.variables)n.contextVariables.set(u,h!==""?h:"$implicit");if(l===Rt.NgTemplate&&e.i18n instanceof ct){let u=t.job.allocateXrefId();w.insertAfter(Ll(u,e.i18n,void 0,e.startSourceSpan),n.create.head),w.insertBefore(Ol(u,e.endSourceSpan??e.startSourceSpan),n.create.tail)}}function $N(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof kr))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let n=XT(t.job.allocateXrefId(),e.selector,e.i18n,e.sourceSpan);for(let r of e.attributes){let s=ss.securityContext(e.name,r.name,!0);t.update.push(xs(n.xref,F.Attribute,r.name,m(r.value),null,s,!0,!1,null,Qn(r.i18n),r.sourceSpan))}t.create.push(n)}function Gg(t,e,n){t.create.push(vg(t.job.allocateXrefId(),e.value,n,e.sourceSpan))}function Hg(t,e,n){let r=e.value;if(r instanceof Me&&(r=r.ast),!(r instanceof be))throw new Error(`AssertionError: expected Interpolation for BoundText node, got ${r.constructor.name}`);if(e.i18n!==void 0&&!(e.i18n instanceof Ln))throw Error(`Unhandled i18n metadata type for text interpolation: ${e.i18n?.constructor.name}`);let s=e.i18n instanceof Ln?e.i18n.children.filter(a=>a instanceof yo).map(a=>a.name):[];if(s.length>0&&s.length!==r.expressions.length)throw Error(`Unexpected number of i18n placeholders (${r.expressions.length}) for BoundText with ${r.expressions.length} expressions`);let i=t.job.allocateXrefId();t.create.push(vg(i,"",n,e.sourceSpan));let o=t.job.compatibility?null:e.sourceSpan;t.update.push(DT(i,new ke(r.strings,r.expressions.map(a=>Y(a,t.job,o)),s),e.sourceSpan))}function UN(t,e){let n=null,r=null,s=[];for(let o=0;o<e.branches.length;o++){let a=e.branches[o],l=t.job.allocateView(t.xref),c=null;o===0&&(c=tp(t,l.xref,a)),a.expressionAlias!==null&&l.contextVariables.set(a.expressionAlias.name,wg);let u;if(a.i18n!==void 0){if(!(a.i18n instanceof ir))throw Error(`Unhandled i18n metadata type for if block: ${a.i18n?.constructor.name}`);u=a.i18n}let h=Ml(l.xref,Rt.Block,c,"Conditional",Ze.HTML,u,a.startSourceSpan,a.sourceSpan);t.create.push(h),n===null&&(n=l.xref,r=h.handle);let d=a.expression?Y(a.expression,t.job,null):null,g=new rl(d,h.xref,h.handle,a.expressionAlias);s.push(g),Gr(l,a.children)}let i=dg(n,r,null,s,e.sourceSpan);t.update.push(i)}function VN(t,e){if(e.cases.length===0)return;let n=null,r=null,s=[];for(let o of e.cases){let a=t.job.allocateView(t.xref),l;if(o.i18n!==void 0){if(!(o.i18n instanceof ir))throw Error(`Unhandled i18n metadata type for switch block: ${o.i18n?.constructor.name}`);l=o.i18n}let c=Ml(a.xref,Rt.Block,null,"Case",Ze.HTML,l,o.startSourceSpan,o.sourceSpan);t.create.push(c),n===null&&(n=a.xref,r=c.handle);let u=o.expression?Y(o.expression,t.job,e.startSourceSpan):null,h=new rl(u,c.xref,c.handle);s.push(h),Gr(a,o.children)}let i=dg(n,r,Y(e.expression,t.job,null),s,e.sourceSpan);t.update.push(i)}function ya(t,e,n,r,s){if(n!==void 0&&!(n instanceof ir))throw Error("Unhandled i18n metadata type for defer block");if(r===void 0)return null;let i=t.job.allocateView(t.xref);Gr(i,r);let o=Ml(i.xref,Rt.Block,null,`Defer${e}`,Ze.HTML,n,s,s);return t.create.push(o),o}function qN(t,e){let n=t.job.deferBlocksMeta.get(e);if(n===void 0)throw new Error("AssertionError: unable to find metadata for deferred block");let r=ya(t,"",e.i18n,e.children,e.sourceSpan),s=ya(t,"Loading",e.loading?.i18n,e.loading?.children,e.loading?.sourceSpan),i=ya(t,"Placeholder",e.placeholder?.i18n,e.placeholder?.children,e.placeholder?.sourceSpan),o=ya(t,"Error",e.error?.i18n,e.error?.children,e.error?.sourceSpan),a=t.job.allocateXrefId(),l=YT(a,r.xref,r.handle,n,t.job.allDeferrableDepsFn,e.sourceSpan);l.placeholderView=i?.xref??null,l.placeholderSlot=i?.handle??null,l.loadingSlot=s?.handle??null,l.errorSlot=o?.handle??null,l.placeholderMinimumTime=e.placeholder?.minimumTime??null,l.loadingMinimumTime=e.loading?.minimumTime??null,l.loadingAfterTime=e.loading?.afterTime??null,t.create.push(l);let c=!1,u=[],h=[];for(let d of[e.triggers,e.prefetchTriggers]){if(d.idle!==void 0){let g=Yr(a,{kind:ye.Idle},c,d.idle.sourceSpan);u.push(g)}if(d.immediate!==void 0){let g=Yr(a,{kind:ye.Immediate},c,d.immediate.sourceSpan);u.push(g)}if(d.timer!==void 0){let g=Yr(a,{kind:ye.Timer,delay:d.timer.delay},c,d.timer.sourceSpan);u.push(g)}if(d.hover!==void 0){let g=Yr(a,{kind:ye.Hover,targetName:d.hover.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},c,d.hover.sourceSpan);u.push(g)}if(d.interaction!==void 0){let g=Yr(a,{kind:ye.Interaction,targetName:d.interaction.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},c,d.interaction.sourceSpan);u.push(g)}if(d.viewport!==void 0){let g=Yr(a,{kind:ye.Viewport,targetName:d.viewport.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},c,d.viewport.sourceSpan);u.push(g)}if(d.when!==void 0){if(d.when.value instanceof be)throw new Error("Unexpected interpolation in defer block when trigger");let g=$T(a,Y(d.when.value,t.job,d.when.sourceSpan),c,d.when.sourceSpan);h.push(g)}u.length===0&&h.length===0&&u.push(Yr(a,{kind:ye.Idle},!1,null)),c=!0}t.create.push(u),t.update.push(h)}function GN(t,e){if(e.i18n instanceof ct&&Xi(e.i18n)){let n=t.job.allocateXrefId();t.create.push(JT(n,e.i18n,Np(e.i18n).name,null));for(let[r,s]of Object.entries({...e.vars,...e.placeholders}))s instanceof Bn?Hg(t,s,r):Gg(t,s,r);t.create.push(ZT(n))}else throw Error(`Unhandled i18n metadata type for ICU: ${e.i18n?.constructor.name}`)}function HN(t,e){let n=t.job.allocateView(t.xref);n.contextVariables.set(e.item.name,e.item.value),n.contextVariables.set(e.contextVariables.$index.name,e.contextVariables.$index.value),n.contextVariables.set(e.contextVariables.$count.name,e.contextVariables.$count.value);let r=`\u0275${e.contextVariables.$index.name}_${n.xref}`,s=`\u0275${e.contextVariables.$count.name}_${n.xref}`;n.contextVariables.set(r,e.contextVariables.$index.value),n.contextVariables.set(s,e.contextVariables.$count.value),n.aliases.add({kind:Ge.Alias,name:null,identifier:e.contextVariables.$first.name,expression:new Dt(r).identical(m(0))}),n.aliases.add({kind:Ge.Alias,name:null,identifier:e.contextVariables.$last.name,expression:new Dt(r).identical(new Dt(s).minus(m(1)))}),n.aliases.add({kind:Ge.Alias,name:null,identifier:e.contextVariables.$even.name,expression:new Dt(r).modulo(m(2)).identical(m(0))}),n.aliases.add({kind:Ge.Alias,name:null,identifier:e.contextVariables.$odd.name,expression:new Dt(r).modulo(m(2)).notIdentical(m(0))});let i=Qe(e.trackBy.span,e.sourceSpan),o=Y(e.trackBy,t.job,i);Gr(n,e.children);let a=null,l=null;e.empty!==null&&(a=t.job.allocateView(t.xref),Gr(a,e.empty.children),l=tp(t,a.xref,e.empty));let c={$index:e.contextVariables.$index.name,$count:e.contextVariables.$count.name,$first:e.contextVariables.$first.name,$last:e.contextVariables.$last.name,$even:e.contextVariables.$even.name,$odd:e.contextVariables.$odd.name,$implicit:e.item.name};if(e.i18n!==void 0&&!(e.i18n instanceof ir))throw Error("AssertionError: Unhandled i18n metadata type or @for");if(e.empty?.i18n!==void 0&&!(e.empty.i18n instanceof ir))throw Error("AssertionError: Unhandled i18n metadata type or @empty");let u=e.i18n,h=e.empty?.i18n,d=tp(t,n.xref,e),g=GT(n.xref,a?.xref??null,d,o,c,l,u,h,e.startSourceSpan,e.sourceSpan);t.create.push(g);let v=Y(e.expression,t.job,Qe(e.expression.span,e.sourceSpan)),I=BT(g.xref,g.handle,v,e.sourceSpan);t.update.push(I)}function Y(t,e,n){if(t instanceof Me)return Y(t.ast,e,n);if(t instanceof de){let r=t.receiver instanceof dn,s=t.receiver instanceof xe&&!(t.receiver instanceof dn),i=t.name==="$any"||t.name==="$event";return s||r&&!i?new Dt(t.name):new tt(Y(t.receiver,e,n),t.name,null,Qe(t.span,n))}else{if(t instanceof wn)return t.receiver instanceof xe?new as(new lr(e.root.xref),t.name,Y(t.value,e,n),null,Qe(t.span,n)):new as(Y(t.receiver,e,n),t.name,Y(t.value,e,n),void 0,Qe(t.span,n));if(t instanceof yi)return new si(Y(t.receiver,e,n),Y(t.key,e,n),Y(t.value,e,n),void 0,Qe(t.span,n));if(t instanceof kt){if(t.receiver instanceof xe)throw new Error("Unexpected ImplicitReceiver");return new et(Y(t.receiver,e,n),t.args.map(r=>Y(r,e,n)),void 0,Qe(t.span,n))}else{if(t instanceof at)return m(t.value,void 0,Qe(t.span,n));if(t instanceof ar)switch(t.operator){case"+":return new nr(Yt.Plus,Y(t.expr,e,n),void 0,Qe(t.span,n));case"-":return new nr(Yt.Minus,Y(t.expr,e,n),void 0,Qe(t.span,n));default:throw new Error(`AssertionError: unknown unary operator ${t.operator}`)}else if(t instanceof ot){let r=mI.get(t.operation);if(r===void 0)throw new Error(`AssertionError: unknown binary operator ${t.operation}`);return new ee(r,Y(t.left,e,n),Y(t.right,e,n),void 0,Qe(t.span,n))}else{if(t instanceof dn)return new lr(e.root.xref);if(t instanceof or)return new yn(Y(t.receiver,e,n),Y(t.key,e,n),void 0,Qe(t.span,n));if(t instanceof Lr)throw new Error("AssertionError: Chain in unknown context");if(t instanceof Ei){let r=t.keys.map((s,i)=>{let o=t.values[i];return new ls(s.key,Y(o,e,n),s.quoted)});return new Qt(r,void 0,Qe(t.span,n))}else{if(t instanceof vs)return new xt(t.expressions.map(r=>Y(r,e,n)));if(t instanceof gs)return new wt(Y(t.condition,e,n),Y(t.trueExp,e,n),Y(t.falseExp,e,n),void 0,Qe(t.span,n));if(t instanceof Es)return Y(t.expression,e,n);if(t instanceof Un)return new Is(e.allocateXrefId(),new Ut,t.name,[Y(t.exp,e,n),...t.args.map(r=>Y(r,e,n))]);if(t instanceof xn)return new Ti(Y(t.receiver,e,n),Y(t.key,e,n),Qe(t.span,n));if(t instanceof Tt)return new xi(Y(t.receiver,e,n),t.name);if(t instanceof Tn)return new Br(Y(t.receiver,e,n),t.args.map(r=>Y(r,e,n)));if(t instanceof Ve)return new bo(Qe(t.span,n));if(t instanceof ys)return Ap(Y(t.expression,e,n),Qe(t.span,n));throw new Error(`Unhandled expression type "${t.constructor.name}" in file "${n?.start.file.url}"`)}}}}}function ep(t,e,n,r){let s;return e instanceof be?s=new ke(e.strings,e.expressions.map(i=>Y(i,t,r??null)),Object.keys(Qn(n)?.placeholders??{})):e instanceof Ne?s=Y(e,t,r??null):s=m(e),s}var Wg=new Map([[0,F.Property],[5,F.TwoWayProperty],[1,F.Attribute],[2,F.ClassName],[3,F.StyleProperty],[4,F.Animation]]);function WN(t){return Et(t.tagName??"")[1]===is}function Qn(t){if(t==null)return null;if(!(t instanceof ct))throw Error(`Expected i18n meta to be a Message, but got: ${t.constructor.name}`);return t}function jN(t,e,n){let r=new Array,s=new Set;for(let i of n.attributes){let o=ss.securityContext(n.name,i.name,!0);r.push(xs(e.xref,F.Attribute,i.name,ep(t.job,i.value,i.i18n),null,o,!0,!1,null,Qn(i.i18n),i.sourceSpan)),i.i18n&&s.add(i.name)}for(let i of n.inputs)s.has(i.name)&&console.error(`On component ${t.job.componentName}, the binding ${i.name} is both an i18n attribute and a property. You may want to remove the property binding. This will become a compilation error in future versions of Angular.`),r.push(xs(e.xref,Wg.get(i.type),i.name,ep(t.job,Mo(i.value),i.i18n),i.unit,i.securityContext,!1,!1,null,Qn(i.i18n)??null,i.sourceSpan));t.create.push(r.filter(i=>i?.kind===f.ExtractedAttribute)),t.update.push(r.filter(i=>i?.kind===f.Binding));for(let i of n.outputs){if(i.type===1&&i.phase===null)throw Error("Animation listener should have a phase");i.type===2?t.create.push(yg(e.xref,e.handle,i.name,e.tag,jg(t,i.handler,i.handlerSpan),i.sourceSpan)):t.create.push(Up(e.xref,e.handle,i.name,e.tag,Hp(t,i.handler,i.handlerSpan),i.phase,i.target,!1,i.sourceSpan))}r.some(i=>i?.i18nMessage)!==null&&t.create.push(Sg(t.job.allocateXrefId(),new Ut,e.xref))}function KN(t,e,n,r){let s=new Array;for(let i of n.templateAttrs)if(i instanceof Bt){let o=ss.securityContext(is,i.name,!0);s.push(Ea(t,e.xref,1,i.name,i.value,null,o,!0,r,Qn(i.i18n),i.sourceSpan))}else s.push(Ea(t,e.xref,i.type,i.name,Mo(i.value),i.unit,i.securityContext,!0,r,Qn(i.i18n),i.sourceSpan));for(let i of n.attributes){let o=ss.securityContext(is,i.name,!0);s.push(Ea(t,e.xref,1,i.name,i.value,null,o,!1,r,Qn(i.i18n),i.sourceSpan))}for(let i of n.inputs)s.push(Ea(t,e.xref,i.type,i.name,Mo(i.value),i.unit,i.securityContext,!1,r,Qn(i.i18n),i.sourceSpan));t.create.push(s.filter(i=>i?.kind===f.ExtractedAttribute)),t.update.push(s.filter(i=>i?.kind===f.Binding));for(let i of n.outputs){if(i.type===1&&i.phase===null)throw Error("Animation listener should have a phase");if(r===Rt.NgTemplate&&(i.type===2?t.create.push(yg(e.xref,e.handle,i.name,e.tag,jg(t,i.handler,i.handlerSpan),i.sourceSpan)):t.create.push(Up(e.xref,e.handle,i.name,e.tag,Hp(t,i.handler,i.handlerSpan),i.phase,i.target,!1,i.sourceSpan))),r===Rt.Structural&&i.type!==1){let o=ss.securityContext(is,i.name,!1);t.create.push(jt(e.xref,F.Property,null,i.name,null,null,null,o))}}s.some(i=>i?.i18nMessage)!==null&&t.create.push(Sg(t.job.allocateXrefId(),new Ut,e.xref))}function Ea(t,e,n,r,s,i,o,a,l,c,u){let h=typeof s=="string";if(l===Rt.Structural){if(!a)switch(n){case 0:case 2:case 3:return jt(e,F.Property,null,r,null,null,c,o);case 5:return jt(e,F.TwoWayProperty,null,r,null,null,c,o)}if(!h&&(n===1||n===4))return null}let d=Wg.get(n);return l===Rt.NgTemplate&&(n===2||n===3||n===1&&!h)&&(d=F.Property),xs(e,d,r,ep(t.job,s,c),i,o,h,a,l,c,u)}function Hp(t,e,n){e=Mo(e);let r=new Array,s=e instanceof Lr?e.expressions:[e];if(s.length===0)throw new Error("Expected listener to have non-empty expression list.");let i=s.map(a=>Y(a,t.job,n)),o=i.pop();return r.push(...i.map(a=>Vn(new je(a,a.sourceSpan)))),r.push(Vn(new _e(o,o.sourceSpan))),r}function jg(t,e,n){e=Mo(e);let r=new Array;if(e instanceof Lr)if(e.expressions.length===1)e=e.expressions[0];else throw new Error("Expected two-way listener to have a single expression.");let s=Y(e,t.job,n),i=new Dt("$event"),o=new el(s,i);return r.push(Vn(new je(o))),r.push(Vn(new _e(i))),r}function Mo(t){return t instanceof Me?t.ast:t}function Kg(t,e){zN(t.localRefs);for(let{name:n,value:r}of e.references)t.localRefs.push({name:n,target:r})}function zN(t){if(!Array.isArray(t))throw new Error("AssertionError: expected an array")}function Qe(t,e){if(e===null)return null;let n=e.start.moveBy(t.start),r=e.start.moveBy(t.end),s=e.fullStart.moveBy(t.start);return new K(n,r,s)}function tp(t,e,n){let r=null;for(let s of n.children)if(!(s instanceof ui)){if(r!==null)return null;(s instanceof oe||s instanceof ce&&s.tagName!==null)&&(r=s)}if(r!==null){for(let i of r.attributes){let o=ss.securityContext(is,i.name,!0);t.update.push(xs(e,F.Attribute,i.name,m(i.value),null,o,!0,!1,null,Qn(i.i18n),i.sourceSpan))}for(let i of r.inputs)if(i.type!==4&&i.type!==1){let o=ss.securityContext(is,i.name,!0);t.create.push(jt(e,F.Property,null,i.name,null,null,null,o))}let s=r instanceof oe?r.name:r.tagName;return s===is?null:s}return null}var zg=!1,vl=class extends ju{constructor(){super(Ag)}parse(e,n,r){return super.parse(e,n,r)}},Xg="ngPreserveWhitespaces",XN=new Set(["pre","template","textarea","script","style"]),Yg=` \f
\r	\v\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`,YN=new RegExp(`[^${Yg}]`),QN=new RegExp(`[${Yg}]{2,}`,"g");function JN(t){return t.some(e=>e.name===Xg)}function Qg(t){return t.replace(new RegExp(bg,"g")," ")}var np=class{visitElement(e,n){return XN.has(e.name)||JN(e.attrs)?new Gt(e.name,Ae(this,e.attrs),e.children,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n):new Gt(e.name,e.attrs,Ud(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}visitAttribute(e,n){return e.name!==Xg?e:null}visitText(e,n){let r=e.value.match(YN),s=n&&(n.prev instanceof Ai||n.next instanceof Ai);if(r||s){let i=e.tokens.map(a=>a.type===5?ZN(a):a),o=Jg(e.value);return new qr(o,e.sourceSpan,i,e.i18n)}return null}visitComment(e,n){return e}visitExpansion(e,n){return e}visitExpansionCase(e,n){return e}visitBlock(e,n){return new Ht(e.name,e.parameters,Ud(this,e.children),e.sourceSpan,e.nameSpan,e.startSourceSpan,e.endSourceSpan)}visitBlockParameter(e,n){return e}};function ZN({type:t,parts:e,sourceSpan:n}){return{type:t,parts:[Jg(e[0])],sourceSpan:n}}function Jg(t){return Qg(t).replace(QN," ")}function Ud(t,e){let n=[];return e.forEach((r,s)=>{let i={prev:e[s-1],next:e[s+1]},o=r.visit(t,i);o&&n.push(o)}),n}var Vd=".",eD="attr",tD="class",nD="style",rD="*",bc="animate-",rp=class{constructor(e,n,r,s){this._exprParser=e,this._interpolationConfig=n,this._schemaRegistry=r,this.errors=s}get interpolationConfig(){return this._interpolationConfig}createBoundHostProperties(e,n){let r=[];for(let s of Object.keys(e)){let i=e[s];typeof i=="string"?this.parsePropertyBinding(s,i,!0,!1,n,n.start.offset,void 0,[],r,n):this._reportError(`Value of the host property binding "${s}" needs to be a string representing an expression but got "${i}" (${typeof i})`,n)}return r}createDirectiveHostEventAsts(e,n){let r=[];for(let s of Object.keys(e)){let i=e[s];typeof i=="string"?this.parseEvent(s,i,!1,n,n,[],r,n):this._reportError(`Value of the host listener "${s}" needs to be a string representing an expression but got "${i}" (${typeof i})`,n)}return r}parseInterpolation(e,n,r){let s=n.start.toString(),i=n.fullStart.offset;try{let o=this._exprParser.parseInterpolation(e,s,i,r,this._interpolationConfig);return o&&this._reportExpressionParserErrors(o.errors,n),o}catch(o){return this._reportError(`${o}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",s,i)}}parseInterpolationExpression(e,n){let r=n.start.toString(),s=n.start.offset;try{let i=this._exprParser.parseInterpolationExpression(e,r,s);return i&&this._reportExpressionParserErrors(i.errors,n),i}catch(i){return this._reportError(`${i}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",r,s)}}parseInlineTemplateBinding(e,n,r,s,i,o,a,l){let c=r.start.offset+rD.length,u=this._parseTemplateBindings(e,n,r,c,s);for(let h of u){let d=Er(r,h.sourceSpan),g=h.key.source,v=Er(r,h.key.span);if(h instanceof Io){let I=h.value?h.value.source:"$implicit",x=h.value?Er(r,h.value.span):void 0;a.push(new vu(g,I,d,v,x))}else if(h.value){let I=l?d:r,x=Er(r,h.value.ast.sourceSpan);this._parsePropertyAst(g,h.value,!1,I,v,x,i,o)}else i.push([g,""]),this.parseLiteralAttr(g,null,v,s,void 0,i,o,v)}}_parseTemplateBindings(e,n,r,s,i){let o=r.start.toString();try{let a=this._exprParser.parseTemplateBindings(e,n,o,s,i);return this._reportExpressionParserErrors(a.errors,r),a.warnings.forEach(l=>{this._reportError(l,r,Yn.WARNING)}),a.templateBindings}catch(a){return this._reportError(`${a}`,r),[]}}parseLiteralAttr(e,n,r,s,i,o,a,l){Nc(e)?(e=e.substring(1),l!==void 0&&(l=Er(l,new Je(l.start.offset+1,l.end.offset))),n&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',r,Yn.ERROR),this._parseAnimation(e,n,r,s,l,i,o,a)):a.push(new Zi(e,this._exprParser.wrapLiteralPrimitive(n,"",s),zn.LITERAL_ATTR,r,l,i))}parsePropertyBinding(e,n,r,s,i,o,a,l,c,u){e.length===0&&this._reportError("Property name is missing in binding",i);let h=!1;e.startsWith(bc)?(h=!0,e=e.substring(bc.length),u!==void 0&&(u=Er(u,new Je(u.start.offset+bc.length,u.end.offset)))):Nc(e)&&(h=!0,e=e.substring(1),u!==void 0&&(u=Er(u,new Je(u.start.offset+1,u.end.offset)))),h?this._parseAnimation(e,n,i,o,u,a,l,c):this._parsePropertyAst(e,this.parseBinding(n,r,a||i,o),s,i,u,a,l,c)}parsePropertyInterpolation(e,n,r,s,i,o,a,l){let c=this.parseInterpolation(n,s||r,l);return c?(this._parsePropertyAst(e,c,!1,r,a,s,i,o),!0):!1}_parsePropertyAst(e,n,r,s,i,o,a,l){a.push([e,n.source]),l.push(new Zi(e,n,r?zn.TWO_WAY:zn.DEFAULT,s,i,o))}_parseAnimation(e,n,r,s,i,o,a,l){e.length===0&&this._reportError("Animation trigger is missing",r);let c=this.parseBinding(n||"undefined",!1,o||r,s);a.push([e,c.source]),l.push(new Zi(e,c,zn.ANIMATION,r,i,o))}parseBinding(e,n,r,s){let i=(r&&r.start||"(unknown)").toString();try{let o=n?this._exprParser.parseSimpleBinding(e,i,s,this._interpolationConfig):this._exprParser.parseBinding(e,i,s,this._interpolationConfig);return o&&this._reportExpressionParserErrors(o.errors,r),o}catch(o){return this._reportError(`${o}`,r),this._exprParser.wrapLiteralPrimitive("ERROR",i,s)}}createBoundElementProperty(e,n,r=!1,s=!0){if(n.isAnimation)return new za(n.name,4,ne.NONE,n.expression,null,n.sourceSpan,n.keySpan,n.valueSpan);let i=null,o,a=null,l=n.name.split(Vd),c;if(l.length>1)if(l[0]==eD){a=l.slice(1).join(Vd),r||this._validatePropertyOrAttributeName(a,n.sourceSpan,!0),c=Dc(this._schemaRegistry,e,a,!0);let u=a.indexOf(":");if(u>-1){let h=a.substring(0,u),d=a.substring(u+1);a=Jc(h,d)}o=1}else l[0]==tD?(a=l[1],o=2,c=[ne.NONE]):l[0]==nD&&(i=l.length>2?l[2]:null,a=l[1],o=3,c=[ne.STYLE]);if(a===null){let u=this._schemaRegistry.getMappedPropName(n.name);a=s?u:n.name,c=Dc(this._schemaRegistry,e,u,!1),o=n.type===zn.TWO_WAY?5:0,r||this._validatePropertyOrAttributeName(u,n.sourceSpan,!1)}return new za(a,o,c[0],n.expression,i,n.sourceSpan,n.keySpan,n.valueSpan)}parseEvent(e,n,r,s,i,o,a,l){e.length===0&&this._reportError("Event name is missing in binding",s),Nc(e)?(e=e.slice(1),l!==void 0&&(l=Er(l,new Je(l.start.offset+1,l.end.offset))),this._parseAnimationEvent(e,n,s,i,a,l)):this._parseRegularEvent(e,n,r,s,i,o,a,l)}calcPossibleSecurityContexts(e,n,r){let s=this._schemaRegistry.getMappedPropName(n);return Dc(this._schemaRegistry,e,s,r)}_parseAnimationEvent(e,n,r,s,i,o){let a=Fw(e,[e,""]),l=a[0],c=a[1].toLowerCase(),u=this._parseAction(n,s);i.push(new Ka(l,c,1,u,r,s,o)),l.length===0&&this._reportError("Animation event name is missing in binding",r),c?c!=="start"&&c!=="done"&&this._reportError(`The provided animation output phase value "${c}" for "@${l}" is not supported (use start or done)`,r):this._reportError(`The animation trigger output event (@${l}) is missing its phase value name (start or done are currently supported)`,r)}_parseRegularEvent(e,n,r,s,i,o,a,l){let[c,u]=Ow(e,[null,e]),h=this.errors.length,d=this._parseAction(n,i),g=this.errors.length===h;o.push([e,d.source]),r&&g&&!this._isAllowedAssignmentEvent(d)&&this._reportError("Unsupported expression in a two-way binding",s),a.push(new Ka(u,c,r?2:0,d,s,i,l))}_parseAction(e,n){let r=(n&&n.start||"(unknown").toString(),s=n&&n.start?n.start.offset:0;try{let i=this._exprParser.parseAction(e,r,s,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,n),!i||i.ast instanceof Ve?(this._reportError("Empty expressions are not allowed",n),this._exprParser.wrapLiteralPrimitive("ERROR",r,s)):i}catch(i){return this._reportError(`${i}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",r,s)}}_reportError(e,n,r=Yn.ERROR){this.errors.push(new z(n,e,r))}_reportExpressionParserErrors(e,n){for(let r of e)this._reportError(r.message,n)}_validatePropertyOrAttributeName(e,n,r){let s=r?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);s.error&&this._reportError(s.msg,n,Yn.ERROR)}_isAllowedAssignmentEvent(e){return e instanceof Me?this._isAllowedAssignmentEvent(e.ast):e instanceof Es?this._isAllowedAssignmentEvent(e.expression):e instanceof de||e instanceof or?!0:e instanceof ot?(e.operation==="&&"||e.operation==="||"||e.operation==="??")&&(e.right instanceof de||e.right instanceof or):e instanceof gs||e instanceof ys}};function Nc(t){return t[0]=="@"}function Dc(t,e,n,r){let s=[];return mn.parse(e).forEach(i=>{let o=i.element?[i.element]:t.allKnownElementNames(),a=new Set(i.notSelectors.filter(c=>c.isElementSelector()).map(c=>c.element)),l=o.filter(c=>!a.has(c));s.push(...l.map(c=>t.securityContext(c,n,r)))}),s.length===0?[ne.NONE]:Array.from(new Set(s)).sort()}function Er(t,e){let n=e.start-t.start.offset,r=e.end-t.end.offset;return new K(t.start.moveBy(n),t.end.moveBy(r),t.fullStart.moveBy(n),t.details)}function sD(t){if(t==null||t.length===0||t[0]=="/")return!1;let e=t.match(iD);return e===null||e[1]=="package"||e[1]=="asset"}var iD=/^([^:/?#]+):/,oD="select",aD="link",lD="rel",cD="href",uD="stylesheet",pD="style",hD="script",fD="ngNonBindable",dD="ngProjectAs";function Zg(t){let e=null,n=null,r=null,s=!1,i="";t.attrs.forEach(l=>{let c=l.name.toLowerCase();c==oD?e=l.value:c==cD?n=l.value:c==lD?r=l.value:l.name==fD?s=!0:l.name==dD&&l.value.length>0&&(i=l.value)}),e=mD(e);let o=t.name.toLowerCase(),a=_t.OTHER;return Yc(o)?a=_t.NG_CONTENT:o==pD?a=_t.STYLE:o==hD?a=_t.SCRIPT:o==aD&&r==uD&&(a=_t.STYLESHEET),new sp(a,e,n,s,i)}var _t;(function(t){t[t.NG_CONTENT=0]="NG_CONTENT",t[t.STYLE=1]="STYLE",t[t.STYLESHEET=2]="STYLESHEET",t[t.SCRIPT=3]="SCRIPT",t[t.OTHER=4]="OTHER"})(_t||(_t={}));var sp=class{constructor(e,n,r,s,i){this.type=e,this.selectAttr=n,this.hrefAttr=r,this.nonBindable=s,this.projectAs=i}};function mD(t){return t===null||t.length===0?"*":t}var gD=/^\s*([0-9A-Za-z_$]*)\s+of\s+([\S\s]*)/,vD=/^track\s+([\S\s]*)/,yD=/^(as\s)+(.*)/,Wp=/^else[^\S\r\n]+if/,ED=/^let\s+([\S\s]*)/,qd=/(\s*)(\S+)(\s*)/,ip=new Set(["$index","$first","$last","$even","$odd","$count"]);function Gd(t){return t==="empty"}function Hd(t){return t==="else"||Wp.test(t)}function SD(t,e,n,r){let s=CD(e),i=[],o=Wd(t,s,r);o!==null&&i.push(new Jn(o.expression,Ae(n,t.children,t.children),o.expressionAlias,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.nameSpan,t.i18n));for(let h of e)if(Wp.test(h.name)){let d=Wd(h,s,r);if(d!==null){let g=Ae(n,h.children,h.children);i.push(new Jn(d.expression,g,d.expressionAlias,h.sourceSpan,h.startSourceSpan,h.endSourceSpan,h.nameSpan,h.i18n))}}else if(h.name==="else"){let d=Ae(n,h.children,h.children);i.push(new Jn(null,d,null,h.sourceSpan,h.startSourceSpan,h.endSourceSpan,h.nameSpan,h.i18n))}let a=i.length>0?i[0].startSourceSpan:t.startSourceSpan,l=i.length>0?i[i.length-1].endSourceSpan:t.endSourceSpan,c=t.sourceSpan,u=i[i.length-1];return u!==void 0&&(c=new K(a.start,u.sourceSpan.end)),{node:new cs(i,c,t.startSourceSpan,l,t.nameSpan),errors:s}}function wD(t,e,n,r){let s=[],i=TD(t,s,r),o=null,a=null;for(let l of e)l.name==="empty"?a!==null?s.push(new z(l.sourceSpan,"@for loop can only have one @empty block")):l.parameters.length>0?s.push(new z(l.sourceSpan,"@empty block cannot have parameters")):a=new fi(Ae(n,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n):s.push(new z(l.sourceSpan,`Unrecognized @for loop block "${l.name}"`));if(i!==null)if(i.trackBy===null)s.push(new z(t.sourceSpan,'@for loop must have a "track" expression'));else{let l=a?.endSourceSpan??t.endSourceSpan,c=new K(t.sourceSpan.start,l?.end??t.sourceSpan.end);o=new Sn(i.itemName,i.expression,i.trackBy.expression,i.trackBy.keywordSpan,i.context,Ae(n,t.children,t.children),a,c,t.sourceSpan,t.startSourceSpan,l,t.nameSpan,t.i18n)}return{node:o,errors:s}}function xD(t,e,n){let r=AD(t),s=t.parameters.length>0?Lo(t.parameters[0],n):n.parseBinding("",!1,t.sourceSpan,0),i=[],o=[],a=null;for(let l of t.children){if(!(l instanceof Ht))continue;if((l.name!=="case"||l.parameters.length===0)&&l.name!=="default"){o.push(new Ba(l.name,l.sourceSpan,l.nameSpan));continue}let c=l.name==="case"?Lo(l.parameters[0],n):null,u=new vo(c,Ae(e,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n);c===null?a=u:i.push(u)}return a!==null&&i.push(a),{node:new hi(s,i,o,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.nameSpan),errors:r}}function TD(t,e,n){if(t.parameters.length===0)return e.push(new z(t.sourceSpan,"@for loop does not have an expression")),null;let[r,...s]=t.parameters,i=bD(r,e)?.match(gD);if(!i||i[2].trim().length===0)return e.push(new z(r.sourceSpan,'Cannot parse expression. @for loop expression must match the pattern "<identifier> of <expression>"')),null;let[,o,a]=i,l=r.expression.split(" ")[0],c=new K(r.sourceSpan.start,r.sourceSpan.start.moveBy(l.length)),u={itemName:new $t(o,"$implicit",c,c),trackBy:null,expression:Lo(r,n,a),context:{}};for(let h of s){let d=h.expression.match(ED);if(d!==null){let v=new K(h.sourceSpan.start.moveBy(d[0].length-d[1].length),h.sourceSpan.end);ID(h.sourceSpan,d[1],v,u.context,e);continue}let g=h.expression.match(vD);if(g!==null){if(u.trackBy!==null)e.push(new z(h.sourceSpan,'@for loop can only have one "track" expression'));else{let v=Lo(h,n,g[1]);v.ast instanceof Ve&&e.push(new z(h.sourceSpan,'@for loop must have a "track" expression'));let I=new K(h.sourceSpan.start,h.sourceSpan.start.moveBy(5));u.trackBy={expression:v,keywordSpan:I}}continue}e.push(new z(h.sourceSpan,`Unrecognized @for loop paramater "${h.expression}"`))}for(let h of ip)if(!u.context.hasOwnProperty(h)){let d=new K(t.startSourceSpan.end,t.startSourceSpan.end);u.context[h]=new $t(h,h,d,d)}return u}function ID(t,e,n,r,s){let i=e.split(","),o=n.start;for(let a of i){let l=a.split("="),c=l.length===2?l[0].trim():"",u=l.length===2?l[1].trim():"";if(c.length===0||u.length===0)s.push(new z(t,'Invalid @for loop "let" parameter. Parameter should match the pattern "<name> = <variable name>"'));else if(!ip.has(u))s.push(new z(t,`Unknown "let" parameter variable "${u}". The allowed variables are: ${Array.from(ip).join(", ")}`));else if(r.hasOwnProperty(u))s.push(new z(t,`Duplicate "let" parameter variable "${u}"`));else{let[,h,d]=l[0].match(qd)??[],g=h!==void 0&&l.length===2?new K(o.moveBy(h.length),o.moveBy(h.length+d.length)):n,v;if(l.length===2){let[,x,N]=l[1].match(qd)??[];v=x!==void 0?new K(o.moveBy(l[0].length+1+x.length),o.moveBy(l[0].length+1+x.length+N.length)):void 0}let I=new K(g.start,v?.end??g.end);r[u]=new $t(c,u,I,g,v)}o=o.moveBy(a.length+1)}}function CD(t){let e=[],n=!1;for(let r=0;r<t.length;r++){let s=t[r];s.name==="else"?(n?e.push(new z(s.sourceSpan,"Conditional can only have one @else block")):t.length>1&&r<t.length-1?e.push(new z(s.sourceSpan,"@else block must be last inside the conditional")):s.parameters.length>0&&e.push(new z(s.sourceSpan,"@else block cannot have parameters")),n=!0):Wp.test(s.name)||e.push(new z(s.sourceSpan,`Unrecognized conditional block @${s.name}`))}return e}function AD(t){let e=[],n=!1;if(t.parameters.length!==1)return e.push(new z(t.sourceSpan,"@switch block must have exactly one parameter")),e;for(let r of t.children)if(!(r instanceof Po||r instanceof qr&&r.value.trim().length===0)){if(!(r instanceof Ht)||r.name!=="case"&&r.name!=="default"){e.push(new z(r.sourceSpan,"@switch block can only contain @case and @default blocks"));continue}r.name==="default"?(n?e.push(new z(r.sourceSpan,"@switch block can only have one @default block")):r.parameters.length>0&&e.push(new z(r.sourceSpan,"@default block cannot have parameters")),n=!0):r.name==="case"&&r.parameters.length!==1&&e.push(new z(r.sourceSpan,"@case block must have exactly one parameter"))}return e}function Lo(t,e,n){let r,s;return typeof n=="string"?(r=Math.max(0,t.expression.lastIndexOf(n)),s=r+n.length):(r=0,s=t.expression.length),e.parseBinding(t.expression.slice(r,s),!1,t.sourceSpan,t.sourceSpan.start.offset+r)}function Wd(t,e,n){if(t.parameters.length===0)return e.push(new z(t.sourceSpan,"Conditional block does not have an expression")),null;let r=Lo(t.parameters[0],n),s=null;for(let i=1;i<t.parameters.length;i++){let o=t.parameters[i],a=o.expression.match(yD);if(a===null)e.push(new z(o.sourceSpan,`Unrecognized conditional paramater "${o.expression}"`));else if(t.name!=="if")e.push(new z(o.sourceSpan,'"as" expression is only allowed on the primary @if block'));else if(s!==null)e.push(new z(o.sourceSpan,'Conditional can only have one "as" expression'));else{let l=a[2].trim(),c=o.sourceSpan.start.moveBy(a[1].length),u=new K(c,c.moveBy(l.length));s=new $t(l,l,u,u)}}return{expression:r,expressionAlias:s}}function bD(t,e){let n=t.expression,r=/^\s$/,s=0,i=0,o=n.length-1;for(let a=0;a<n.length;a++){let l=n[a];if(l==="(")i=a+1,s++;else{if(r.test(l))continue;break}}if(s===0)return n;for(let a=n.length-1;a>-1;a--){let l=n[a];if(l===")"){if(o=a,s--,s===0)break}else{if(r.test(l))continue;break}}return s!==0?(e.push(new z(t.sourceSpan,"Unclosed parentheses in expression")),null):n.slice(i,o)}var ND=/^\d+\.?\d*(ms|s)?$/,DD=/^\s$/,jd=new Map([[kn,Nt],[ni,Ys],[Zn,pn]]),gt;(function(t){t.IDLE="idle",t.TIMER="timer",t.INTERACTION="interaction",t.IMMEDIATE="immediate",t.HOVER="hover",t.VIEWPORT="viewport"})(gt||(gt={}));function Kd({expression:t,sourceSpan:e},n,r,s){let i=t.indexOf("when"),o=new K(e.start.moveBy(i),e.start.moveBy(i+4)),a=ev(t,e);if(i===-1)s.push(new z(e,'Could not find "when" keyword in expression'));else{let l=Oo(t,i+1),c=n.parseBinding(t.slice(l),!1,e,e.start.offset+l);tv("when",r,s,new pi(c,e,a,o))}}function zd({expression:t,sourceSpan:e},n,r,s){let i=t.indexOf("on"),o=new K(e.start.moveBy(i),e.start.moveBy(i+2)),a=ev(t,e);if(i===-1)r.push(new z(e,'Could not find "on" keyword in expression'));else{let l=Oo(t,i+1);new op(t,l,e,n,r,s,a,o).parse()}}function ev(t,e){return t.startsWith("prefetch")?new K(e.start,e.start.moveBy(8)):null}var op=class{constructor(e,n,r,s,i,o,a,l){this.expression=e,this.start=n,this.span=r,this.triggers=s,this.errors=i,this.placeholder=o,this.prefetchSpan=a,this.onSourceSpan=l,this.index=0,this.tokens=new Ro().tokenize(e.slice(n))}parse(){for(;this.tokens.length>0&&this.index<this.tokens.length;){let e=this.token();if(!e.isIdentifier()){this.unexpectedToken(e);break}if(this.isFollowedByOrLast(Kt))this.consumeTrigger(e,[]),this.advance();else if(this.isFollowedByOrLast(Zn)){this.advance();let n=this.errors.length,r=this.consumeParameters();if(this.errors.length!==n)break;this.consumeTrigger(e,r),this.advance()}else this.index<this.tokens.length-1&&this.unexpectedToken(this.tokens[this.index+1]);this.advance()}}advance(){this.index++}isFollowedByOrLast(e){return this.index===this.tokens.length-1?!0:this.tokens[this.index+1].isCharacter(e)}token(){return this.tokens[Math.min(this.index,this.tokens.length-1)]}consumeTrigger(e,n){let r=this.span.start.moveBy(this.start+e.index-this.tokens[0].index),s=new K(r,r.moveBy(e.strValue.length)),i=r.moveBy(this.token().end-e.index),o=e.index===0,a=o?this.onSourceSpan:null,l=o?this.prefetchSpan:null,c=new K(o?this.span.start:r,i);try{switch(e.toString()){case gt.IDLE:this.trackTrigger("idle",_D(n,s,c,l,a));break;case gt.TIMER:this.trackTrigger("timer",RD(n,s,c,this.prefetchSpan,this.onSourceSpan));break;case gt.INTERACTION:this.trackTrigger("interaction",MD(n,s,c,this.prefetchSpan,this.onSourceSpan,this.placeholder));break;case gt.IMMEDIATE:this.trackTrigger("immediate",PD(n,s,c,this.prefetchSpan,this.onSourceSpan));break;case gt.HOVER:this.trackTrigger("hover",kD(n,s,c,this.prefetchSpan,this.onSourceSpan,this.placeholder));break;case gt.VIEWPORT:this.trackTrigger("viewport",LD(n,s,c,this.prefetchSpan,this.onSourceSpan,this.placeholder));break;default:throw new Error(`Unrecognized trigger type "${e}"`)}}catch(u){this.error(e,u.message)}}consumeParameters(){let e=[];if(!this.token().isCharacter(Zn))return this.unexpectedToken(this.token()),e;this.advance();let n=[],r="";for(;this.index<this.tokens.length;){let s=this.token();if(s.isCharacter(pn)&&n.length===0){r.length&&e.push(r);break}if(s.type===Z.Character&&jd.has(s.numValue)&&n.push(jd.get(s.numValue)),n.length>0&&s.isCharacter(n[n.length-1])&&n.pop(),n.length===0&&s.isCharacter(Kt)&&r.length>0){e.push(r),r="",this.advance();continue}r+=this.tokenText(),this.advance()}return(!this.token().isCharacter(pn)||n.length>0)&&this.error(this.token(),"Unexpected end of expression"),this.index<this.tokens.length-1&&!this.tokens[this.index+1].isCharacter(Kt)&&this.unexpectedToken(this.tokens[this.index+1]),e}tokenText(){return this.expression.slice(this.start+this.token().index,this.start+this.token().end)}trackTrigger(e,n){tv(e,this.triggers,this.errors,n)}error(e,n){let r=this.span.start.moveBy(this.start+e.index),s=r.moveBy(e.end-e.index);this.errors.push(new z(new K(r,s),n))}unexpectedToken(e){this.error(e,`Unexpected token "${e}"`)}};function tv(t,e,n,r){e[t]?n.push(new z(r.sourceSpan,`Duplicate "${t}" trigger is not allowed`)):e[t]=r}function _D(t,e,n,r,s){if(t.length>0)throw new Error(`"${gt.IDLE}" trigger cannot have parameters`);return new Zc(e,n,r,s)}function RD(t,e,n,r,s){if(t.length!==1)throw new Error(`"${gt.TIMER}" trigger must have exactly one parameter`);let i=yl(t[0]);if(i===null)throw new Error(`Could not parse time value of trigger "${gt.TIMER}"`);return new tu(i,e,n,r,s)}function PD(t,e,n,r,s){if(t.length>0)throw new Error(`"${gt.IMMEDIATE}" trigger cannot have parameters`);return new eu(e,n,r,s)}function kD(t,e,n,r,s,i){return jp(gt.HOVER,t,i),new La(t[0]??null,e,n,r,s)}function MD(t,e,n,r,s,i){return jp(gt.INTERACTION,t,i),new Oa(t[0]??null,e,n,r,s)}function LD(t,e,n,r,s,i){return jp(gt.VIEWPORT,t,i),new Fa(t[0]??null,e,n,r,s)}function jp(t,e,n){if(e.length>1)throw new Error(`"${t}" trigger can only have zero or one parameters`);if(e.length===0){if(n===null)throw new Error(`"${t}" trigger with no parameters can only be placed on an @defer that has a @placeholder block`);if(n.children.length!==1||!(n.children[0]instanceof oe))throw new Error(`"${t}" trigger with no parameters can only be placed on an @defer that has a @placeholder block with exactly one root element node`)}}function Oo(t,e=0){let n=!1;for(let r=e;r<t.length;r++)if(DD.test(t[r]))n=!0;else if(n)return r;return-1}function yl(t){let e=t.match(ND);if(!e)return null;let[n,r]=e;return parseFloat(n)*(r==="s"?1e3:1)}var OD=/^prefetch\s+when\s/,FD=/^prefetch\s+on\s/,nv=/^minimum\s/,BD=/^after\s/,$D=/^when\s/,UD=/^on\s/;function ap(t){return t==="placeholder"||t==="loading"||t==="error"}function VD(t,e,n,r){let s=[],{placeholder:i,loading:o,error:a}=qD(e,s,n),{triggers:l,prefetchTriggers:c}=jD(t.parameters,r,s,i),u=t.endSourceSpan,h=t.sourceSpan.end;if(e.length>0){let v=e[e.length-1];u=v.endSourceSpan,h=v.sourceSpan.end}let d=new K(t.sourceSpan.start,h);return{node:new sr(Ae(n,t.children,t.children),l,c,i,o,a,t.nameSpan,d,t.sourceSpan,t.startSourceSpan,u,t.i18n),errors:s}}function qD(t,e,n){let r=null,s=null,i=null;for(let o of t)try{if(!ap(o.name)){e.push(new z(o.startSourceSpan,`Unrecognized block "@${o.name}"`));break}switch(o.name){case"placeholder":r!==null?e.push(new z(o.startSourceSpan,"@defer block can only have one @placeholder block")):r=GD(o,n);break;case"loading":s!==null?e.push(new z(o.startSourceSpan,"@defer block can only have one @loading block")):s=HD(o,n);break;case"error":i!==null?e.push(new z(o.startSourceSpan,"@defer block can only have one @error block")):i=WD(o,n);break}}catch(a){e.push(new z(o.startSourceSpan,a.message))}return{placeholder:r,loading:s,error:i}}function GD(t,e){let n=null;for(let r of t.parameters)if(nv.test(r.expression)){if(n!=null)throw new Error('@placeholder block can only have one "minimum" parameter');let s=yl(r.expression.slice(Oo(r.expression)));if(s===null)throw new Error('Could not parse time value of parameter "minimum"');n=s}else throw new Error(`Unrecognized parameter in @placeholder block: "${r.expression}"`);return new fo(Ae(e,t.children,t.children),n,t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function HD(t,e){let n=null,r=null;for(let s of t.parameters)if(BD.test(s.expression)){if(n!=null)throw new Error('@loading block can only have one "after" parameter');let i=yl(s.expression.slice(Oo(s.expression)));if(i===null)throw new Error('Could not parse time value of parameter "after"');n=i}else if(nv.test(s.expression)){if(r!=null)throw new Error('@loading block can only have one "minimum" parameter');let i=yl(s.expression.slice(Oo(s.expression)));if(i===null)throw new Error('Could not parse time value of parameter "minimum"');r=i}else throw new Error(`Unrecognized parameter in @loading block: "${s.expression}"`);return new mo(Ae(e,t.children,t.children),n,r,t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function WD(t,e){if(t.parameters.length>0)throw new Error("@error block cannot have parameters");return new go(Ae(e,t.children,t.children),t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function jD(t,e,n,r){let s={},i={};for(let o of t)$D.test(o.expression)?Kd(o,e,s,n):UD.test(o.expression)?zd(o,s,n,r):OD.test(o.expression)?Kd(o,e,i,n):FD.test(o.expression)?zd(o,i,n,r):n.push(new z(o.sourceSpan,"Unrecognized trigger"));return{triggers:s,prefetchTriggers:i}}var KD=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,Xd=1,Yd=2,Qd=3,Jd=4,Zd=5,zD=6,Ki=7,Sr={BANANA_BOX:{start:"[(",end:")]"},PROPERTY:{start:"[",end:"]"},EVENT:{start:"(",end:")"}},em="*";function XD(t,e,n){let r=new lp(e,n),s=Ae(r,t,t),i=e.errors.concat(r.errors),o={nodes:s,errors:i,styleUrls:r.styleUrls,styles:r.styles,ngContentSelectors:r.ngContentSelectors};return n.collectCommentNodes&&(o.commentNodes=r.commentNodes),o}var lp=class{constructor(e,n){this.bindingParser=e,this.options=n,this.errors=[],this.styles=[],this.styleUrls=[],this.ngContentSelectors=[],this.commentNodes=[],this.inI18nBlock=!1,this.processedNodes=new Set}visitElement(e){let n=Eo(e.i18n);n&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);let r=Zg(e);if(r.type===_t.SCRIPT)return null;if(r.type===_t.STYLE){let x=ZD(e);return x!==null&&this.styles.push(x),null}else if(r.type===_t.STYLESHEET&&sD(r.hrefAttr))return this.styleUrls.push(r.hrefAttr),null;let s=rx(e.name),i=[],o=[],a=[],l=[],c=[],u={},h=[],d=[],g=!1;for(let x of e.attrs){let N=!1,B=tm(x.name),j=!1;if(x.i18n&&(u[x.name]=x.i18n),B.startsWith(em)){g&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",x.sourceSpan),j=!0,g=!0;let ae=x.value,pe=B.substring(em.length),pt=[],ht=x.valueSpan?x.valueSpan.start.offset:x.sourceSpan.start.offset+x.name.length;this.bindingParser.parseInlineTemplateBinding(pe,ae,x.sourceSpan,ht,[],h,pt,!0),d.push(...pt.map(Ue=>new $t(Ue.name,Ue.value,Ue.sourceSpan,Ue.keySpan,Ue.valueSpan)))}else N=this.parseAttribute(s,x,[],i,o,a,l);!N&&!j&&c.push(this.visitAttribute(x))}let v;r.nonBindable?v=Ae(YD,e.children).flat(1/0):v=Ae(this,e.children,e.children);let I;if(r.type===_t.NG_CONTENT){e.children&&!e.children.every(B=>QD(B)||JD(B))&&this.reportError("<ng-content> element cannot have content.",e.sourceSpan);let x=r.selectAttr,N=e.attrs.map(B=>this.visitAttribute(B));I=new $a(x,N,e.sourceSpan,e.i18n),this.ngContentSelectors.push(x)}else if(s){let x=this.extractAttributes(e.name,i,u);I=new ce(e.name,c,x.bound,o,[],v,l,a,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{let x=this.extractAttributes(e.name,i,u);I=new oe(e.name,c,x.bound,o,v,l,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}if(g){let x=this.extractAttributes("ng-template",h,u),N=[];x.literal.forEach(pe=>N.push(pe)),x.bound.forEach(pe=>N.push(pe));let B=I instanceof oe?{attributes:I.attributes,inputs:I.inputs,outputs:I.outputs}:{attributes:[],inputs:[],outputs:[]},j=s&&n?void 0:e.i18n,ae=I instanceof ce?null:I.name;I=new ce(ae,B.attributes,B.inputs,B.outputs,N,[I],[],d,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,j)}return n&&(this.inI18nBlock=!1),I}visitAttribute(e){return new Bt(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return this.processedNodes.has(e)?null:this._visitTextWithInterpolation(e.value,e.sourceSpan,e.tokens,e.i18n)}visitExpansion(e){if(!e.i18n)return null;if(!Eo(e.i18n))throw new Error(`Invalid type "${e.i18n.constructor}" for "i18n" property of ${e.sourceSpan.toString()}. Expected a "Message"`);let n=e.i18n,r={},s={};return Object.keys(n.placeholders).forEach(i=>{let o=n.placeholders[i];if(i.startsWith(lx)){let a=i.trim(),l=this.bindingParser.parseInterpolationExpression(o.text,o.sourceSpan);r[a]=new Bn(l,o.sourceSpan)}else s[i]=this._visitTextWithInterpolation(o.text,o.sourceSpan,null)}),new us(r,s,e.sourceSpan,n)}visitExpansionCase(e){return null}visitComment(e){return this.options.collectCommentNodes&&this.commentNodes.push(new ui(e.value||"",e.sourceSpan)),null}visitBlockParameter(){return null}visitBlock(e,n){let r=Array.isArray(n)?n.indexOf(e):-1;if(r===-1)throw new Error("Visitor invoked incorrectly. Expecting visitBlock to be invoked siblings array as its context");if(this.processedNodes.has(e))return null;let s=null;switch(e.name){case"defer":s=VD(e,this.findConnectedBlocks(r,n,ap),this,this.bindingParser);break;case"switch":s=xD(e,this,this.bindingParser);break;case"for":s=wD(e,this.findConnectedBlocks(r,n,Gd),this,this.bindingParser);break;case"if":s=SD(e,this.findConnectedBlocks(r,n,Hd),this,this.bindingParser);break;default:let i;ap(e.name)?(i=`@${e.name} block can only be used after an @defer block.`,this.processedNodes.add(e)):Gd(e.name)?(i=`@${e.name} block can only be used after an @for block.`,this.processedNodes.add(e)):Hd(e.name)?(i=`@${e.name} block can only be used after an @if or @else if block.`,this.processedNodes.add(e)):i=`Unrecognized block @${e.name}.`,s={node:new Ba(e.name,e.sourceSpan,e.nameSpan),errors:[new z(e.sourceSpan,i)]};break}return this.errors.push(...s.errors),s.node}findConnectedBlocks(e,n,r){let s=[];for(let i=e+1;i<n.length;i++){let o=n[i];if(o instanceof qr&&o.value.trim().length===0){this.processedNodes.add(o);continue}if(!(o instanceof Ht)||!r(o.name))break;s.push(o),this.processedNodes.add(o)}return s}extractAttributes(e,n,r){let s=[],i=[];return n.forEach(o=>{let a=r[o.name];if(o.isLiteral)i.push(new Bt(o.name,o.expression.source||"",o.sourceSpan,o.keySpan,o.valueSpan,a));else{let l=this.bindingParser.createBoundElementProperty(e,o,!0,!1);s.push(Jt.fromBoundElementProperty(l,a))}}),{bound:s,literal:i}}parseAttribute(e,n,r,s,i,o,a){let l=tm(n.name),c=n.value,u=n.sourceSpan,h=n.valueSpan?n.valueSpan.start.offset:u.start.offset;function d(N,B,j){let ae=n.name.length-l.length,pe=N.start.moveBy(B.length+ae),pt=pe.moveBy(j.length);return new K(pe,pt,pe,j)}let g=l.match(KD);if(g){if(g[Xd]!=null){let N=g[Ki],B=d(u,g[Xd],N);this.bindingParser.parsePropertyBinding(N,c,!1,!1,u,h,n.valueSpan,r,s,B)}else if(g[Yd])if(e){let N=g[Ki],B=d(u,g[Yd],N);this.parseVariable(N,c,u,B,n.valueSpan,o)}else this.reportError('"let-" is only supported on ng-template elements.',u);else if(g[Qd]){let N=g[Ki],B=d(u,g[Qd],N);this.parseReference(N,c,u,B,n.valueSpan,a)}else if(g[Jd]){let N=[],B=g[Ki],j=d(u,g[Jd],B);this.bindingParser.parseEvent(B,c,!1,u,n.valueSpan||u,r,N,j),_c(N,i)}else if(g[Zd]){let N=g[Ki],B=d(u,g[Zd],N);this.bindingParser.parsePropertyBinding(N,c,!1,!0,u,h,n.valueSpan,r,s,B),this.parseAssignmentEvent(N,c,u,n.valueSpan,r,i,B)}else if(g[zD]){let N=d(u,"",l);this.bindingParser.parseLiteralAttr(l,c,u,h,n.valueSpan,r,s,N)}return!0}let v=null;if(l.startsWith(Sr.BANANA_BOX.start)?v=Sr.BANANA_BOX:l.startsWith(Sr.PROPERTY.start)?v=Sr.PROPERTY:l.startsWith(Sr.EVENT.start)&&(v=Sr.EVENT),v!==null&&l.endsWith(v.end)&&l.length>v.start.length+v.end.length){let N=l.substring(v.start.length,l.length-v.end.length),B=d(u,v.start,N);if(v.start===Sr.BANANA_BOX.start)this.bindingParser.parsePropertyBinding(N,c,!1,!0,u,h,n.valueSpan,r,s,B),this.parseAssignmentEvent(N,c,u,n.valueSpan,r,i,B);else if(v.start===Sr.PROPERTY.start)this.bindingParser.parsePropertyBinding(N,c,!1,!1,u,h,n.valueSpan,r,s,B);else{let j=[];this.bindingParser.parseEvent(N,c,!1,u,n.valueSpan||u,r,j,B),_c(j,i)}return!0}let I=d(u,"",l);return this.bindingParser.parsePropertyInterpolation(l,c,u,n.valueSpan,r,s,I,n.valueTokens??null)}_visitTextWithInterpolation(e,n,r,s){let i=Qg(e),o=this.bindingParser.parseInterpolation(i,n,r);return o?new Bn(o,n,s):new zt(i,n)}parseVariable(e,n,r,s,i,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',r):e.length===0&&this.reportError("Variable does not have a name",r),o.push(new $t(e,n,r,s,i))}parseReference(e,n,r,s,i,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',r):e.length===0?this.reportError("Reference does not have a name",r):o.some(a=>a.name===e)&&this.reportError(`Reference "#${e}" is defined more than once`,r),o.push(new $n(e,n,r,s,i))}parseAssignmentEvent(e,n,r,s,i,o,a){let l=[];this.bindingParser.parseEvent(`${e}Change`,n,!0,r,s||r,i,l,a),_c(l,o)}reportError(e,n,r=Yn.ERROR){this.errors.push(new z(n,e,r))}},cp=class{visitElement(e){let n=Zg(e);if(n.type===_t.SCRIPT||n.type===_t.STYLE||n.type===_t.STYLESHEET)return null;let r=Ae(this,e.children,null);return new oe(e.name,Ae(this,e.attrs),[],[],r,[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}visitComment(e){return null}visitAttribute(e){return new Bt(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return new zt(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}visitBlock(e,n){let r=[new zt(e.startSourceSpan.toString(),e.startSourceSpan),...Ae(this,e.children)];return e.endSourceSpan!==null&&r.push(new zt(e.endSourceSpan.toString(),e.endSourceSpan)),r}visitBlockParameter(e,n){return null}},YD=new cp;function tm(t){return/^data-/i.test(t)?t.substring(5):t}function _c(t,e){e.push(...t.map(n=>Pr.fromParsedEvent(n)))}function QD(t){return t instanceof qr&&t.value.trim().length==0}function JD(t){return t instanceof Po}function ZD(t){return t.children.length!==1||!(t.children[0]instanceof qr)?null:t.children[0].value}var ln;(function(t){t[t.ELEMENT=0]="ELEMENT",t[t.TEMPLATE=1]="TEMPLATE"})(ln||(ln={}));function e0(){return{getUniqueId:fx(),icus:new Map}}var up=class t{constructor(e,n,r=0,s=null,i,o){this.index=e,this.ref=n,this.level=r,this.templateIndex=s,this.meta=i,this.registry=o,this.bindings=new Set,this.placeholders=new Map,this.isEmitted=!1,this._unresolvedCtxCount=0,this._registry=o||e0(),this.id=this._registry.getUniqueId()}appendTag(e,n,r,s){if(n.isVoid&&s)return;let i=n.isVoid||!s?n.startName:n.closeName,o={type:e,index:r,ctx:this.id,isVoid:n.isVoid,closed:s};Yi(this.placeholders,i,o)}appendBlockPart(e,n,r){let s=r?e.closeName:e.startName,i={type:ln.TEMPLATE,index:n,ctx:this.id,closed:r};Yi(this.placeholders,s,i)}get icus(){return this._registry.icus}get isRoot(){return this.level===0}get isResolved(){return this._unresolvedCtxCount===0}getSerializedPlaceholders(){let e=new Map;return this.placeholders.forEach((n,r)=>e.set(r,n.map(t0))),e}appendBinding(e){this.bindings.add(e)}appendIcu(e,n){Yi(this._registry.icus,e,n)}appendBoundText(e){Fm(e,this.bindings.size,this.id).forEach((r,s)=>Yi(this.placeholders,s,...r))}appendTemplate(e,n){this.appendTag(ln.TEMPLATE,e,n,!1),this.appendTag(ln.TEMPLATE,e,n,!0),this._unresolvedCtxCount++}appendBlock(e,n){this.appendBlockPart(e,n,!1),this.appendBlockPart(e,n,!0),this._unresolvedCtxCount++}appendElement(e,n,r){this.appendTag(ln.ELEMENT,e,n,r)}appendProjection(e,n){this.appendTag(ln.ELEMENT,e,n,!1),this.appendTag(ln.ELEMENT,e,n,!0)}forkChildContext(e,n,r){return new t(e,this.ref,this.level+1,n,r,this._registry)}reconcileChildContext(e){["start","close"].forEach(r=>{let s=e.meta[`${r}Name`],o=(this.placeholders.get(s)||[]).find(rm(this.id,e.templateIndex));o&&(o.ctx=e.id)}),e.placeholders.forEach((r,s)=>{let i=this.placeholders.get(s);if(!i){this.placeholders.set(s,r);return}let o=i.findIndex(rm(e.id,e.templateIndex));if(o>=0){let a=s.startsWith("CLOSE");if(s.endsWith("NG-TEMPLATE"))i.splice(o+(a?0:1),0,...r);else{let c=a?r.length-1:0;r[c].tmpl=i[o],i.splice(o,1,...r)}}else i.push(...r);this.placeholders.set(s,i)}),this._unresolvedCtxCount--}};function Rc(t,e,n,r){return bl(`${r?"/":""}${t}${e}`,n)}function nm(t,{index:e,ctx:n,isVoid:r},s){return r?Rc(t,e,n)+Rc(t,e,n,!0):Rc(t,e,n,s)}function rm(t,e){return n=>typeof n=="object"&&n.type===ln.TEMPLATE&&n.index===e&&n.ctx===t}function t0(t){let e=(r,s)=>nm("#",r,s),n=(r,s)=>nm("*",r,s);switch(t.type){case ln.ELEMENT:return t.closed?e(t,!0)+(t.tmpl?n(t.tmpl,!0):""):t.tmpl?n(t.tmpl)+e(t)+(t.isVoid?n(t.tmpl,!0):""):e(t);case ln.TEMPLATE:return n(t,t.closed);default:return t}}var n0="!important",El=2,Sl=class{constructor(e){this._directiveExpr=e,this._hasInitialValues=!1,this.hasBindings=!1,this.hasBindingsWithPipes=!1,this._classMapInput=null,this._styleMapInput=null,this._singleStyleInputs=null,this._singleClassInputs=null,this._lastStylingInput=null,this._firstStylingInput=null,this._stylesIndex=new Map,this._classesIndex=new Map,this._initialStyleValues=[],this._initialClassValues=[]}registerBoundInput(e){let n=null,r=e.name;switch(e.type){case 0:n=this.registerInputBasedOnName(r,e.value,e.sourceSpan);break;case 3:n=this.registerStyleInput(r,!1,e.value,e.sourceSpan,e.unit);break;case 2:n=this.registerClassInput(r,!1,e.value,e.sourceSpan);break}return!!n}registerInputBasedOnName(e,n,r){let s=null,i=e.substring(0,6),o=e==="style"||i==="style."||i==="style!";if(o||!o&&(e==="class"||i==="class."||i==="class!")){let l=e.charAt(5)!==".",c=e.slice(l?5:6);o?s=this.registerStyleInput(c,l,n,r):s=this.registerClassInput(c,l,n,r)}return s}registerStyleInput(e,n,r,s,i){if(om(r))return null;o0(e)||(e=qp(e));let{property:o,hasOverrideFlag:a,suffix:l}=im(e);i=typeof i=="string"&&i.length!==0?i:l;let c={name:o,suffix:i,value:r,sourceSpan:s,hasOverrideFlag:a};return n?this._styleMapInput=c:((this._singleStyleInputs=this._singleStyleInputs||[]).push(c),sm(this._stylesIndex,o)),this._lastStylingInput=c,this._firstStylingInput=this._firstStylingInput||c,this._checkForPipes(r),this.hasBindings=!0,c}registerClassInput(e,n,r,s){if(om(r))return null;let{property:i,hasOverrideFlag:o}=im(e),a={name:i,value:r,sourceSpan:s,hasOverrideFlag:o,suffix:null};return n?this._classMapInput=a:((this._singleClassInputs=this._singleClassInputs||[]).push(a),sm(this._classesIndex,i)),this._lastStylingInput=a,this._firstStylingInput=this._firstStylingInput||a,this._checkForPipes(r),this.hasBindings=!0,a}_checkForPipes(e){e instanceof Me&&e.ast instanceof Un&&(this.hasBindingsWithPipes=!0)}registerStyleAttr(e){this._initialStyleValues=Pg(e),this._hasInitialValues=!0}registerClassAttr(e){this._initialClassValues=e.trim().split(/\s+/g),this._hasInitialValues=!0}populateInitialStylingAttrs(e){if(this._initialClassValues.length){e.push(m(1));for(let n=0;n<this._initialClassValues.length;n++)e.push(m(this._initialClassValues[n]))}if(this._initialStyleValues.length){e.push(m(2));for(let n=0;n<this._initialStyleValues.length;n+=2)e.push(m(this._initialStyleValues[n]),m(this._initialStyleValues[n+1]))}}assignHostAttrs(e,n){this._directiveExpr&&(e.length||this._hasInitialValues)&&(this.populateInitialStylingAttrs(e),n.set("hostAttrs",W(e)))}buildClassMapInstruction(e){return this._classMapInput?this._buildMapBasedInstruction(e,!0,this._classMapInput):null}buildStyleMapInstruction(e){return this._styleMapInput?this._buildMapBasedInstruction(e,!1,this._styleMapInput):null}_buildMapBasedInstruction(e,n,r){let s=El,i=r.value.visit(e),o;return i instanceof be?(s+=i.expressions.length,o=n?r0(i):s0(i)):o=n?p.classMap:p.styleMap,{reference:o,calls:[{supportsInterpolation:!0,sourceSpan:r.sourceSpan,allocateBindingSlots:s,params:a=>{let l=a(i);return Array.isArray(l)?l:[l]}}]}}_buildSingleInputs(e,n,r,s,i){let o=[];return n.forEach(a=>{let l=o[o.length-1],c=a.value.visit(r),u=e,h=El;c instanceof be&&(h+=c.expressions.length,s&&(u=s(c)));let d={sourceSpan:a.sourceSpan,allocateBindingSlots:h,supportsInterpolation:!!s,params:g=>{let v=[];v.push(m(a.name));let I=g(c);return Array.isArray(I)?v.push(...I):v.push(I),!i&&a.suffix!==null&&v.push(m(a.suffix)),v}};l&&l.reference===u?l.calls.push(d):o.push({reference:u,calls:[d]})}),o}_buildClassInputs(e){return this._singleClassInputs?this._buildSingleInputs(p.classProp,this._singleClassInputs,e,null,!0):[]}_buildStyleInputs(e){return this._singleStyleInputs?this._buildSingleInputs(p.styleProp,this._singleStyleInputs,e,i0,!1):[]}buildUpdateLevelInstructions(e){let n=[];if(this.hasBindings){let r=this.buildStyleMapInstruction(e);r&&n.push(r);let s=this.buildClassMapInstruction(e);s&&n.push(s),n.push(...this._buildStyleInputs(e)),n.push(...this._buildClassInputs(e))}return n}};function sm(t,e){t.has(e)||t.set(e,t.size)}function im(t){let e=!1,n=t.indexOf(n0);n!==-1&&(t=n>0?t.substring(0,n):"",e=!0);let r=null,s=t,i=t.lastIndexOf(".");return i>0&&(r=t.slice(i+1),s=t.substring(0,i)),{property:s,suffix:r,hasOverrideFlag:e}}function r0(t){switch(As(t)){case 1:return p.classMap;case 3:return p.classMapInterpolate1;case 5:return p.classMapInterpolate2;case 7:return p.classMapInterpolate3;case 9:return p.classMapInterpolate4;case 11:return p.classMapInterpolate5;case 13:return p.classMapInterpolate6;case 15:return p.classMapInterpolate7;case 17:return p.classMapInterpolate8;default:return p.classMapInterpolateV}}function s0(t){switch(As(t)){case 1:return p.styleMap;case 3:return p.styleMapInterpolate1;case 5:return p.styleMapInterpolate2;case 7:return p.styleMapInterpolate3;case 9:return p.styleMapInterpolate4;case 11:return p.styleMapInterpolate5;case 13:return p.styleMapInterpolate6;case 15:return p.styleMapInterpolate7;case 17:return p.styleMapInterpolate8;default:return p.styleMapInterpolateV}}function i0(t){switch(As(t)){case 1:return p.styleProp;case 3:return p.stylePropInterpolate1;case 5:return p.stylePropInterpolate2;case 7:return p.stylePropInterpolate3;case 9:return p.stylePropInterpolate4;case 11:return p.stylePropInterpolate5;case 13:return p.stylePropInterpolate6;case 15:return p.stylePropInterpolate7;case 17:return p.stylePropInterpolate8;default:return p.stylePropInterpolateV}}function o0(t){return t.startsWith("--")}function om(t){return t instanceof Me&&(t=t.ast),t instanceof Ve}var a0="select",l0="ngProjectAs",pp=new Set(["$event"]),Sa="ng-template",Pc=new Map([["window",p.resolveWindow],["document",p.resolveDocument],["body",p.resolveBody]]),c0=[" ",`
`,"\r","	"];function Hr(t,e){return Ri(P(Uo).bitwiseAnd(m(t),null,!1),e)}function rv(t,e=null,n=null){let{type:r,name:s,target:i,phase:o,handler:a}=t;if(i&&!Pc.has(i))throw new Error(`Unexpected global target '${i}' defined for '${s}' event.
        Supported list of global targets: ${Array.from(Pc.keys())}.`);let l="$event",c=new Set,u=n===null||n.bindingLevel===0?P(dt):n.getOrCreateSharedContextVar(0),h=t.type===2?Yx(n,u,a,"b",t.handlerSpan,c,pp):Xx(n,u,a,"b",t.handlerSpan,c,pp),d=[],g=n?.variableDeclarations(),v=n?.restoreViewStatement();if(g&&d.push(...g),d.push(...h),v){d.unshift(v);let ae=d[d.length-1];ae instanceof _e?d[d.length-1]=new _e(ps(ae.value.sourceSpan,p.resetView,[ae.value])):d.push(new je(ps(null,p.resetView,[])))}let I=r===1?jw(s,o):s,x=e&&On(e),N=[];c.has(l)&&N.push(new me(l,en));let B=En(N,d,lt,null,x),j=[m(I),B];return i&&j.push(m(!1),b(Pc.get(i))),j}function u0(){return{prepareStatements:[],constExpressions:[],i18nVarRefsCache:new Map}}var hp=class{constructor(e,n,r,s){this.name=e,this.index=n,this.scope=r,this.visitor=s}getConstCount(){return this.visitor.getConstCount()}getVarCount(){return this.visitor.getVarCount()}},fp=class t{constructor(e,n,r=0,s,i,o,a,l,c,u,h,d,g,v=u0()){this.constantPool=e,this.level=r,this.contextName=s,this.i18nContext=i,this.templateIndex=o,this.templateName=a,this._namespace=l,this.i18nUseExternalIds=u,this.deferBlocks=h,this.elementLocations=d,this.allDeferrableDepsFn=g,this._constants=v,this._dataIndex=0,this._bindingContext=0,this._prefixCode=[],this._creationCodeFns=[],this._updateCodeFns=[],this._currentIndex=0,this._tempVariables=[],this._controlFlowTempVariable=null,this._nestedTemplateFns=[],this.i18n=null,this._pureFunctionSlots=0,this._bindingSlots=0,this._ngContentReservedSlots=[],this._ngContentSelectorsOffset=0,this._implicitReceiverExpr=null,this.visitReference=Ft,this.visitVariable=Ft,this.visitTextAttribute=Ft,this.visitBoundAttribute=Ft,this.visitBoundEvent=Ft,this.visitDeferredTrigger=Ft,this.visitDeferredBlockError=Ft,this.visitDeferredBlockLoading=Ft,this.visitDeferredBlockPlaceholder=Ft,this.visitIfBlockBranch=Ft,this.visitSwitchBlockCase=Ft,this.visitForLoopBlockEmpty=Ft,this.visitUnknownBlock=Ft,this._bindingScope=n.nestedScope(r),this.fileBasedI18nSuffix=c.replace(/[^A-Za-z0-9]/g,"_")+"_",this._valueConverter=new wl(e,()=>this.allocateDataSlot(),I=>this.allocatePureFunctionSlots(I),(I,x,N,B)=>{this._bindingScope.set(this.level,x,B),this.creationInstruction(null,p.pipe,[m(N),m(I)])})}buildTemplateFunction(e,n,r=0,s,i){this._ngContentSelectorsOffset=r,this._namespace!==p.namespaceHTML&&this.creationInstruction(null,this._namespace),n.forEach(v=>{let I=i?.[v.name];this.registerContextVariables(v.name,v.value),I&&this.registerContextVariables(I,v.value)});let o=this.i18nContext||Eo(s)&&!Xi(s)&&!(E0(e)&&e[0].i18n===s),a=kc(e);if(o&&this.i18nStart(null,s,a),Ji(this,e),this._pureFunctionSlots+=this._bindingSlots,this._valueConverter.updatePipeSlotOffsets(this._bindingSlots),this._nestedTemplateFns.forEach(v=>v()),this.level===0&&this._ngContentReservedSlots.length){let v=[];if(this._ngContentReservedSlots.length>1||this._ngContentReservedSlots[0]!=="*"){let I=this._ngContentReservedSlots.map(x=>x!=="*"?Fo(x):x);v.push(this.constantPool.getConstLiteral(un(I),!0))}this.creationInstruction(null,p.projectionDef,v,!0)}o&&this.i18nEnd(null,a);let l=qa(this._creationCodeFns),c=qa(this._updateCodeFns),u=this._bindingScope.viewSnapshotStatements(),h=this._bindingScope.variableDeclarations().concat(this._tempVariables),d=l.length>0?[Hr(1,u.concat(l))]:[],g=c.length>0?[Hr(2,h.concat(c))]:[];return En([new me(Uo,Di),new me(dt,null)],[...this._prefixCode,...d,...g],lt,null,this.templateName)}getLocal(e){return this._bindingScope.get(e)}notifyImplicitReceiverUse(){this._bindingScope.notifyImplicitReceiverUse()}maybeRestoreView(){this._bindingScope.maybeRestoreView()}i18nTranslate(e,n={},r,s){let i=r||this.i18nGenerateMainBlockVar(),o=this.i18nGenerateClosureVar(e.id),a=x0(e,i,o,n,s);return this._constants.prepareStatements.push(...a),i}registerContextVariables(e,n){let r=this._bindingScope.freshReferenceName(),s=this.level,i=n===iu,o=P(e+r);this._bindingScope.set(s,e,a=>i&&a.bindingLevel===s&&!a.isListenerScope()?P(dt):o,1,(a,l)=>{let c;if(a.bindingLevel===s)if(a.isListenerScope()&&a.hasRestoreViewVariable())c=P($m),a.notifyRestoredViewContextUse();else{if(i)return[];c=P(dt)}else{let u=a.getSharedContextName(s);c=u||dp(l)}return[o.set(i?c:c.prop(n||gx)).toConstDecl()]})}i18nAppendBindings(e){e.length>0&&e.forEach(n=>this.i18n.appendBinding(n))}i18nBindProps(e){let n={};return Object.keys(e).forEach(r=>{let s=e[r];if(s instanceof zt)n[r]=m(s.value);else{let i=s.value.visit(this._valueConverter);if(this.allocateBindingSlots(i),i instanceof be){let{strings:o,expressions:a}=i,{id:l,bindings:c}=this.i18n,u=hx(o,c.size,l);this.i18nAppendBindings(a),n[r]=m(u)}}}),n}i18nGenerateMainBlockVar(){return P(this.constantPool.uniqueName(ax))}i18nGenerateClosureVar(e){let n,r=this.fileBasedI18nSuffix.toUpperCase();if(this.i18nUseExternalIds){let s=Va("EXTERNAL_"),i=this.constantPool.uniqueName(r);n=`${s}${On(e)}$$${i}`}else{let s=Va(r);n=this.constantPool.uniqueName(s)}return P(n)}i18nUpdateRef(e){let{icus:n,meta:r,isRoot:s,isResolved:i,isEmitted:o}=e;if(s&&i&&!o&&!Xi(r)){e.isEmitted=!0;let a=e.getSerializedPlaceholders(),l={},c=a.size?kf(a):{};n.size&&n.forEach((d,g)=>{if(d.length===1)c[g]=d[0];else{let v=bl(`${cx}${g}`);c[g]=m(v),l[g]=W(d)}});let u=Array.from(a.values()).some(d=>d.length>1)||Object.keys(l).length,h;u&&(h=d=>{let g=[d];return Object.keys(l).length&&g.push(_o(l,!0)),ps(null,p.i18nPostprocess,g)}),this.i18nTranslate(r,c,e.ref,h)}}i18nStart(e=null,n,r){let s=this.allocateDataSlot();this.i18n=this.i18nContext?this.i18nContext.forkChildContext(s,this.templateIndex,n):new up(s,this.i18nGenerateMainBlockVar(),0,this.templateIndex,n);let{id:i,ref:o}=this.i18n,a=[m(s),this.addToConsts(o)];i>0&&a.push(m(i)),this.creationInstruction(e,r?p.i18n:p.i18nStart,a)}i18nEnd(e=null,n){if(!this.i18n)throw new Error("i18nEnd is executed with no i18n context present");this.i18nContext?(this.i18nContext.reconcileChildContext(this.i18n),this.i18nUpdateRef(this.i18nContext)):this.i18nUpdateRef(this.i18n);let{index:r,bindings:s}=this.i18n;if(s.size){for(let i of s)this.updateInstructionWithAdvance(this.getConstCount()-1,e,p.i18nExp,()=>this.convertPropertyBinding(i));this.updateInstruction(e,p.i18nApply,[m(r)])}n||this.creationInstruction(e,p.i18nEnd),this.i18n=null}i18nAttributesInstruction(e,n,r){let s=!1,i=[];if(n.forEach(o=>{let a=o.i18n,l=o.value.visit(this._valueConverter);if(this.allocateBindingSlots(l),l instanceof be){let c=Fm(a),u=kf(c);i.push(m(o.name),this.i18nTranslate(a,u)),l.expressions.forEach(h=>{s=!0,this.updateInstructionWithAdvance(e,r,p.i18nExp,()=>this.convertPropertyBinding(h))})}}),i.length>0){let o=m(this.allocateDataSlot()),a=this.addToConsts(W(i));this.creationInstruction(r,p.i18nAttributes,[o,a]),s&&this.updateInstruction(r,p.i18nApply,[o])}}getNamespaceInstruction(e){switch(e){case"math":return p.namespaceMathML;case"svg":return p.namespaceSVG;default:return p.namespaceHTML}}addNamespaceInstruction(e,n){this._namespace=e,this.creationInstruction(n.startSourceSpan,e)}interpolatedUpdateInstruction(e,n,r,s,i,o){this.updateInstructionWithAdvance(n,s.sourceSpan,e,()=>[m(r),...this.getUpdateInstructionArguments(i),...o])}visitContent(e){let n=this.allocateDataSlot(),r=this._ngContentSelectorsOffset+this._ngContentReservedSlots.length,s=[m(n)];this._ngContentReservedSlots.push(e.selector);let i=e.attributes.filter(a=>a.name.toLowerCase()!==a0),o=this.getAttributeExpressions(e.name,i,[],[]);o.length>0?s.push(m(r),W(o)):r!==0&&s.push(m(r)),this.creationInstruction(e.sourceSpan,p.projection,s),this.i18n&&this.i18n.appendProjection(e.i18n,n)}visitElement(e){let n=this.allocateDataSlot(),r=new Sl(null);this.elementLocations.set(e,{index:n,level:this.level});let s=!1,i=Eo(e.i18n)&&!Xi(e.i18n),o=[],[a,l]=Et(e.name),c=Xc(e.name);for(let G of e.attributes){let{name:Ke,value:q}=G;Ke===vx?s=!0:Ke==="style"?r.registerStyleAttr(q):Ke==="class"?r.registerClassAttr(q):o.push(G)}let u=[m(n)];c||u.push(m(l));let h=[],d=[];e.inputs.forEach(G=>{r.registerBoundInput(G)||((G.type===0||G.type===5)&&G.i18n?d.push(G):h.push(G))});let g=this.getAttributeExpressions(e.name,o,h,e.outputs,r,[],d);u.push(this.addAttrsToConsts(g));let v=this.prepareRefsArray(e.references);u.push(this.addToConsts(v));let I=this._namespace,x=this.getNamespaceInstruction(a);x!==I&&this.addNamespaceInstruction(x,e),this.i18n&&this.i18n.appendElement(e.i18n,n);let N=!i&&this.i18n?!kc(e.children):e.children.length>0,B=!r.hasBindingsWithPipes&&e.outputs.length===0&&d.length===0&&!N,j=!B&&kc(e.children);if(B)this.creationInstruction(e.sourceSpan,c?p.elementContainer:p.element,$s(u));else{if(this.creationInstruction(e.startSourceSpan,c?p.elementContainerStart:p.elementStart,$s(u)),s&&this.creationInstruction(e.startSourceSpan,p.disableBindings),d.length>0&&this.i18nAttributesInstruction(n,d,e.startSourceSpan??e.sourceSpan),e.outputs.length>0)for(let G of e.outputs)this.creationInstruction(G.sourceSpan,G.type===2?p.twoWayListener:p.listener,this.prepareListenerParameter(e.name,G,n));i&&this.i18nStart(e.startSourceSpan,e.i18n,j)}let ae=r.buildUpdateLevelInstructions(this._valueConverter),pe=ae.length-1;for(let G=0;G<=pe;G++){let Ke=ae[G];this._bindingSlots+=this.processStylingUpdateInstruction(n,Ke)}let pt=m(void 0),ht=[],Ue=[];h.forEach(G=>{let Ke=G.type;if(Ke===4){let q=G.value.visit(this._valueConverter),we=q instanceof at?!!q.value:!0;this.allocateBindingSlots(q),ht.push({span:G.sourceSpan,reference:p.property,paramsOrFn:wa(()=>we?this.convertPropertyBinding(q):pt,Pm(G.name))})}else{if(G.i18n)return;let q=G.value.visit(this._valueConverter);if(q!==void 0){let we=[],[Hn,an]=Et(G.name),Ls=Ke===1,yr=ov(G.securityContext,Ls);if(yr||w0(e.name)&&Lp(G.name)&&(yr=b(p.validateIframeAttribute)),yr&&we.push(yr),Hn){let Rn=m(Hn);yr?we.push(Rn):we.push(m(null),Rn)}if(this.allocateBindingSlots(q),Ke===0||Ke===5)q instanceof be?this.interpolatedUpdateInstruction(cm(q),n,an,G,q,we):ht.push({span:G.sourceSpan,reference:Ke===5?p.twoWayProperty:p.property,paramsOrFn:wa(()=>this.convertPropertyBinding(q),an,we)});else if(Ke===1)if(q instanceof be&&As(q)>1)this.interpolatedUpdateInstruction(g0(q),n,an,G,q,we);else{let Rn=q instanceof be?q.expressions[0]:q;Ue.push({span:G.sourceSpan,paramsOrFn:wa(()=>this.convertPropertyBinding(Rn),an,we)})}else this.updateInstructionWithAdvance(n,G.sourceSpan,p.classProp,()=>[m(n),m(an),this.convertPropertyBinding(q),...we])}}});for(let G of ht)this.updateInstructionWithAdvance(n,G.span,G.reference,G.paramsOrFn);for(let G of Ue)this.updateInstructionWithAdvance(n,G.span,p.attribute,G.paramsOrFn);if(Ji(this,e.children),!i&&this.i18n&&this.i18n.appendElement(e.i18n,n,!0),!B){let G=e.endSourceSpan??e.sourceSpan;i&&this.i18nEnd(G,j),s&&this.creationInstruction(G,p.enableBindings),this.creationInstruction(G,c?p.elementContainerEnd:p.elementEnd)}}prepareEmbeddedTemplateFn(e,n,r=[],s,i){let o=this.allocateDataSlot();this.i18n&&s&&(s instanceof ir?this.i18n.appendBlock(s,o):this.i18n.appendTemplate(s,o));let a=`${this.contextName}${n}_${o}`,l=this.constantPool.uniqueName(`${a}_Template`,!1),c=new t(this.constantPool,this._bindingScope,this.level+1,a,this.i18n,o,l,this._namespace,this.fileBasedI18nSuffix,this.i18nUseExternalIds,this.deferBlocks,this.elementLocations,this.allDeferrableDepsFn,this._constants);return this._nestedTemplateFns.push(()=>{let u=c.buildTemplateFunction(e,r,this._ngContentReservedSlots.length+this._ngContentSelectorsOffset,s,i);this.constantPool.statements.push(u.toDeclStmt(l)),c._ngContentReservedSlots.length&&this._ngContentReservedSlots.push(...c._ngContentReservedSlots)}),new hp(l,o,c._bindingScope,c)}createEmbeddedTemplateFn(e,n,r,s,i=[],o,a,l){let c=this.prepareEmbeddedTemplateFn(n,r,i,l),u=[m(c.index),P(c.name),m(e),this.addAttrsToConsts(o||null)];if(a&&a.length>0){let h=this.prepareRefsArray(a);u.push(this.addToConsts(h)),u.push(b(p.templateRefExtractor))}return this.creationInstruction(s,p.templateCreate,()=>(u.splice(2,0,m(c.getConstCount()),m(c.getVarCount())),$s(u))),c.index}visitTemplate(e){let n=e.tagName?Et(e.tagName)[1]:e.tagName,r=e.tagName?"_"+On(e.tagName):"",s=this.getAttributeExpressions(Sa,e.attributes,e.inputs,e.outputs,void 0,e.templateAttrs),i=this.createEmbeddedTemplateFn(n,e.children,r,e.sourceSpan,e.variables,s,e.references,e.i18n);if(this.templatePropertyBindings(i,e.templateAttrs),n===Sa){let[o,a]=$w(e.inputs,ux);o.length>0&&this.i18nAttributesInstruction(i,o,e.startSourceSpan??e.sourceSpan),a.length>0&&this.templatePropertyBindings(i,a);for(let l of e.outputs)this.creationInstruction(l.sourceSpan,l.type===2?p.twoWayListener:p.listener,this.prepareListenerParameter("ng_template",l,i))}}visitBoundText(e){if(this.i18n){let s=e.value.visit(this._valueConverter);this.allocateBindingSlots(s),s instanceof be&&(this.i18n.appendBoundText(e.i18n),this.i18nAppendBindings(s.expressions));return}let n=this.allocateDataSlot();this.creationInstruction(e.sourceSpan,p.text,[m(n)]);let r=e.value.visit(this._valueConverter);this.allocateBindingSlots(r),r instanceof be?this.updateInstructionWithAdvance(n,e.sourceSpan,v0(r),()=>this.getUpdateInstructionArguments(r)):ka("Text nodes should be interpolated and never bound directly.")}visitText(e){this.i18n||this.creationInstruction(e.sourceSpan,p.text,[m(this.allocateDataSlot()),m(e.value)])}visitIcu(e){let n=!1;this.i18n||(n=!0,this.i18nStart(null,e.i18n,!0));let r=this.i18n,s=this.i18nBindProps(e.vars),i=this.i18nBindProps(e.placeholders),o=e.i18n,a=l=>{let c=Object.fromEntries(Object.entries({...s,...i}).sort()),u=Bo(c,!1);return ps(null,p.i18nPostprocess,[l,_o(u,!0)])};if(Xi(r.meta))this.i18nTranslate(o,{},r.ref,a);else{let l=this.i18nTranslate(o,{},void 0,a);r.appendIcu(Np(o).name,l)}return n&&this.i18nEnd(null,!0),null}visitIfBlock(e){this.allocateBindingSlots(null);let n=e.branches.map((i,o)=>{let{expression:a,expressionAlias:l,children:c,sourceSpan:u}=i,h=l!==null?[new $t(l.name,iu,l.sourceSpan,l.keySpan)]:void 0,d=null,g;if(o===0){let x=this.inferProjectionDataFromInsertionPoint(i);d=x.tagName,g=x.attrsExprs}let v=this.createEmbeddedTemplateFn(d,c,"_Conditional",u,h,g,void 0,i.i18n),I=a===null?null:a.visit(this._valueConverter);return{index:v,expression:I,alias:l}}),r=n[0].index,s=()=>{let i=null,o=l=>{if(l>n.length-1)return m(-1);let{index:c,expression:u,alias:h}=n[l];if(u===null)return m(c);let d;return h?(i=this.allocateControlFlowTempVariable(),d=i.set(this.convertPropertyBinding(u))):d=this.convertPropertyBinding(u),d.conditional(m(c),o(l+1))},a=[m(r),o(0)];return i!==null&&a.push(i),a};this.updateInstructionWithAdvance(r,e.branches[0].sourceSpan,p.conditional,s)}visitSwitchBlock(e){if(e.cases.length===0)return;let n=e.cases.map(i=>{let o=this.createEmbeddedTemplateFn(null,i.children,"_Case",i.sourceSpan,void 0,void 0,void 0,i.i18n),a=i.expression===null?null:i.expression.visit(this._valueConverter);return{index:o,expression:a}}),r=n[0].index,s=e.expression.visit(this._valueConverter);this.allocateBindingSlots(null),this.updateInstructionWithAdvance(r,e.sourceSpan,p.conditional,()=>{let i=o=>{if(o>n.length-1)return m(-1);let{index:a,expression:l}=n[o];return l===null?m(a):(o===0?this.allocateControlFlowTempVariable().set(this.convertPropertyBinding(s)):this.allocateControlFlowTempVariable()).identical(this.convertPropertyBinding(l)).conditional(m(a),i(o+1))};return[m(r),i(0)]})}visitDeferredBlock(e){let{loading:n,placeholder:r,error:s,triggers:i,prefetchTriggers:o}=e,a=this.deferBlocks.get(e);if(!a)throw new Error("Could not resolve `defer` block metadata. Block may need to be analyzed.");let l=this.createEmbeddedTemplateFn(null,e.children,"_Defer",e.sourceSpan,void 0,void 0,void 0,e.i18n),c=n?this.createEmbeddedTemplateFn(null,n.children,"_DeferLoading",n.sourceSpan,void 0,void 0,void 0,n.i18n):null,u=n?$s([m(n.minimumTime),m(n.afterTime)]):null,h=r?this.createEmbeddedTemplateFn(null,r.children,"_DeferPlaceholder",r.sourceSpan,void 0,void 0,void 0,r.i18n):null,d=r&&r.minimumTime!==null?W([m(r.minimumTime)]):null,g=s?this.createEmbeddedTemplateFn(null,s.children,"_DeferError",s.sourceSpan,void 0,void 0,void 0,s.i18n):null,v=this.allocateDataSlot(),I=`${this.contextName}_Defer_${v}_DepsFn`;this.creationInstruction(e.sourceSpan,p.defer,$s([m(v),m(l),this.allDeferrableDepsFn??this.createDeferredDepsFunction(I,a),m(c),m(h),m(g),u?.length?this.addToConsts(W(u)):Wn,d?this.addToConsts(d):Wn,u?.length||d?b(p.deferEnableTimerScheduling):Wn])),this.allocateDataSlot(),this.createDeferTriggerInstructions(v,i,a,!1),this.createDeferTriggerInstructions(v,o,a,!0)}createDeferredDepsFunction(e,n){if(n.deps.length===0)return Wn;let r=[];for(let i of n.deps)if(i.isDeferrable){let o=We([new me("m",en)],P("m").prop(i.isDefaultImport?"default":i.symbolName)),a=new li(i.importPath).prop("then").callFn([o]);r.push(a)}else r.push(i.type);let s=We([],W(r));return this.constantPool.statements.push(s.toDeclStmt(e,Le.Final)),P(e)}createDeferTriggerInstructions(e,n,r,s){let{when:i,idle:o,immediate:a,timer:l,hover:c,interaction:u,viewport:h}=n;if(i){let d=i.value.visit(this._valueConverter);this.allocateBindingSlots(d),this.updateInstructionWithAdvance(e,i.sourceSpan,s?p.deferPrefetchWhen:p.deferWhen,()=>this.convertPropertyBinding(d))}(o||!s&&Object.keys(n).length===0)&&this.creationInstruction(o?.sourceSpan||null,s?p.deferPrefetchOnIdle:p.deferOnIdle),a&&this.creationInstruction(a.sourceSpan,s?p.deferPrefetchOnImmediate:p.deferOnImmediate),l&&this.creationInstruction(l.sourceSpan,s?p.deferPrefetchOnTimer:p.deferOnTimer,[m(l.delay)]),c&&this.domNodeBasedTrigger("hover",c,r,s?p.deferPrefetchOnHover:p.deferOnHover),u&&this.domNodeBasedTrigger("interaction",u,r,s?p.deferPrefetchOnInteraction:p.deferOnInteraction),h&&this.domNodeBasedTrigger("viewport",h,r,s?p.deferPrefetchOnViewport:p.deferOnViewport)}domNodeBasedTrigger(e,n,r,s){let i=r.triggerElements.get(n);i&&this.creationInstruction(n.sourceSpan,s,()=>{let o=this.elementLocations.get(i);if(!o)throw new Error(`Could not determine location of reference passed into '${e}' trigger. Template may not have been fully analyzed.`);let a=Math.max(this.level-o.level,-1),l=[m(o.index)];return a!==0&&l.push(m(a)),l})}inferProjectionDataFromInsertionPoint(e){let n=null,r=null,s;for(let i of e.children)if(!(i instanceof ui)){if(n!==null){n=null;break}(i instanceof oe||i instanceof ce&&i.tagName!==null)&&(n=i)}if(n!==null){let i=n instanceof oe?n.name:n.tagName;r=i===Sa?null:i,s=this.getAttributeExpressions(Sa,n.attributes,n.inputs,[])}return{tagName:r,attrsExprs:s}}allocateDataSlot(){return this._dataIndex++}visitForLoopBlock(e){let n=this.allocateDataSlot(),{tagName:r,attrsExprs:s}=this.inferProjectionDataFromInsertionPoint(e),i=this.prepareEmbeddedTemplateFn(e.children,"_For",[e.item,e.contextVariables.$index,e.contextVariables.$count],e.i18n,{[e.contextVariables.$index.name]:this.getLevelSpecificVariableName("$index",this.level+1),[e.contextVariables.$count.name]:this.getLevelSpecificVariableName("$count",this.level+1)}),{expression:o,usesComponentInstance:a}=this.createTrackByFunction(e),l=null,c=null,u;if(e.empty!==null){let d=this.inferProjectionDataFromInsertionPoint(e.empty);c=d.tagName,u=d.attrsExprs,l=this.prepareEmbeddedTemplateFn(e.empty.children,"_ForEmpty",void 0,e.empty.i18n),this.allocateBindingSlots(null)}this.registerComputedLoopVariables(e,i.scope),this.creationInstruction(e.sourceSpan,p.repeaterCreate,()=>{let d=[m(n),P(i.name),m(i.getConstCount()),m(i.getVarCount()),m(r),this.addAttrsToConsts(s||null),o];return l!==null?d.push(m(a),P(l.name),m(l.getConstCount()),m(l.getVarCount()),m(c),this.addAttrsToConsts(u||null)):a&&d.push(m(a)),$s(d)});let h=e.expression.visit(this._valueConverter);this.updateInstructionWithAdvance(n,e.sourceSpan,p.repeater,()=>[this.convertPropertyBinding(h)])}registerComputedLoopVariables(e,n){let r=n.bindingLevel;n.set(r,e.contextVariables.$odd.name,(s,i)=>this.getLevelSpecificForLoopVariable(e,s,i,"$index").modulo(m(2)).notIdentical(m(0))),n.set(r,e.contextVariables.$even.name,(s,i)=>this.getLevelSpecificForLoopVariable(e,s,i,"$index").modulo(m(2)).identical(m(0))),n.set(r,e.contextVariables.$first.name,(s,i)=>this.getLevelSpecificForLoopVariable(e,s,i,"$index").identical(m(0))),n.set(r,e.contextVariables.$last.name,(s,i)=>{let o=this.getLevelSpecificForLoopVariable(e,s,i,"$index"),a=this.getLevelSpecificForLoopVariable(e,s,i,"$count");return o.identical(a.minus(m(1)))})}getLevelSpecificVariableName(e,n){return`\u0275${e}_${n}`}getLevelSpecificForLoopVariable(e,n,r,s){let i=n.bindingLevel===r?e.contextVariables[s].name:this.getLevelSpecificVariableName(s,r);return n.get(i)}optimizeTrackByFunction(e){let n=e.contextVariables.$index.name,r=e.item.name,s=e.trackBy.ast;if(s instanceof de&&s.receiver instanceof xe&&s.name===n)return{expression:b(p.repeaterTrackByIndex),usesComponentInstance:!1};if(s instanceof de&&s.receiver instanceof xe&&s.name===r)return{expression:b(p.repeaterTrackByIdentity),usesComponentInstance:!1};if(s instanceof kt&&s.receiver instanceof de&&s.receiver.receiver instanceof xe&&s.args.length===2){let i=s.args[0]instanceof de&&s.args[0].receiver instanceof xe&&s.args[0].name===n,o=s.args[1]instanceof de&&s.args[1].receiver instanceof xe&&s.args[1].name===r;if(i&&o)return{expression:(this.level===0?P(dt):new Oe(p.componentInstance).callFn([])).prop(s.receiver.name),usesComponentInstance:!1}}return null}createTrackByFunction(e){let n=this.optimizeTrackByFunction(e);if(n!==null)return n;let r=e.contextVariables,s=new mp(this._bindingScope,{[r.$index.name]:"$index",[e.item.name]:"$item",[r.$count.name]:r.$count.name,[r.$first.name]:r.$first.name,[r.$last.name]:r.$last.name,[r.$even.name]:r.$even.name,[r.$odd.name]:r.$odd.name}),i=[new me("$index"),new me("$item")],o=Jx(e.trackBy.ast,s,P(dt),"track"),a=s.getComponentAccessCount()>0,l;if(!a&&o.length===1&&o[0]instanceof je)l=We(i,o[0].expr);else{if(o.length>0){let c=o[o.length-1];c instanceof je&&(o[o.length-1]=new _e(c.expr))}l=En(i,o)}return{expression:this.constantPool.getSharedFunctionReference(l,"_forTrack"),usesComponentInstance:a}}getConstCount(){return this._dataIndex}getVarCount(){return this._pureFunctionSlots}getConsts(){return this._constants}getNgContentSelectors(){return this._ngContentReservedSlots.length?this.constantPool.getConstLiteral(un(this._ngContentReservedSlots),!0):null}bindingContext(){return`${this._bindingContext++}`}templatePropertyBindings(e,n){let r=[];for(let s of n){if(!(s instanceof Jt))continue;let i=s.value.visit(this._valueConverter);if(i!==void 0)if(this.allocateBindingSlots(i),i instanceof be){let o=[];this.interpolatedUpdateInstruction(cm(i),e,s.name,s,i,o)}else r.push({span:s.sourceSpan,paramsOrFn:wa(()=>this.convertPropertyBinding(i),s.name)})}for(let s of r)this.updateInstructionWithAdvance(e,s.span,p.property,s.paramsOrFn)}instructionFn(e,n,r,s,i=!1){e[i?"unshift":"push"]({span:n,reference:r,paramsOrFn:s})}processStylingUpdateInstruction(e,n){let r=0;if(n)for(let s of n.calls)r+=s.allocateBindingSlots,this.updateInstructionWithAdvance(e,s.sourceSpan,n.reference,()=>s.params(i=>s.supportsInterpolation&&i instanceof be?this.getUpdateInstructionArguments(i):this.convertPropertyBinding(i)));return r}creationInstruction(e,n,r,s){this.instructionFn(this._creationCodeFns,e,n,r||[],s)}updateInstructionWithAdvance(e,n,r,s){this.addAdvanceInstructionIfNecessary(e,n),this.updateInstruction(n,r,s)}updateInstruction(e,n,r){this.instructionFn(this._updateCodeFns,e,n,r||[])}addAdvanceInstructionIfNecessary(e,n){if(e!==this._currentIndex){let r=e-this._currentIndex;if(r<1)throw new Error("advance instruction can only go forwards");this.instructionFn(this._updateCodeFns,n,p.advance,r>1?[m(r)]:[]),this._currentIndex=e}}allocatePureFunctionSlots(e){let n=this._pureFunctionSlots;return this._pureFunctionSlots+=e,n}allocateBindingSlots(e){this._bindingSlots+=e instanceof be?e.expressions.length:1}getImplicitReceiverExpr(){return this._implicitReceiverExpr?this._implicitReceiverExpr:this._implicitReceiverExpr=this.level===0?P(dt):this._bindingScope.getOrCreateSharedContextVar(0)}convertPropertyBinding(e){let n=sg(this,this.getImplicitReceiverExpr(),e,this.bindingContext()),r=n.currValExpr;return this._tempVariables.push(...n.stmts),r}getUpdateInstructionArguments(e){let{args:n,stmts:r}=Zx(this,this.getImplicitReceiverExpr(),e,this.bindingContext());return this._tempVariables.push(...r),n}allocateControlFlowTempVariable(){if(this._controlFlowTempVariable===null){let e=`${this.contextName}_contFlowTmp`;this._tempVariables.push(new nt(e)),this._controlFlowTempVariable=P(e)}return this._controlFlowTempVariable}getAttributeExpressions(e,n,r,s,i,o=[],a=[]){let l=new Set,c=[],u;for(let d of n)if(d.name===l0&&(u=d),d.i18n){let{i18nVarRefsCache:g}=this._constants,v;g.has(d.i18n)?v=g.get(d.i18n):(v=this.i18nTranslate(d.i18n),g.set(d.i18n,v)),c.push(m(d.name),v)}else c.push(...lm(d.name),y0(e,d));u&&c.push(...m0(u));function h(d,g){typeof d=="string"?l.has(d)||(c.push(...lm(d)),g!==void 0&&c.push(g),l.add(d)):c.push(m(d))}if(i&&i.populateInitialStylingAttrs(c),r.length||s.length){let d=c.length;for(let g=0;g<r.length;g++){let v=r[g];v.type!==4&&v.type!==1&&h(v.name)}for(let g=0;g<s.length;g++){let v=s[g];v.type!==1&&h(v.name)}c.length!==d&&c.splice(d,0,m(3))}return o.length&&(c.push(m(4)),o.forEach(d=>h(d.name))),a.length&&(c.push(m(6)),a.forEach(d=>h(d.name))),c}addToConsts(e){if(bp(e))return Wn;let n=this._constants.constExpressions;for(let r=0;r<n.length;r++)if(n[r].isEquivalent(e))return m(r);return m(n.push(e)-1)}addAttrsToConsts(e){return e!==null&&e.length>0?this.addToConsts(W(e)):Wn}prepareRefsArray(e){if(!e||e.length===0)return Wn;let n=e.flatMap(r=>{let s=this.allocateDataSlot(),i=this._bindingScope.freshReferenceName(),o=this.level,a=P(i);return this._bindingScope.set(o,r.name,a,0,(l,c)=>{let u=c>0?[dp(c).toStmt()]:[],h=a.set(b(p.reference).callFn([m(s)]));return u.concat(h.toConstDecl())},!0),[r.name,r.value]});return un(n)}prepareListenerParameter(e,n,r){return()=>{let s=n.name,i=n.type===1?Mm(s,n.phase):On(s),o=`${this.templateName}_${e}_${i}_${r}_listener`,a=this._bindingScope.nestedScope(this._bindingScope.bindingLevel,pp);return rv(n,o,a)}}},wl=class extends gu{constructor(e,n,r,s){super(),this.constantPool=e,this.allocateSlot=n,this.allocatePureFunctionSlots=r,this.definePipe=s,this._pipeBindExprs=[]}visitPipe(e,n){let r=this.allocateSlot(),s=`PIPE:${r}`,i=this.allocatePureFunctionSlots(2+e.args.length),o=new de(e.span,e.sourceSpan,e.nameSpan,new xe(e.span,e.sourceSpan),s),{identifier:a,isVarLength:l}=h0(e.args);this.definePipe(e.name,s,r,b(a));let c=[e.exp,...e.args],u=l?this.visitAll([new vs(e.span,e.sourceSpan,c)]):this.visitAll(c),h=new kt(e.span,e.sourceSpan,o,[new at(e.span,e.sourceSpan,r),new at(e.span,e.sourceSpan,i),...u],null);return this._pipeBindExprs.push(h),h}updatePipeSlotOffsets(e){this._pipeBindExprs.forEach(n=>{let r=n.args[1];r.value+=e})}visitLiteralArray(e,n){return new br(e.span,e.sourceSpan,this.visitAll(e.expressions),r=>{let s=W(r);return am(this.constantPool,s,this.allocatePureFunctionSlots)})}visitLiteralMap(e,n){return new br(e.span,e.sourceSpan,this.visitAll(e.values),r=>{let s=Fe(r.map((i,o)=>({key:e.keys[o].key,value:i,quoted:e.keys[o].quoted})));return am(this.constantPool,s,this.allocatePureFunctionSlots)})}},p0=[p.pipeBind1,p.pipeBind2,p.pipeBind3,p.pipeBind4];function h0(t){let e=p0[t.length];return{identifier:e||p.pipeBindV,isVarLength:!e}}var f0=[p.pureFunction0,p.pureFunction1,p.pureFunction2,p.pureFunction3,p.pureFunction4,p.pureFunction5,p.pureFunction6,p.pureFunction7,p.pureFunction8];function d0(t){let e=f0[t.length];return{identifier:e||p.pureFunctionV,isVarLength:!e}}function dp(t){return b(p.nextContext).callFn(t>1?[m(t)]:[])}function am(t,e,n){let{literalFactory:r,literalFactoryArguments:s}=t.getLiteralFactory(e),i=n(1+s.length),{identifier:o,isVarLength:a}=d0(s),l=[m(i),r];return a?l.push(W(s)):l.push(...s),b(o).callFn(l)}function lm(t){let[e,n]=Et(t),r=m(n);return e?[m(0),m(e),r]:[r]}var Gs="$$shared_ctx$$",xl=class t{static createRootScope(){return new t}constructor(e=0,n=null,r){if(this.bindingLevel=e,this.parent=n,this.globals=r,this.map=new Map,this.referenceNameIndex=0,this.restoreViewVariable=null,this.usesRestoredViewContext=!1,r!==void 0)for(let s of r)this.set(0,s,P(s))}get(e){let n=this;for(;n;){let r=n.map.get(e);if(r!=null)return n!==this&&(r={retrievalLevel:r.retrievalLevel,lhs:r.lhs,declareLocalCallback:r.declareLocalCallback,declare:!1,priority:r.priority},this.map.set(e,r),this.maybeGenerateSharedContextVar(r),this.maybeRestoreView()),r.declareLocalCallback&&!r.declare&&(r.declare=!0),typeof r.lhs=="function"?r.lhs(this,r.retrievalLevel):r.lhs;n=n.parent}return this.bindingLevel===0?null:this.getComponentProperty(e)}hasLocal(e){return this.map.has(e)}set(e,n,r,s=0,i,o){if(this.map.has(n)){if(o)return this;ka(`The name ${n} is already defined in scope to be ${this.map.get(n)}`)}return this.map.set(n,{retrievalLevel:e,lhs:r,declare:!1,declareLocalCallback:i,priority:s}),this}getLocal(e){return this.get(e)}notifyImplicitReceiverUse(){this.bindingLevel!==0&&(this.map.get(Gs+0).declare=!0)}nestedScope(e,n){let r=new t(e,this,n);return e>0&&r.generateSharedContextVar(0),r}getOrCreateSharedContextVar(e){let n=Gs+e;return this.map.has(n)||this.generateSharedContextVar(e),this.map.get(n).lhs}getSharedContextName(e){let n=this.map.get(Gs+e);return n&&n.declare?n.lhs:null}maybeGenerateSharedContextVar(e){if(e.priority===1&&e.retrievalLevel<this.bindingLevel){let n=this.map.get(Gs+e.retrievalLevel);n?n.declare=!0:this.generateSharedContextVar(e.retrievalLevel)}}generateSharedContextVar(e){let n=P(dt+this.freshReferenceName());this.map.set(Gs+e,{retrievalLevel:e,lhs:n,declareLocalCallback:(r,s)=>[n.set(dp(s)).toConstDecl()],declare:!1,priority:2})}getComponentProperty(e){let n=this.map.get(Gs+0);n.declare=!0,this.maybeRestoreView();let r=typeof n.lhs=="function"?n.lhs(this,n.retrievalLevel):n.lhs;return e===iu?r:r.prop(e)}maybeRestoreView(){this.isListenerScope()&&(this.parent.restoreViewVariable||(this.parent.restoreViewVariable=P(this.parent.freshReferenceName())),this.restoreViewVariable=this.parent.restoreViewVariable)}restoreViewStatement(){if(this.restoreViewVariable){let e=ps(null,p.restoreView,[this.restoreViewVariable]);return this.usesRestoredViewContext?P($m).set(e).toConstDecl():e.toStmt()}return null}viewSnapshotStatements(){return this.restoreViewVariable?[this.restoreViewVariable.set(ps(null,p.getCurrentView,[])).toConstDecl()]:[]}isListenerScope(){return this.parent&&this.parent.bindingLevel===this.bindingLevel}variableDeclarations(){let e=0;return Array.from(this.map.values()).filter(n=>n.declare).sort((n,r)=>r.retrievalLevel-n.retrievalLevel||r.priority-n.priority).reduce((n,r)=>{let s=this.bindingLevel-r.retrievalLevel,i=r.declareLocalCallback(this,s-e);return e=s,n.concat(i)},[])}freshReferenceName(){let e=this;for(;e.parent;)e=e.parent;return`${mx}${e.referenceNameIndex++}`}hasRestoreViewVariable(){return!!this.restoreViewVariable}notifyRestoredViewContextUse(){this.usesRestoredViewContext=!0}},mp=class extends xl{constructor(e,n){super(e.bindingLevel+1,e),this.globalOverrides=n,this.componentAccessCount=0}get(e){if(this.globalOverrides.hasOwnProperty(e))return P(this.globalOverrides[e]);let n=this.parent;for(;n;){if(n.hasLocal(e))return null;n=n.parent}return this.componentAccessCount++,P("this").prop(e)}getComponentAccessCount(){return this.componentAccessCount}};function m0(t){let e=Fo(t.value)[0];return[m(5),un(e)]}function cm(t){switch(As(t)){case 1:return p.propertyInterpolate;case 3:return p.propertyInterpolate1;case 5:return p.propertyInterpolate2;case 7:return p.propertyInterpolate3;case 9:return p.propertyInterpolate4;case 11:return p.propertyInterpolate5;case 13:return p.propertyInterpolate6;case 15:return p.propertyInterpolate7;case 17:return p.propertyInterpolate8;default:return p.propertyInterpolateV}}function g0(t){switch(As(t)){case 3:return p.attributeInterpolate1;case 5:return p.attributeInterpolate2;case 7:return p.attributeInterpolate3;case 9:return p.attributeInterpolate4;case 11:return p.attributeInterpolate5;case 13:return p.attributeInterpolate6;case 15:return p.attributeInterpolate7;case 17:return p.attributeInterpolate8;default:return p.attributeInterpolateV}}function v0(t){switch(As(t)){case 1:return p.textInterpolate;case 3:return p.textInterpolate1;case 5:return p.textInterpolate2;case 7:return p.textInterpolate3;case 9:return p.textInterpolate4;case 11:return p.textInterpolate5;case 13:return p.textInterpolate6;case 15:return p.textInterpolate7;case 17:return p.textInterpolate8;default:return p.textInterpolateV}}function sv(t,e,n={}){let{interpolationConfig:r,preserveWhitespaces:s,enableI18nLegacyMessageIdFormat:i}=n,o=Ni(r),l=new vl().parse(t,e,{leadingTriviaChars:c0,...n,tokenizeExpansionForms:!0,tokenizeBlocks:n.enableBlockSyntax??!0});if(!n.alwaysAttemptHtmlToR3AstConversion&&l.errors&&l.errors.length>0){let j={interpolationConfig:r,preserveWhitespaces:s,errors:l.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(j.commentNodes=[]),j}let c=l.rootNodes,u=new dl(r,!s,i),h=u.visitAllWithErrors(c);if(!n.alwaysAttemptHtmlToR3AstConversion&&h.errors&&h.errors.length>0){let j={interpolationConfig:r,preserveWhitespaces:s,errors:h.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(j.commentNodes=[]),j}c=h.rootNodes,s||(c=Ae(new np,c),u.hasI18nMeta&&(c=Ae(new dl(r,!1),c)));let{nodes:d,errors:g,styleUrls:v,styles:I,ngContentSelectors:x,commentNodes:N}=XD(c,o,{collectCommentNodes:!!n.collectCommentNodes});g.push(...l.errors,...h.errors);let B={interpolationConfig:r,preserveWhitespaces:s,errors:g.length>0?g:null,nodes:d,styleUrls:v,styles:I,ngContentSelectors:x};return n.collectCommentNodes&&(B.commentNodes=N),B}var iv=new An;function Ni(t=Wt){return new rp(new ll(new Ro),t,iv,[])}function ov(t,e){switch(t){case ne.HTML:return b(p.sanitizeHtml);case ne.SCRIPT:return b(p.sanitizeScript);case ne.STYLE:return e?b(p.sanitizeStyle):null;case ne.URL:return b(p.sanitizeUrl);case ne.RESOURCE_URL:return b(p.sanitizeResourceUrl);default:return null}}function y0(t,e){let n=un(e.value);if(Ng(t,e.name))switch(iv.securityContext(t,e.name,!0)){case ne.HTML:return Ra(b(p.trustConstantHtml),new oi([new ai(e.value)],[]),void 0,e.valueSpan);case ne.RESOURCE_URL:return Ra(b(p.trustConstantResourceUrl),new oi([new ai(e.value)],[]),void 0,e.valueSpan);default:return n}else return n}function E0(t){return t.length===1&&t[0]instanceof oe}function S0(t){return t instanceof zt||t instanceof Bn||t instanceof us}function w0(t){return t.toLowerCase()==="iframe"}function kc(t){return t.every(S0)}function wa(t,e,n){return()=>{let r=t(),s=Array.isArray(r)?r:[r];return n&&s.push(...n),e&&s.unshift(m(e)),s}}var um="ngI18nClosureMode";function x0(t,e,n,r={},s){r=Object.fromEntries(Object.entries(r).sort());let i=[Bm(e),Ri(T0(),Dg(e,t,n,r),_g(e,t,Bo(r,!1)))];return s&&i.push(new je(e.set(s(e)))),i}function T0(){return _i(P(um)).notIdentical(m("undefined",Il)).and(P(um))}function I0(t){return(t.descendants?1:0)|(t.static?2:0)|(t.emitDistinctChangesOnly?4:0)}function C0(t,e){if(Array.isArray(t.predicate)){let n=[];return t.predicate.forEach(r=>{let s=r.split(",").map(i=>m(i.trim()));n.push(...s)}),e.getConstLiteral(W(n),!0)}else switch(t.predicate.forwardRef){case 0:case 2:return t.predicate.expression;case 1:return b(p.resolveForwardRef).callFn([t.predicate.expression])}}function av(t,e,n,r){let s=[];r!==void 0&&s.push(...r),t.isSignal&&s.push(new tt(P(dt),t.propertyName)),s.push(C0(t,e),m(I0(t))),t.read&&s.push(t.read);let i=t.isSignal?n.signalBased:n.nonSignal;return b(i).callFn(s)}var Kp=Symbol("queryAdvancePlaceholder");function lv(t){let e=[],n=0,r=()=>{n>0&&(e.unshift(b(p.queryAdvance).callFn(n===1?[]:[m(n)]).toStmt()),n=0)};for(let s=t.length-1;s>=0;s--){let i=t[s];i===Kp?n++:(r(),e.unshift(i))}return r(),e}function A0(t,e,n){let r=[],s=[],i=Um(a=>s.push(a),Dp);t.forEach(a=>{let l=av(a,e,{signalBased:p.viewQuerySignal,nonSignal:p.viewQuery});if(r.push(l.toStmt()),a.isSignal){s.push(Kp);return}let c=i(),u=b(p.loadQuery).callFn([]),h=b(p.queryRefresh).callFn([c.set(u)]),d=P(dt).prop(a.propertyName).set(a.first?c.prop("first"):c);s.push(h.and(d).toStmt())});let o=n?`${n}_Query`:null;return En([new me(Uo,Di),new me(dt,null)],[Hr(1,r),Hr(2,lv(s))],lt,null,o)}function b0(t,e,n){let r=[],s=[],i=Um(a=>s.push(a),Dp);for(let a of t){if(r.push(av(a,e,{nonSignal:p.contentQuery,signalBased:p.contentQuerySignal},[P("dirIndex")]).toStmt()),a.isSignal){s.push(Kp);continue}let l=i(),c=b(p.loadQuery).callFn([]),u=b(p.queryRefresh).callFn([l.set(c)]),h=P(dt).prop(a.propertyName).set(a.first?l.prop("first"):l);s.push(u.and(h).toStmt())}let o=n?`${n}_ContentQueries`:null;return En([new me(Uo,Di),new me(dt,null),new me("dirIndex",null)],[Hr(1,r),Hr(2,lv(s))],lt,null,o)}var N0=/attr\.([^\]]+)/,cv="%COMP%",D0=`_nghost-${cv}`,_0=`_ngcontent-${cv}`;function uv(t,e,n){let r=new Mr,s=Fo(t.selector);return r.set("type",t.type.value),s.length>0&&r.set("selectors",un(s)),t.queries.length>0&&r.set("contentQueries",b0(t.queries,e,t.name)),t.viewQueries.length&&r.set("viewQuery",A0(t.viewQueries,e,t.name)),r.set("hostBindings",B0(t.host,t.typeSourceSpan,n,e,t.selector||"",t.name,r)),r.set("inputs",Mf(t.inputs,!0)),r.set("outputs",Mf(t.outputs)),t.exportAs!==null&&r.set("exportAs",W(t.exportAs.map(i=>m(i)))),t.isStandalone&&r.set("standalone",m(!0)),t.isSignal&&r.set("signals",m(!0)),r}function pv(t,e){let n=[],r=e.providers,s=e.viewProviders,i=Object.keys(e.inputs);if(r||s){let o=[r||new xt([])];s&&o.push(s),n.push(b(p.ProvidersFeature).callFn(o))}for(let o of i)if(e.inputs[o].transformFunction!==null){n.push(b(p.InputTransformsFeatureFeature));break}e.hostDirectives?.length&&n.push(b(p.HostDirectivesFeature).callFn([H0(e.hostDirectives)])),e.usesInheritance&&n.push(b(p.InheritDefinitionFeature)),e.fullInheritance&&n.push(b(p.CopyDefinitionFeature)),e.lifecycle.usesOnChanges&&n.push(b(p.NgOnChangesFeature)),e.hasOwnProperty("template")&&e.isStandalone&&n.push(b(p.StandaloneFeature)),n.length&&t.set("features",W(n))}function hv(t,e,n){let r=uv(t,e,n);pv(r,t);let s=b(p.defineDirective).callFn([r.toLiteralMap()],void 0,!0),i=F0(t);return{expression:s,type:i,statements:[]}}function R0(t,e,n){let r=[];for(let[i,{importPath:o,isDefaultImport:a}]of n){let l=We([new me("m",en)],P("m").prop(a?"default":i)),c=new li(o).prop("then").callFn([l]);r.push(c)}let s=We([],W(r));return t.statements.push(s.toDeclStmt(e,Le.Final)),P(e)}function fv(t,e,n){let r=uv(t,e,n);pv(r,t);let s=t.selector&&mn.parse(t.selector),i=s&&s[0];if(i){let h=i.getAttrs();h.length&&r.set("attrs",e.getConstLiteral(W(h.map(d=>d!=null?m(d):m(void 0))),!0))}let o=t.name,a=o?`${o}_Template`:null,l=null;if(t.deferBlocks.size>0&&t.deferrableTypes.size>0&&t.deferBlockDepsEmitMode===1){let h=`${o}_DeferFn`;l=R0(e,h,t.deferrableTypes)}if(!zg&&!t.useTemplatePipeline){let h=t.template,d=new fp(e,xl.createRootScope(),0,o,null,null,a,p.namespaceHTML,t.relativeContextFilePath,t.i18nUseExternalIds,t.deferBlocks,new Map,l),g=d.buildTemplateFunction(h.nodes,[]),v=d.getNgContentSelectors();v&&r.set("ngContentSelectors",v),r.set("decls",m(d.getConstCount())),r.set("vars",m(d.getVarCount()));let{constExpressions:I,prepareStatements:x}=d.getConsts();if(I.length>0){let N=W(I);x.length>0&&(N=We([],[...x,new _e(N)])),r.set("consts",N)}r.set("template",g)}else{let h=PN(t.name,t.template.nodes,e,t.relativeContextFilePath,t.i18nUseExternalIds,t.deferBlocks,l);$g(h,_.Tmpl);let d=_N(h,e);h.contentSelectors!==null&&r.set("ngContentSelectors",h.contentSelectors),r.set("decls",m(h.root.decls)),r.set("vars",m(h.root.vars)),h.consts.length>0&&(h.constsInitializers.length>0?r.set("consts",We([],[...h.constsInitializers,new _e(W(h.consts))])):r.set("consts",W(h.consts))),r.set("template",d)}if(t.declarationListEmitMode!==3&&t.declarations.length>0)r.set("dependencies",k0(W(t.declarations.map(h=>h.type)),t.declarationListEmitMode));else if(t.declarationListEmitMode===3){let h=[t.type.value];t.rawImports&&h.push(t.rawImports),r.set("dependencies",b(p.getComponentDepsFactory).callFn(h))}if(t.encapsulation===null&&(t.encapsulation=Pn.Emulated),t.styles&&t.styles.length){let d=(t.encapsulation==Pn.Emulated?G0(t.styles,_0,D0):t.styles).reduce((g,v)=>(v.trim().length>0&&g.push(e.getConstLiteral(m(v))),g),[]);d.length>0&&r.set("styles",W(d))}else t.encapsulation===Pn.Emulated&&(t.encapsulation=Pn.None);t.encapsulation!==Pn.Emulated&&r.set("encapsulation",m(t.encapsulation)),t.animations!==null&&r.set("data",Fe([{key:"animation",value:t.animations,quoted:!1}])),t.changeDetection!==null&&(typeof t.changeDetection=="number"&&t.changeDetection!==Aa.Default?r.set("changeDetection",m(t.changeDetection)):typeof t.changeDetection=="object"&&r.set("changeDetection",t.changeDetection));let c=b(p.defineComponent).callFn([r.toLiteralMap()],void 0,!0),u=P0(t);return{expression:c,type:u,statements:[]}}function P0(t){let e=dv(t);return e.push(vp(t.template.ngContentSelectors)),e.push(He(m(t.isStandalone))),e.push(vv(t)),t.isSignal&&e.push(He(m(t.isSignal))),He(b(p.ComponentDeclaration,e))}function k0(t,e){switch(e){case 0:return t;case 1:return We([],t);case 2:let n=t.prop("map").callFn([b(p.resolveForwardRef)]);return We([],n);case 3:throw new Error("Unsupported with an array of pre-resolved dependencies")}}function M0(t){let e=[];for(let n of Object.getOwnPropertyNames(t)){let r=t[n];e.push(m(n),r)}return e}function L0(t){return He(m(t))}function gp(t){let e=Object.keys(t).map(n=>{let r=Array.isArray(t[n])?t[n][0]:t[n];return{key:n,value:m(r),quoted:!0}});return Fe(e)}function vp(t){return t.length>0?He(W(t.map(e=>m(e)))):vn}function dv(t){let e=t.selector!==null?t.selector.replace(/\n/g,""):null;return[Al(t.type.type,t.typeArgumentCount),e!==null?L0(e):vn,t.exportAs!==null?vp(t.exportAs):vn,He(O0(t)),He(gp(t.outputs)),vp(t.queries.map(n=>n.propertyName))]}function O0(t){return Fe(Object.keys(t.inputs).map(e=>{let n=t.inputs[e],r=[{key:"alias",value:m(n.bindingPropertyName),quoted:!0},{key:"required",value:m(n.required),quoted:!0}];return n.isSignal&&r.push({key:"isSignal",value:m(n.isSignal),quoted:!0}),{key:e,value:Fe(r),quoted:!0}}))}function F0(t){let e=dv(t);return e.push(vn),e.push(He(m(t.isStandalone))),e.push(vv(t)),t.isSignal&&e.push(He(m(t.isSignal))),He(b(p.DirectiveDeclaration,e))}function B0(t,e,n,r,s,i,o){let a=n.createBoundHostProperties(t.properties,e),l=n.createDirectiveHostEventAsts(t.listeners,e);if(zg||t.useTemplatePipeline){t.specialAttributes.styleAttr&&(t.attributes.style=m(t.specialAttributes.styleAttr)),t.specialAttributes.classAttr&&(t.attributes.class=m(t.specialAttributes.classAttr));let q=kN({componentName:i,componentSelector:s,properties:a,events:l,attributes:t.attributes},n,r);$g(q,_.Host),o.set("hostAttrs",q.root.attributes);let we=q.root.vars;return we!==null&&we>0&&o.set("hostVars",m(we)),RN(q)}let c=0,u=()=>`${c++}`,h=P(dt),d=new Sl(h),{styleAttr:g,classAttr:v}=t.specialAttributes;g!==void 0&&d.registerStyleAttr(g),v!==void 0&&d.registerClassAttr(v);let I=[],x=[],N=[],B=e;l&&l.length&&I.push(...V0(l,i));let j=[],ae=0;a&&a.forEach(q=>{d.registerInputBasedOnName(q.name,q.expression,B)?ae+=El:(j.push(q),ae++)});let pe,pt=()=>{if(!pe){let q=we=>{let Hn=ae;return ae+=we,Hn};pe=new wl(r,()=>ka("Unexpected node"),q,()=>ka("Unexpected pipe"))}return pe},ht=[],Ue=[],G=[];for(let q of j){let we=q.expression.visit(pt()),Hn=pm(h,we,u),{bindingName:an,instruction:Ls,isAttribute:yr}=U0(q),Rn=n.calcPossibleSecurityContexts(s,an,yr).filter(WS=>WS!==ne.NONE),aa=null;Rn.length&&(Rn.length===2&&Rn.indexOf(ne.URL)>-1&&Rn.indexOf(ne.RESOURCE_URL)>-1?aa=b(p.sanitizeUrlOrResourceUrl):aa=ov(Rn[0],yr));let Os=[m(an),Hn.currValExpr];aa?Os.push(aa):Lp(an)&&Os.push(b(p.validateIframeAttribute)),N.push(...Hn.stmts),Ls===p.hostProperty?ht.push(Os):Ls===p.attribute?Ue.push(Os):Ls===p.syntheticHostProperty?G.push(Os):x.push({reference:Ls,paramsOrFn:Os,span:null})}for(let q of ht)x.push({reference:p.hostProperty,paramsOrFn:q,span:null});for(let q of Ue)x.push({reference:p.attribute,paramsOrFn:q,span:null});for(let q of G)x.push({reference:p.syntheticHostProperty,paramsOrFn:q,span:null});let Ke=M0(t.attributes);if(d.assignHostAttrs(Ke,o),d.hasBindings&&d.buildUpdateLevelInstructions(pt()).forEach(q=>{for(let we of q.calls){ae+=Math.max(we.allocateBindingSlots-El,0);let{params:Hn,stmts:an}=$0(we,h,pm,u);N.push(...an),x.push({reference:q.reference,paramsOrFn:Hn,span:null})}}),ae&&o.set("hostVars",m(ae)),I.length>0||x.length>0){let q=i?`${i}_HostBindings`:null,we=[];return I.length>0&&we.push(Hr(1,qa(I))),x.length>0&&we.push(Hr(2,N.concat(qa(x)))),En([new me(Uo,Di),new me(dt,null)],we,lt,null,q)}return null}function pm(t,e,n){return sg(null,t,e,n())}function $0(t,e,n,r){let s=[];return{params:t.params(o=>{let a=n(e,o,r);return Array.isArray(a.stmts)&&a.stmts.length>0&&s.push(...a.stmts),a.currValExpr}),stmts:s}}function U0(t){let e=t.name,n,r=e.match(N0);return r?(e=r[1],n=p.attribute):t.isAnimation?(e=Pm(e),n=p.syntheticHostProperty):n=p.hostProperty,{bindingName:e,instruction:n,isAttribute:!!r}}function V0(t,e){let n=[],r=[],s=[];for(let i of t){let o=i.name&&On(i.name),a=i.type===1?Mm(o,i.targetOrPhase):o,l=e&&o?`${e}_${a}_HostBindingHandler`:null,c=rv(Pr.fromParsedEvent(i),l);i.type==1?r.push(c):n.push(c)}for(let i of r)s.push({reference:p.syntheticHostListener,paramsOrFn:i,span:null});for(let i of n)s.push({reference:p.listener,paramsOrFn:i,span:null});return s}var q0=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function mv(t){let e={},n={},r={},s={};for(let i of Object.keys(t)){let o=t[i],a=i.match(q0);if(a===null)switch(i){case"class":if(typeof o!="string")throw new Error("Class binding must be string");s.classAttr=o;break;case"style":if(typeof o!="string")throw new Error("Style binding must be string");s.styleAttr=o;break;default:typeof o=="string"?e[i]=m(o):e[i]=o}else if(a[1]!=null){if(typeof o!="string")throw new Error("Property binding must be string");r[a[1]]=o}else if(a[2]!=null){if(typeof o!="string")throw new Error("Event binding must be string");n[a[2]]=o}}return{attributes:e,listeners:n,properties:r,specialAttributes:s}}function gv(t,e){let n=Ni();return n.createDirectiveHostEventAsts(t.listeners,e),n.createBoundHostProperties(t.properties,e),n.errors}function G0(t,e,n){let r=new xu;return t.map(s=>r.shimCssText(s,e,n))}function vv(t){return t.hostDirectives?.length?He(W(t.hostDirectives.map(e=>Fe([{key:"directive",value:_i(e.directive.type),quoted:!1},{key:"inputs",value:gp(e.inputs||{}),quoted:!1},{key:"outputs",value:gp(e.outputs||{}),quoted:!1}])))):vn}function H0(t){let e=[],n=!1;for(let r of t){if(!r.inputs&&!r.outputs)e.push(r.directive.type);else{let s=[{key:"directive",value:r.directive.type,quoted:!1}];if(r.inputs){let i=hm(r.inputs);i&&s.push({key:"inputs",value:i,quoted:!1})}if(r.outputs){let i=hm(r.outputs);i&&s.push({key:"outputs",value:i,quoted:!1})}e.push(Fe(s))}r.isForwardReference&&(n=!0)}return n?new er([],[new _e(W(e))]):W(e)}function hm(t){let e=[];for(let n in t)t.hasOwnProperty(n)&&e.push(m(n),m(t[n]));return e.length>0?W(e):null}var Tl=class{constructor(e){this.directiveMatcher=e}bind(e){if(!e.template)throw new Error("Binding without a template not yet supported");let n=yp.apply(e.template),r=W0(n),{directives:s,eagerDirectives:i,bindings:o,references:a}=Ep.apply(e.template,this.directiveMatcher),{expressions:l,symbols:c,nestingLevel:u,usedPipes:h,eagerPipes:d,deferBlocks:g}=Sp.applyWithScope(e.template,n);return new wp(e,s,i,o,a,l,c,u,r,h,d,g)}},yp=class t{constructor(e,n){this.parentScope=e,this.rootNode=n,this.namedEntities=new Map,this.elementsInScope=new Set,this.childScopes=new Map,this.isDeferred=e!==null&&e.isDeferred?!0:n instanceof sr}static newRootScope(){return new t(null,null)}static apply(e){let n=t.newRootScope();return n.ingest(e),n}ingest(e){e instanceof ce?(e.variables.forEach(n=>this.visitVariable(n)),e.children.forEach(n=>n.visit(this))):e instanceof Jn?(e.expressionAlias!==null&&this.visitVariable(e.expressionAlias),e.children.forEach(n=>n.visit(this))):e instanceof Sn?(this.visitVariable(e.item),Object.values(e.contextVariables).forEach(n=>this.visitVariable(n)),e.children.forEach(n=>n.visit(this))):e instanceof vo||e instanceof fi||e instanceof sr||e instanceof go||e instanceof fo||e instanceof mo?e.children.forEach(n=>n.visit(this)):e.forEach(n=>n.visit(this))}visitElement(e){e.references.forEach(n=>this.visitReference(n)),e.children.forEach(n=>n.visit(this)),this.elementsInScope.add(e)}visitTemplate(e){e.references.forEach(n=>this.visitReference(n)),this.ingestScopedNode(e)}visitVariable(e){this.maybeDeclare(e)}visitReference(e){this.maybeDeclare(e)}visitDeferredBlock(e){this.ingestScopedNode(e),e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.cases.forEach(n=>n.visit(this))}visitSwitchBlockCase(e){this.ingestScopedNode(e)}visitForLoopBlock(e){this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){this.ingestScopedNode(e)}visitContent(e){}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundText(e){}visitText(e){}visitTextAttribute(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}maybeDeclare(e){this.namedEntities.has(e.name)||this.namedEntities.set(e.name,e)}lookup(e){return this.namedEntities.has(e)?this.namedEntities.get(e):this.parentScope!==null?this.parentScope.lookup(e):null}getChildScope(e){let n=this.childScopes.get(e);if(n===void 0)throw new Error(`Assertion error: child scope for ${e} not found`);return n}ingestScopedNode(e){let n=new t(this,e);n.ingest(e),this.childScopes.set(e,n)}},Ep=class t{constructor(e,n,r,s,i){this.matcher=e,this.directives=n,this.eagerDirectives=r,this.bindings=s,this.references=i,this.isInDeferBlock=!1}static apply(e,n){let r=new Map,s=new Map,i=new Map,o=[];return new t(n,r,o,s,i).ingest(e),{directives:r,eagerDirectives:o,bindings:s,references:i}}ingest(e){e.forEach(n=>n.visit(this))}visitElement(e){this.visitElementOrTemplate(e)}visitTemplate(e){this.visitElementOrTemplate(e)}visitElementOrTemplate(e){let n=_p(e),r=[];this.matcher.match(n,(i,o)=>r.push(...o)),r.length>0&&(this.directives.set(e,r),this.isInDeferBlock||this.eagerDirectives.push(...r)),e.references.forEach(i=>{let o=null;if(i.value.trim()==="")o=r.find(a=>a.isComponent)||null;else if(o=r.find(a=>a.exportAs!==null&&a.exportAs.some(l=>l===i.value))||null,o===null)return;o!==null?this.references.set(i,{directive:o,node:e}):this.references.set(i,e)});let s=(i,o)=>{let a=r.find(c=>c[o].hasBindingPropertyName(i.name)),l=a!==void 0?a:e;this.bindings.set(i,l)};e.inputs.forEach(i=>s(i,"inputs")),e.attributes.forEach(i=>s(i,"inputs")),e instanceof ce&&e.templateAttrs.forEach(i=>s(i,"inputs")),e.outputs.forEach(i=>s(i,"outputs")),e.children.forEach(i=>i.visit(this))}visitDeferredBlock(e){let n=this.isInDeferBlock;this.isInDeferBlock=!0,e.children.forEach(r=>r.visit(this)),this.isInDeferBlock=n,e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){e.children.forEach(n=>n.visit(this))}visitDeferredBlockError(e){e.children.forEach(n=>n.visit(this))}visitDeferredBlockLoading(e){e.children.forEach(n=>n.visit(this))}visitSwitchBlock(e){e.cases.forEach(n=>n.visit(this))}visitSwitchBlockCase(e){e.children.forEach(n=>n.visit(this))}visitForLoopBlock(e){e.item.visit(this),Object.values(e.contextVariables).forEach(n=>n.visit(this)),e.children.forEach(n=>n.visit(this)),e.empty?.visit(this)}visitForLoopBlockEmpty(e){e.children.forEach(n=>n.visit(this))}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){e.expressionAlias?.visit(this),e.children.forEach(n=>n.visit(this))}visitContent(e){}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundAttributeOrEvent(e){}visitText(e){}visitBoundText(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}},Sp=class t extends Or{constructor(e,n,r,s,i,o,a,l,c){super(),this.bindings=e,this.symbols=n,this.usedPipes=r,this.eagerPipes=s,this.deferBlocks=i,this.nestingLevel=o,this.scope=a,this.rootNode=l,this.level=c,this.visitNode=u=>u.visit(this)}visit(e,n){e instanceof Ne?e.visit(this,n):e.visit(this)}static applyWithScope(e,n){let r=new Map,s=new Map,i=new Map,o=new Set,a=new Set,l=e instanceof ce?e:null,c=new Map;return new t(r,s,o,a,c,i,n,l,0).ingest(e),{expressions:r,symbols:s,nestingLevel:i,usedPipes:o,eagerPipes:a,deferBlocks:c}}ingest(e){if(e instanceof ce)e.variables.forEach(this.visitNode),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof Jn)e.expressionAlias!==null&&this.visitNode(e.expressionAlias),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof Sn)this.visitNode(e.item),Object.values(e.contextVariables).forEach(n=>this.visitNode(n)),e.trackBy.visit(this),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof sr){if(this.scope.rootNode!==e)throw new Error(`Assertion error: resolved incorrect scope for deferred block ${e}`);this.deferBlocks.set(e,this.scope),e.children.forEach(n=>n.visit(this)),this.nestingLevel.set(e,this.level)}else e instanceof vo||e instanceof fi||e instanceof go||e instanceof fo||e instanceof mo?(e.children.forEach(n=>n.visit(this)),this.nestingLevel.set(e,this.level)):e.forEach(this.visitNode)}visitElement(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.children.forEach(this.visitNode),e.references.forEach(this.visitNode)}visitTemplate(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.templateAttrs.forEach(this.visitNode),e.references.forEach(this.visitNode),this.ingestScopedNode(e)}visitVariable(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitReference(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitText(e){}visitContent(e){}visitTextAttribute(e){}visitUnknownBlock(e){}visitDeferredTrigger(){}visitIcu(e){Object.keys(e.vars).forEach(n=>e.vars[n].visit(this)),Object.keys(e.placeholders).forEach(n=>e.placeholders[n].visit(this))}visitBoundAttribute(e){e.value.visit(this)}visitBoundEvent(e){e.handler.visit(this)}visitDeferredBlock(e){this.ingestScopedNode(e),e.triggers.when?.value.visit(this),e.prefetchTriggers.when?.value.visit(this),e.placeholder&&this.visitNode(e.placeholder),e.loading&&this.visitNode(e.loading),e.error&&this.visitNode(e.error)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.expression.visit(this),e.cases.forEach(this.visitNode)}visitSwitchBlockCase(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitForLoopBlock(e){e.expression.visit(this),this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitBoundText(e){e.value.visit(this)}visitPipe(e,n){return this.usedPipes.add(e.name),this.scope.isDeferred||this.eagerPipes.add(e.name),super.visitPipe(e,n)}visitPropertyRead(e,n){return this.maybeMap(e,e.name),super.visitPropertyRead(e,n)}visitSafePropertyRead(e,n){return this.maybeMap(e,e.name),super.visitSafePropertyRead(e,n)}visitPropertyWrite(e,n){return this.maybeMap(e,e.name),super.visitPropertyWrite(e,n)}ingestScopedNode(e){let n=this.scope.getChildScope(e);new t(this.bindings,this.symbols,this.usedPipes,this.eagerPipes,this.deferBlocks,this.nestingLevel,n,e,this.level+1).ingest(e)}maybeMap(e,n){if(!(e.receiver instanceof xe))return;let r=this.scope.lookup(n);r!==null&&this.bindings.set(e,r)}},wp=class{constructor(e,n,r,s,i,o,a,l,c,u,h,d){this.target=e,this.directives=n,this.eagerDirectives=r,this.bindings=s,this.references=i,this.exprTargets=o,this.symbols=a,this.nestingLevel=l,this.scopedNodeEntities=c,this.usedPipes=u,this.eagerPipes=h,this.deferBlocks=d}getEntitiesInScope(e){return this.scopedNodeEntities.get(e)??new Set}getDirectivesOfNode(e){return this.directives.get(e)||null}getReferenceTarget(e){return this.references.get(e)||null}getConsumerOfBinding(e){return this.bindings.get(e)||null}getExpressionTarget(e){return this.exprTargets.get(e)||null}getDefinitionNodeOfSymbol(e){return this.symbols.get(e)||null}getNestingLevel(e){return this.nestingLevel.get(e)||0}getUsedDirectives(){let e=new Set;return this.directives.forEach(n=>n.forEach(r=>e.add(r))),Array.from(e.values())}getEagerlyUsedDirectives(){let e=new Set(this.eagerDirectives);return Array.from(e.values())}getUsedPipes(){return Array.from(this.usedPipes)}getEagerlyUsedPipes(){return Array.from(this.eagerPipes)}getDeferBlocks(){return Array.from(this.deferBlocks.keys())}getDeferredTriggerTarget(e,n){if(!(n instanceof Oa)&&!(n instanceof Fa)&&!(n instanceof La))return null;let r=n.reference;if(r===null){let i=null;if(e.placeholder!==null){for(let o of e.placeholder.children)if(!(o instanceof ui)){if(i!==null)return null;o instanceof oe&&(i=o)}}return i}let s=this.findEntityInScope(e,r);if(s instanceof $n&&this.getDefinitionNodeOfSymbol(s)!==e){let i=this.getReferenceTarget(s);if(i!==null)return this.referenceTargetToElement(i)}if(e.placeholder!==null){let i=this.findEntityInScope(e.placeholder,r),o=i instanceof $n?this.getReferenceTarget(i):null;if(o!==null)return this.referenceTargetToElement(o)}return null}isDeferred(e){for(let n of this.deferBlocks.values()){let r=[n];for(;r.length>0;){let s=r.pop();if(s.elementsInScope.has(e))return!0;r.push(...s.childScopes.values())}}return!1}findEntityInScope(e,n){let r=this.getEntitiesInScope(e);for(let s of r)if(s.name===n)return s;return null}referenceTargetToElement(e){return e instanceof oe?e:e instanceof ce?null:this.referenceTargetToElement(e.node)}};function W0(t){let e=new Map;function n(i){if(e.has(i.rootNode))return e.get(i.rootNode);let o=i.namedEntities,a;return i.parentScope!==null?a=new Map([...n(i.parentScope),...o]):a=new Map(o),e.set(i.rootNode,a),a}let r=[t];for(;r.length>0;){let i=r.pop();for(let o of i.childScopes.values())r.push(o);n(i)}let s=new Map;for(let[i,o]of e)s.set(i,new Set(o.values()));return s}var xp=class{},Bl=!0,Tp=class{constructor(e=new cu){this.jitEvaluator=e,this.FactoryTarget=vt,this.ResourceLoader=xp,this.elementSchemaRegistry=new An}compilePipe(e,n,r){let s={name:r.name,type:ze(r.type),typeArgumentCount:0,deps:null,pipeName:r.pipeName,pure:r.pure,isStandalone:r.isStandalone},i=fu(s);return this.jitExpression(i.expression,e,n,[])}compilePipeDeclaration(e,n,r){let s=l_(r),i=fu(s);return this.jitExpression(i.expression,e,n,[])}compileInjectable(e,n,r){let{expression:s,statements:i}=ou({name:r.name,type:ze(r.type),typeArgumentCount:r.typeArgumentCount,providedIn:vm(r.providedIn),useClass:Hs(r,"useClass"),useFactory:gm(r,"useFactory"),useValue:Hs(r,"useValue"),useExisting:Hs(r,"useExisting"),deps:r.deps?.map(xv)},!0);return this.jitExpression(s,e,n,i)}compileInjectableDeclaration(e,n,r){let{expression:s,statements:i}=ou({name:r.type.name,type:ze(r.type),typeArgumentCount:0,providedIn:vm(r.providedIn),useClass:Hs(r,"useClass"),useFactory:gm(r,"useFactory"),useValue:Hs(r,"useValue"),useExisting:Hs(r,"useExisting"),deps:r.deps?.map(ym)},!0);return this.jitExpression(s,e,n,i)}compileInjector(e,n,r){let s={name:r.name,type:ze(r.type),providers:r.providers&&r.providers.length>0?new V(r.providers):null,imports:r.imports.map(o=>new V(o))},i=pu(s);return this.jitExpression(i.expression,e,n,[])}compileInjectorDeclaration(e,n,r){let s=c_(r),i=pu(s);return this.jitExpression(i.expression,e,n,[])}compileNgModule(e,n,r){let s={kind:Mn.Global,type:ze(r.type),bootstrap:r.bootstrap.map(ze),declarations:r.declarations.map(ze),publicDeclarationTypes:null,imports:r.imports.map(ze),includeImportTypes:!0,exports:r.exports.map(ze),selectorScopeMode:mi.Inline,containsForwardDecls:!1,schemas:r.schemas?r.schemas.map(ze):null,id:r.id?new V(r.id):null},i=ng(s);return this.jitExpression(i.expression,e,n,[])}compileNgModuleDeclaration(e,n,r){let s=Hx(r);return this.jitExpression(s,e,n,[])}compileDirective(e,n,r){let s=mm(r);return this.compileDirectiveFromMeta(e,n,s)}compileDirectiveDeclaration(e,n,r){let s=this.createParseSourceSpan("Directive",r.type.name,n),i=Ev(r,s);return this.compileDirectiveFromMeta(e,n,i)}compileDirectiveFromMeta(e,n,r){let s=new uo,i=Ni(),o=hv(r,s,i);return this.jitExpression(o.expression,e,n,s.statements)}compileComponent(e,n,r){let{template:s,interpolation:i,deferBlocks:o}=wv(r.template,r.name,n,r.preserveWhitespaces,r.interpolation),a={...r,...mm(r),selector:r.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:s,declarations:r.declarations.map(X0),declarationListEmitMode:0,deferBlocks:o,deferrableTypes:new Map,deferrableDeclToImportDecl:new Map,deferBlockDepsEmitMode:0,styles:[...r.styles,...s.styles],encapsulation:r.encapsulation,interpolation:i,changeDetection:r.changeDetection??null,animations:r.animations!=null?new V(r.animations):null,viewProviders:r.viewProviders!=null?new V(r.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0,useTemplatePipeline:Bl},l=`ng:///${r.name}.js`;return this.compileComponentFromMeta(e,l,a)}compileComponentDeclaration(e,n,r){let s=this.createParseSourceSpan("Component",r.type.name,n),i=z0(r,s,n);return this.compileComponentFromMeta(e,n,i)}compileComponentFromMeta(e,n,r){let s=new uo,i=Ni(r.interpolation),o=fv(r,s,i);return this.jitExpression(o.expression,e,n,s.statements)}compileFactory(e,n,r){let s=Tr({name:r.name,type:ze(r.type),typeArgumentCount:r.typeArgumentCount,deps:J0(r.deps),target:r.target});return this.jitExpression(s.expression,e,n,s.statements)}compileFactoryDeclaration(e,n,r){let s=Tr({name:r.type.name,type:ze(r.type),typeArgumentCount:0,deps:Array.isArray(r.deps)?r.deps.map(ym):r.deps,target:r.target});return this.jitExpression(s.expression,e,n,s.statements)}createParseSourceSpan(e,n,r){return Fx(e,n,r)}jitExpression(e,n,r,s){let i=[...s,new nt("$def",e,void 0,Le.Exported)];return this.jitEvaluator.evaluateStatements(r,i,new hu(n),!0).$def}};function fm(t){return{...t,isSignal:t.isSignal,predicate:yv(t.predicate),read:t.read?new V(t.read):null,static:t.static,emitDistinctChangesOnly:t.emitDistinctChangesOnly}}function dm(t){return{propertyName:t.propertyName,first:t.first??!1,predicate:yv(t.predicate),descendants:t.descendants??!1,read:t.read?new V(t.read):null,static:t.static??!1,emitDistinctChangesOnly:t.emitDistinctChangesOnly??!0,isSignal:!!t.isSignal}}function yv(t){return Array.isArray(t)?t:Cs(new V(t),1)}function mm(t){let e=a_(t.inputs||[]),n=Ip(t.outputs||[]),r=t.propMetadata,s={},i={};for(let o in r)r.hasOwnProperty(o)&&r[o].forEach(a=>{r_(a)?s[o]={bindingPropertyName:a.alias||o,classPropertyName:o,required:a.required||!1,isSignal:!!a.isSignal,transformFunction:a.transform!=null?new V(a.transform):null}:s_(a)&&(i[o]=a.alias||o)});return{...t,typeArgumentCount:0,typeSourceSpan:t.typeSourceSpan,type:ze(t.type),deps:null,host:{...e_(t.propMetadata,t.typeSourceSpan,t.host),useTemplatePipeline:Bl},inputs:{...e,...s},outputs:{...n,...i},queries:t.queries.map(fm),providers:t.providers!=null?new V(t.providers):null,viewQueries:t.viewQueries.map(fm),fullInheritance:!1,hostDirectives:Sv(t)}}function Ev(t,e){return{name:t.type.name,type:ze(t.type),typeSourceSpan:e,selector:t.selector??null,inputs:t.inputs?i_(t.inputs):{},outputs:t.outputs??{},host:j0(t.host),queries:(t.queries??[]).map(dm),viewQueries:(t.viewQueries??[]).map(dm),providers:t.providers!==void 0?new V(t.providers):null,exportAs:t.exportAs??null,usesInheritance:t.usesInheritance??!1,lifecycle:{usesOnChanges:t.usesOnChanges??!1},deps:null,typeArgumentCount:0,fullInheritance:!1,isStandalone:t.isStandalone??!1,isSignal:t.isSignal??!1,hostDirectives:Sv(t)}}function j0(t={}){return{attributes:K0(t.attributes??{}),listeners:t.listeners??{},properties:t.properties??{},specialAttributes:{classAttr:t.classAttribute,styleAttr:t.styleAttribute},useTemplatePipeline:Bl}}function Sv(t){return t.hostDirectives?.length?t.hostDirectives.map(e=>typeof e=="function"?{directive:ze(e),inputs:null,outputs:null,isForwardReference:!1}:{directive:ze(e.directive),isForwardReference:!1,inputs:e.inputs?Ip(e.inputs):null,outputs:e.outputs?Ip(e.outputs):null}):null}function K0(t){let e={};for(let n of Object.keys(t))e[n]=new V(t[n]);return e}function z0(t,e,n){let{template:r,interpolation:s,deferBlocks:i}=wv(t.template,t.type.name,n,t.preserveWhitespaces??!1,t.interpolation),o=[];if(t.dependencies)for(let a of t.dependencies)switch(a.kind){case"directive":case"component":o.push(Mc(a));break;case"pipe":o.push(Q0(a));break}else(t.components||t.directives||t.pipes)&&(t.components&&o.push(...t.components.map(a=>Mc(a,!0))),t.directives&&o.push(...t.directives.map(a=>Mc(a))),t.pipes&&o.push(...Y0(t.pipes)));return{...Ev(t,e),template:r,styles:t.styles??[],declarations:o,viewProviders:t.viewProviders!==void 0?new V(t.viewProviders):null,animations:t.animations!==void 0?new V(t.animations):null,deferBlocks:i,deferrableTypes:new Map,deferrableDeclToImportDecl:new Map,deferBlockDepsEmitMode:0,changeDetection:t.changeDetection??Aa.Default,encapsulation:t.encapsulation??Pn.Emulated,interpolation:s,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0,useTemplatePipeline:Bl}}function X0(t){return{...t,type:new V(t.type)}}function Mc(t,e=null){return{kind:gi.Directive,isComponent:e||t.kind==="component",selector:t.selector,type:new V(t.type),inputs:t.inputs??[],outputs:t.outputs??[],exportAs:t.exportAs??null}}function Y0(t){return t?Object.keys(t).map(e=>({kind:gi.Pipe,name:e,type:new V(t[e])})):[]}function Q0(t){return{kind:gi.Pipe,name:t.name,type:new V(t.type)}}function wv(t,e,n,r,s){let i=s?So.fromArray(s):Wt,o=sv(t,n,{preserveWhitespaces:r,interpolationConfig:i});if(o.errors!==null){let c=o.errors.map(u=>u.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${e}: ${c}`)}let l=new Tl(new Nr).bind({template:o.nodes});return{template:o,interpolation:i,deferBlocks:Z0(l)}}function Hs(t,e){if(t.hasOwnProperty(e))return Cs(new V(t[e]),0)}function gm(t,e){if(t.hasOwnProperty(e))return new V(t[e])}function vm(t){let e=typeof t=="function"?new V(t):new Re(t??null);return Cs(e,0)}function J0(t){return t==null?null:t.map(xv)}function xv(t){let e=t.attribute!=null,n=t.token===null?null:new V(t.token),r=e?new V(t.attribute):n;return Tv(r,e,t.host,t.optional,t.self,t.skipSelf)}function ym(t){let e=t.attribute??!1,n=t.token===null?null:new V(t.token);return Tv(n,e,t.host??!1,t.optional??!1,t.self??!1,t.skipSelf??!1)}function Tv(t,e,n,r,s,i){let o=e?m("unknown"):null;return{token:t,attributeNameType:o,host:n,optional:r,self:s,skipSelf:i}}function Z0(t){let e=t.getDeferBlocks(),n=new Map;for(let r of e){let s=new Map;Em(r,r.triggers,t,s),Em(r,r.prefetchTriggers,t,s),n.set(r,{deps:[],triggerElements:s})}return n}function Em(t,e,n,r){Object.keys(e).forEach(s=>{let i=e[s];r.set(i,n.getDeferredTriggerTarget(t,i))})}function e_(t,e,n){let r=mv(n||{}),s=gv(r,e);if(s.length)throw new Error(s.map(i=>i.msg).join(`
`));for(let i in t)t.hasOwnProperty(i)&&t[i].forEach(o=>{t_(o)?r.properties[o.hostPropertyName||i]=km("this",i):n_(o)&&(r.listeners[o.eventName||i]=`${i}(${(o.args||[]).join(",")})`)});return r}function t_(t){return t.ngMetadataName==="HostBinding"}function n_(t){return t.ngMetadataName==="HostListener"}function r_(t){return t.ngMetadataName==="Input"}function s_(t){return t.ngMetadataName==="Output"}function i_(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return typeof r=="string"||Array.isArray(r)?e[n]=o_(r):e[n]={bindingPropertyName:r.publicName,classPropertyName:n,transformFunction:r.transformFunction!==null?new V(r.transformFunction):null,required:r.isRequired,isSignal:r.isSignal},e},{})}function o_(t){return typeof t=="string"?{bindingPropertyName:t,classPropertyName:t,transformFunction:null,required:!1,isSignal:!1}:{bindingPropertyName:t[0],classPropertyName:t[1],transformFunction:t[2]?new V(t[2]):null,required:!1,isSignal:!1}}function a_(t){return t.reduce((e,n)=>{if(typeof n=="string"){let[r,s]=Iv(n);e[s]={bindingPropertyName:r,classPropertyName:s,required:!1,isSignal:!1,transformFunction:null}}else e[n.name]={bindingPropertyName:n.alias||n.name,classPropertyName:n.name,required:n.required||!1,isSignal:!1,transformFunction:n.transform!=null?new V(n.transform):null};return e},{})}function Ip(t){return t.reduce((e,n)=>{let[r,s]=Iv(n);return e[s]=r,e},{})}function Iv(t){let[e,n]=t.split(":",2).map(r=>r.trim());return[n??e,e]}function l_(t){return{name:t.type.name,type:ze(t.type),typeArgumentCount:0,pipeName:t.name,deps:null,pure:t.pure??!0,isStandalone:t.isStandalone??!1}}function c_(t){return{name:t.type.name,type:ze(t.type),providers:t.providers!==void 0&&t.providers.length>0?new V(t.providers):null,imports:t.imports!==void 0?t.imports.map(e=>new V(e)):[]}}function u_(t){let e=t.ng||(t.ng={});e.\u0275compilerFacade=new Tp}var WO=new po("17.3.7");var Sm;(function(t){t[t.Extract=0]="Extract",t[t.Merge=1]="Merge"})(Sm||(Sm={}));var Cp=class{constructor(){this.closedByParent=!1,this.implicitNamespacePrefix=null,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0,this.preventNamespaceInheritance=!1}requireExtraParent(e){return!1}isClosedByChild(e){return!1}getContentType(){return cn.PARSABLE_DATA}},jO=new Cp;var wm;(function(t){t[t.Directive=0]="Directive",t[t.Component=1]="Component",t[t.Injectable=2]="Injectable",t[t.Pipe=3]="Pipe",t[t.NgModule=4]="NgModule"})(wm||(wm={}));u_(Qi);var N_=A(require("typescript"),1),Ul=A(require("typescript"),1),__=A(require("typescript"),1),Vl=A(require("typescript"),1),R_=A(require("typescript"),1),Be=A(require("typescript"),1),Qp=A(require("typescript"),1),hr=A(require("typescript"),1),Gv=A(require("typescript"),1),bs=A(require("typescript"),1);var Te=A(require("typescript"),1);var F_=A(require("typescript"),1),B_=A(require("typescript"),1),Ie=A(require("typescript"),1),XO=(0,$v.createRequire)(k),se;(function(t){t[t.DECORATOR_ARG_NOT_LITERAL=1001]="DECORATOR_ARG_NOT_LITERAL",t[t.DECORATOR_ARITY_WRONG=1002]="DECORATOR_ARITY_WRONG",t[t.DECORATOR_NOT_CALLED=1003]="DECORATOR_NOT_CALLED",t[t.DECORATOR_UNEXPECTED=1005]="DECORATOR_UNEXPECTED",t[t.DECORATOR_COLLISION=1006]="DECORATOR_COLLISION",t[t.VALUE_HAS_WRONG_TYPE=1010]="VALUE_HAS_WRONG_TYPE",t[t.VALUE_NOT_LITERAL=1011]="VALUE_NOT_LITERAL",t[t.INITIALIZER_API_WITH_DISALLOWED_DECORATOR=1050]="INITIALIZER_API_WITH_DISALLOWED_DECORATOR",t[t.INITIALIZER_API_DECORATOR_METADATA_COLLISION=1051]="INITIALIZER_API_DECORATOR_METADATA_COLLISION",t[t.INITIALIZER_API_NO_REQUIRED_FUNCTION=1052]="INITIALIZER_API_NO_REQUIRED_FUNCTION",t[t.INITIALIZER_API_DISALLOWED_MEMBER_VISIBILITY=1053]="INITIALIZER_API_DISALLOWED_MEMBER_VISIBILITY",t[t.INCORRECTLY_DECLARED_ON_STATIC_MEMBER=1100]="INCORRECTLY_DECLARED_ON_STATIC_MEMBER",t[t.COMPONENT_MISSING_TEMPLATE=2001]="COMPONENT_MISSING_TEMPLATE",t[t.PIPE_MISSING_NAME=2002]="PIPE_MISSING_NAME",t[t.PARAM_MISSING_TOKEN=2003]="PARAM_MISSING_TOKEN",t[t.DIRECTIVE_MISSING_SELECTOR=2004]="DIRECTIVE_MISSING_SELECTOR",t[t.UNDECORATED_PROVIDER=2005]="UNDECORATED_PROVIDER",t[t.DIRECTIVE_INHERITS_UNDECORATED_CTOR=2006]="DIRECTIVE_INHERITS_UNDECORATED_CTOR",t[t.UNDECORATED_CLASS_USING_ANGULAR_FEATURES=2007]="UNDECORATED_CLASS_USING_ANGULAR_FEATURES",t[t.COMPONENT_RESOURCE_NOT_FOUND=2008]="COMPONENT_RESOURCE_NOT_FOUND",t[t.COMPONENT_INVALID_SHADOW_DOM_SELECTOR=2009]="COMPONENT_INVALID_SHADOW_DOM_SELECTOR",t[t.COMPONENT_NOT_STANDALONE=2010]="COMPONENT_NOT_STANDALONE",t[t.COMPONENT_IMPORT_NOT_STANDALONE=2011]="COMPONENT_IMPORT_NOT_STANDALONE",t[t.COMPONENT_UNKNOWN_IMPORT=2012]="COMPONENT_UNKNOWN_IMPORT",t[t.HOST_DIRECTIVE_INVALID=2013]="HOST_DIRECTIVE_INVALID",t[t.HOST_DIRECTIVE_NOT_STANDALONE=2014]="HOST_DIRECTIVE_NOT_STANDALONE",t[t.HOST_DIRECTIVE_COMPONENT=2015]="HOST_DIRECTIVE_COMPONENT",t[t.INJECTABLE_INHERITS_INVALID_CONSTRUCTOR=2016]="INJECTABLE_INHERITS_INVALID_CONSTRUCTOR",t[t.HOST_DIRECTIVE_UNDEFINED_BINDING=2017]="HOST_DIRECTIVE_UNDEFINED_BINDING",t[t.HOST_DIRECTIVE_CONFLICTING_ALIAS=2018]="HOST_DIRECTIVE_CONFLICTING_ALIAS",t[t.HOST_DIRECTIVE_MISSING_REQUIRED_BINDING=2019]="HOST_DIRECTIVE_MISSING_REQUIRED_BINDING",t[t.CONFLICTING_INPUT_TRANSFORM=2020]="CONFLICTING_INPUT_TRANSFORM",t[t.COMPONENT_INVALID_STYLE_URLS=2021]="COMPONENT_INVALID_STYLE_URLS",t[t.COMPONENT_UNKNOWN_DEFERRED_IMPORT=2022]="COMPONENT_UNKNOWN_DEFERRED_IMPORT",t[t.SYMBOL_NOT_EXPORTED=3001]="SYMBOL_NOT_EXPORTED",t[t.IMPORT_CYCLE_DETECTED=3003]="IMPORT_CYCLE_DETECTED",t[t.IMPORT_GENERATION_FAILURE=3004]="IMPORT_GENERATION_FAILURE",t[t.CONFIG_FLAT_MODULE_NO_INDEX=4001]="CONFIG_FLAT_MODULE_NO_INDEX",t[t.CONFIG_STRICT_TEMPLATES_IMPLIES_FULL_TEMPLATE_TYPECHECK=4002]="CONFIG_STRICT_TEMPLATES_IMPLIES_FULL_TEMPLATE_TYPECHECK",t[t.CONFIG_EXTENDED_DIAGNOSTICS_IMPLIES_STRICT_TEMPLATES=4003]="CONFIG_EXTENDED_DIAGNOSTICS_IMPLIES_STRICT_TEMPLATES",t[t.CONFIG_EXTENDED_DIAGNOSTICS_UNKNOWN_CATEGORY_LABEL=4004]="CONFIG_EXTENDED_DIAGNOSTICS_UNKNOWN_CATEGORY_LABEL",t[t.CONFIG_EXTENDED_DIAGNOSTICS_UNKNOWN_CHECK=4005]="CONFIG_EXTENDED_DIAGNOSTICS_UNKNOWN_CHECK",t[t.HOST_BINDING_PARSE_ERROR=5001]="HOST_BINDING_PARSE_ERROR",t[t.TEMPLATE_PARSE_ERROR=5002]="TEMPLATE_PARSE_ERROR",t[t.NGMODULE_INVALID_DECLARATION=6001]="NGMODULE_INVALID_DECLARATION",t[t.NGMODULE_INVALID_IMPORT=6002]="NGMODULE_INVALID_IMPORT",t[t.NGMODULE_INVALID_EXPORT=6003]="NGMODULE_INVALID_EXPORT",t[t.NGMODULE_INVALID_REEXPORT=6004]="NGMODULE_INVALID_REEXPORT",t[t.NGMODULE_MODULE_WITH_PROVIDERS_MISSING_GENERIC=6005]="NGMODULE_MODULE_WITH_PROVIDERS_MISSING_GENERIC",t[t.NGMODULE_REEXPORT_NAME_COLLISION=6006]="NGMODULE_REEXPORT_NAME_COLLISION",t[t.NGMODULE_DECLARATION_NOT_UNIQUE=6007]="NGMODULE_DECLARATION_NOT_UNIQUE",t[t.NGMODULE_DECLARATION_IS_STANDALONE=6008]="NGMODULE_DECLARATION_IS_STANDALONE",t[t.NGMODULE_BOOTSTRAP_IS_STANDALONE=6009]="NGMODULE_BOOTSTRAP_IS_STANDALONE",t[t.WARN_NGMODULE_ID_UNNECESSARY=6100]="WARN_NGMODULE_ID_UNNECESSARY",t[t.SCHEMA_INVALID_ELEMENT=8001]="SCHEMA_INVALID_ELEMENT",t[t.SCHEMA_INVALID_ATTRIBUTE=8002]="SCHEMA_INVALID_ATTRIBUTE",t[t.MISSING_REFERENCE_TARGET=8003]="MISSING_REFERENCE_TARGET",t[t.MISSING_PIPE=8004]="MISSING_PIPE",t[t.WRITE_TO_READ_ONLY_VARIABLE=8005]="WRITE_TO_READ_ONLY_VARIABLE",t[t.DUPLICATE_VARIABLE_DECLARATION=8006]="DUPLICATE_VARIABLE_DECLARATION",t[t.SPLIT_TWO_WAY_BINDING=8007]="SPLIT_TWO_WAY_BINDING",t[t.MISSING_REQUIRED_INPUTS=8008]="MISSING_REQUIRED_INPUTS",t[t.ILLEGAL_FOR_LOOP_TRACK_ACCESS=8009]="ILLEGAL_FOR_LOOP_TRACK_ACCESS",t[t.INACCESSIBLE_DEFERRED_TRIGGER_ELEMENT=8010]="INACCESSIBLE_DEFERRED_TRIGGER_ELEMENT",t[t.CONTROL_FLOW_PREVENTING_CONTENT_PROJECTION=8011]="CONTROL_FLOW_PREVENTING_CONTENT_PROJECTION",t[t.DEFERRED_PIPE_USED_EAGERLY=8012]="DEFERRED_PIPE_USED_EAGERLY",t[t.DEFERRED_DIRECTIVE_USED_EAGERLY=8013]="DEFERRED_DIRECTIVE_USED_EAGERLY",t[t.DEFERRED_DEPENDENCY_IMPORTED_EAGERLY=8014]="DEFERRED_DEPENDENCY_IMPORTED_EAGERLY",t[t.INVALID_BANANA_IN_BOX=8101]="INVALID_BANANA_IN_BOX",t[t.NULLISH_COALESCING_NOT_NULLABLE=8102]="NULLISH_COALESCING_NOT_NULLABLE",t[t.MISSING_CONTROL_FLOW_DIRECTIVE=8103]="MISSING_CONTROL_FLOW_DIRECTIVE",t[t.TEXT_ATTRIBUTE_NOT_BINDING=8104]="TEXT_ATTRIBUTE_NOT_BINDING",t[t.MISSING_NGFOROF_LET=8105]="MISSING_NGFOROF_LET",t[t.SUFFIX_NOT_SUPPORTED=8106]="SUFFIX_NOT_SUPPORTED",t[t.OPTIONAL_CHAIN_NOT_NULLABLE=8107]="OPTIONAL_CHAIN_NOT_NULLABLE",t[t.SKIP_HYDRATION_NOT_STATIC=8108]="SKIP_HYDRATION_NOT_STATIC",t[t.INTERPOLATED_SIGNAL_NOT_INVOKED=8109]="INTERPOLATED_SIGNAL_NOT_INVOKED",t[t.INLINE_TCB_REQUIRED=8900]="INLINE_TCB_REQUIRED",t[t.INLINE_TYPE_CTOR_REQUIRED=8901]="INLINE_TYPE_CTOR_REQUIRED",t[t.INJECTABLE_DUPLICATE_PROV=9001]="INJECTABLE_DUPLICATE_PROV",t[t.SUGGEST_STRICT_TEMPLATES=10001]="SUGGEST_STRICT_TEMPLATES",t[t.SUGGEST_SUBOPTIMAL_TYPE_INFERENCE=10002]="SUGGEST_SUBOPTIMAL_TYPE_INFERENCE",t[t.LOCAL_COMPILATION_UNRESOLVED_CONST=11001]="LOCAL_COMPILATION_UNRESOLVED_CONST",t[t.LOCAL_COMPILATION_UNSUPPORTED_EXPRESSION=11003]="LOCAL_COMPILATION_UNSUPPORTED_EXPRESSION"})(se||(se={}));function Uv(t){return parseInt("-99"+t)}var fr=class extends Error{constructor(t,e,n,r){super(`FatalDiagnosticError: Code: ${t}, Message: ${Li.default.flattenDiagnosticMessageText(n,`
`)}`),this.code=t,this.node=e,this.diagnosticMessage=n,this.relatedInformation=r,this.message=this.message,this._isFatalDiagnosticError=!0,Object.setPrototypeOf(this,new.target.prototype)}toDiagnostic(){return eh(this.code,this.node,this.diagnosticMessage,this.relatedInformation)}};function eh(t,e,n,r){return e=Li.default.getOriginalNode(e),{category:Li.default.DiagnosticCategory.Error,code:Uv(t),file:Li.default.getOriginalNode(e).getSourceFile(),start:e.getStart(void 0,!1),length:e.getWidth(),messageText:n,relatedInformation:r}}function Gl(t,e){return{category:Li.default.DiagnosticCategory.Message,code:0,messageText:t,next:e}}var f_=new Set([se.DECORATOR_ARG_NOT_LITERAL,se.IMPORT_CYCLE_DETECTED,se.PARAM_MISSING_TOKEN,se.SCHEMA_INVALID_ELEMENT,se.SCHEMA_INVALID_ATTRIBUTE,se.MISSING_REFERENCE_TARGET,se.COMPONENT_INVALID_SHADOW_DOM_SELECTOR,se.WARN_NGMODULE_ID_UNNECESSARY]);var nn;(function(t){t.INVALID_BANANA_IN_BOX="invalidBananaInBox",t.NULLISH_COALESCING_NOT_NULLABLE="nullishCoalescingNotNullable",t.OPTIONAL_CHAIN_NOT_NULLABLE="optionalChainNotNullable",t.MISSING_CONTROL_FLOW_DIRECTIVE="missingControlFlowDirective",t.TEXT_ATTRIBUTE_NOT_BINDING="textAttributeNotBinding",t.MISSING_NGFOROF_LET="missingNgForOfLet",t.SUFFIX_NOT_SUPPORTED="suffixNotSupported",t.SKIP_HYDRATION_NOT_STATIC="skipHydrationNotStatic",t.INTERPOLATED_SIGNAL_NOT_INVOKED="interpolatedSignalNotInvoked",t.CONTROL_FLOW_PREVENTING_CONTENT_PROJECTION="controlFlowPreventingContentProjection"})(nn||(nn={}));function d_(t){return Ho.default.isIdentifier(t)||Ho.default.isPropertyAccessExpression(t)&&Ho.default.isIdentifier(t.expression)&&Ho.default.isIdentifier(t.name)}var Wr;(function(t){t[t.Constructor=0]="Constructor",t[t.Getter=1]="Getter",t[t.Setter=2]="Setter",t[t.Property=3]="Property",t[t.Method=4]="Method"})(Wr||(Wr={}));var Ee;(function(t){t[t.PublicWritable=0]="PublicWritable",t[t.PublicReadonly=1]="PublicReadonly",t[t.Protected=2]="Protected",t[t.Private=3]="Private",t[t.EcmaScriptPrivate=4]="EcmaScriptPrivate"})(Ee||(Ee={}));var jr={};function m_(t,e,n){var r,s;if(t===null)return E_();if(!Xe.default.isTypeReferenceNode(t))return Av(t);let i=S_(t,e);if(i===null)return v_(t);let{local:o,decl:a}=i;if(a.valueDeclaration===void 0||a.flags&Xe.default.SymbolFlags.ConstEnum){let u=null;if(a.declarations!==void 0&&a.declarations.length>0&&(u=a.declarations[0]),!n||u&&[Xe.default.SyntaxKind.TypeParameter,Xe.default.SyntaxKind.TypeAliasDeclaration,Xe.default.SyntaxKind.InterfaceDeclaration].includes(u.kind))return g_(t,u)}let l=o.declarations&&o.declarations[0];if(l!==void 0){if(Xe.default.isImportClause(l)&&l.name!==void 0)return l.isTypeOnly?$l(t,l):{kind:0,expression:l.name,defaultImportStatement:l.parent};if(Xe.default.isImportSpecifier(l)){if(l.isTypeOnly)return $l(t,l);if(l.parent.parent.isTypeOnly)return $l(t,l.parent.parent);let u=(l.propertyName||l.name).text,[h,...d]=i.symbolNames,g=bv(l.parent.parent.parent);return{kind:1,valueDeclaration:(r=a.valueDeclaration)!=null?r:null,moduleName:g,importedName:u,nestedPath:d}}else if(Xe.default.isNamespaceImport(l)){if(l.parent.isTypeOnly)return $l(t,l.parent);if(i.symbolNames.length===1)return y_(t,l.parent);let[u,h,...d]=i.symbolNames,g=bv(l.parent.parent);return{kind:1,valueDeclaration:(s=a.valueDeclaration)!=null?s:null,moduleName:g,importedName:h,nestedPath:d}}}let c=Vv(t);return c!==null?{kind:0,expression:c,defaultImportStatement:null}:Av(t)}function Av(t){return{kind:2,reason:{kind:5,typeNode:t}}}function g_(t,e){return{kind:2,reason:{kind:1,typeNode:t,decl:e}}}function $l(t,e){return{kind:2,reason:{kind:2,typeNode:t,node:e}}}function v_(t){return{kind:2,reason:{kind:3,typeNode:t}}}function y_(t,e){return{kind:2,reason:{kind:4,typeNode:t,importClause:e}}}function E_(){return{kind:2,reason:{kind:0}}}function Vv(t){return Xe.default.isTypeReferenceNode(t)?th(t.typeName):null}function S_(t,e){let n=t.typeName,r=e.getSymbolAtLocation(n);if(r===void 0)return null;let s=r,i=n,o=[];for(;Xe.default.isQualifiedName(i);)o.unshift(i.right.text),i=i.left;if(o.unshift(i.text),i!==n){let l=e.getSymbolAtLocation(i);l!==void 0&&(s=l)}let a=r;return r.flags&Xe.default.SymbolFlags.Alias&&(a=e.getAliasedSymbol(r)),{local:s,decl:a,symbolNames:o}}function th(t){if(Xe.default.isQualifiedName(t)){let e=th(t.left);return e!==null?Xe.default.factory.createPropertyAccessExpression(e,t.right):null}else if(Xe.default.isIdentifier(t)){let e=Xe.default.setOriginalNode(Xe.default.factory.createIdentifier(t.text),t);return e.parent=t.parent,e}else return null}function bv(t){if(!Xe.default.isStringLiteral(t.moduleSpecifier))throw new Error("not a module specifier");return t.moduleSpecifier.text}function rh(t){return nh.default.isClassDeclaration(t)&&w_(t.name)}function w_(t){return t!==void 0&&nh.default.isIdentifier(t)}function sh(t){switch(t){case Ee.EcmaScriptPrivate:return"ES private";case Ee.Private:return"private";case Ee.Protected:return"protected";case Ee.PublicReadonly:return"public readonly";case Ee.PublicWritable:default:return"public"}}var ih=class{constructor(t,e=!1){this.checker=t,this.isLocalCompilation=e}getDecoratorsOfDeclaration(t){let e=O.default.canHaveDecorators(t)?O.default.getDecorators(t):void 0;return e!==void 0&&e.length?e.map(n=>this._reflectDecorator(n)).filter(n=>n!==null):null}getMembersOfClass(t){return Nv(t).members.map(n=>{let r=oh(n);return r===null?null:{...r,decorators:this.getDecoratorsOfDeclaration(n)}}).filter(n=>n!==null)}getConstructorParameters(t){let e=Nv(t),n=e.getSourceFile().isDeclarationFile,r=e.members.find(s=>O.default.isConstructorDeclaration(s)&&(n||s.body!==void 0));return r===void 0?null:r.parameters.map(s=>{let i=Dv(s.name),o=this.getDecoratorsOfDeclaration(s),a=s.type||null,l=a;if(l&&O.default.isUnionTypeNode(l)){let u=l.types.filter(h=>!(O.default.isLiteralTypeNode(h)&&h.literal.kind===O.default.SyntaxKind.NullKeyword));u.length===1&&(l=u[0])}let c=m_(l,this.checker,this.isLocalCompilation);return{name:i,nameNode:s.name,typeValueReference:c,typeNode:a,decorators:o}})}getImportOfIdentifier(t){let e=this.getDirectImportOfIdentifier(t);return e!==null?e:O.default.isQualifiedName(t.parent)&&t.parent.right===t?this.getImportOfNamespacedIdentifier(t,I_(t.parent)):O.default.isPropertyAccessExpression(t.parent)&&t.parent.name===t?this.getImportOfNamespacedIdentifier(t,C_(t.parent)):null}getExportsOfModule(t){if(!O.default.isSourceFile(t))throw new Error("getExportsOfModule() called on non-SourceFile in TS code");let e=this.checker.getSymbolAtLocation(t);if(e===void 0)return null;let n=new Map;return this.checker.getExportsOfModule(e).forEach(r=>{let s=this.getDeclarationOfSymbol(r,null);s!==null&&n.set(r.name,s)}),n}isClass(t){return rh(t)}hasBaseClass(t){return this.getBaseClassExpression(t)!==null}getBaseClassExpression(t){if(!(O.default.isClassDeclaration(t)||O.default.isClassExpression(t))||t.heritageClauses===void 0)return null;let e=t.heritageClauses.find(r=>r.token===O.default.SyntaxKind.ExtendsKeyword);if(e===void 0)return null;let n=e.types[0];return n===void 0?null:n.expression}getDeclarationOfIdentifier(t){let e=this.checker.getSymbolAtLocation(t);return e===void 0?null:this.getDeclarationOfSymbol(e,t)}getDefinitionOfFunction(t){if(!O.default.isFunctionDeclaration(t)&&!O.default.isMethodDeclaration(t)&&!O.default.isFunctionExpression(t)&&!O.default.isArrowFunction(t))return null;let e=null;t.body!==void 0&&(e=O.default.isBlock(t.body)?Array.from(t.body.statements):[O.default.factory.createReturnStatement(t.body)]);let n=this.checker.getTypeAtLocation(t),r=this.checker.getSignaturesOfType(n,O.default.SignatureKind.Call);return{node:t,body:e,signatureCount:r.length,typeParameters:t.typeParameters===void 0?null:Array.from(t.typeParameters),parameters:t.parameters.map(s=>{let i=Dv(s.name),o=s.initializer||null;return{name:i,node:s,initializer:o,type:s.type||null}})}}getGenericArityOfClass(t){return O.default.isClassDeclaration(t)?t.typeParameters!==void 0?t.typeParameters.length:0:null}getVariableValue(t){return t.initializer||null}isStaticallyExported(t){let e=t;O.default.isVariableDeclaration(t)&&O.default.isVariableDeclarationList(t.parent)&&(e=t.parent.parent);let n=O.default.canHaveModifiers(e)?O.default.getModifiers(e):void 0;return n!==void 0&&n.some(s=>s.kind===O.default.SyntaxKind.ExportKeyword)?!0:e.parent===void 0||!O.default.isSourceFile(e.parent)?!1:this.getLocalExportedDeclarationsOfSourceFile(t.getSourceFile()).has(t)}getDirectImportOfIdentifier(t){let e=this.checker.getSymbolAtLocation(t);if(e===void 0||e.declarations===void 0||e.declarations.length!==1)return null;let n=e.declarations[0],r=A_(n);return r===null||!O.default.isStringLiteral(r.moduleSpecifier)?null:{from:r.moduleSpecifier.text,name:b_(n,t),node:r}}getImportOfNamespacedIdentifier(t,e){if(e===null)return null;let n=this.checker.getSymbolAtLocation(e);if(!n||n.declarations===void 0)return null;let r=n.declarations.length===1?n.declarations[0]:null;if(!r)return null;let s=O.default.isNamespaceImport(r)?r:null;if(!s)return null;let i=s.parent.parent;return O.default.isStringLiteral(i.moduleSpecifier)?{from:i.moduleSpecifier.text,name:t.text,node:s.parent.parent}:null}getDeclarationOfSymbol(t,e){let n;if(t.valueDeclaration!==void 0?n=t.valueDeclaration:t.declarations!==void 0&&t.declarations.length>0&&(n=t.declarations[0]),n!==void 0&&O.default.isShorthandPropertyAssignment(n)){let s=this.checker.getShorthandAssignmentValueSymbol(n);return s===void 0?null:this.getDeclarationOfSymbol(s,e)}else if(n!==void 0&&O.default.isExportSpecifier(n)){let s=this.checker.getExportSpecifierLocalTargetSymbol(n);return s===void 0?null:this.getDeclarationOfSymbol(s,e)}let r=e&&this.getImportOfIdentifier(e);for(;t.flags&O.default.SymbolFlags.Alias;)t=this.checker.getAliasedSymbol(t);return t.valueDeclaration!==void 0?{node:t.valueDeclaration,viaModule:this._viaModule(t.valueDeclaration,e,r)}:t.declarations!==void 0&&t.declarations.length>0?{node:t.declarations[0],viaModule:this._viaModule(t.declarations[0],e,r)}:null}_reflectDecorator(t){let e=t.expression,n=null;if(O.default.isCallExpression(e)&&(n=Array.from(e.arguments),e=e.expression),!d_(e))return null;let r=O.default.isIdentifier(e)?e:e.name,s=this.getImportOfIdentifier(r);return{name:r.text,identifier:e,import:s,node:t,args:n}}getLocalExportedDeclarationsOfSourceFile(t){let e=t;if(e[zp]!==void 0)return e[zp];let n=new Set;e[zp]=n;let r=this.checker.getSymbolAtLocation(e);if(r===void 0||r.exports===void 0)return n;let s=r.exports.values(),i=s.next();for(;i.done!==!0;){let o=i.value;o.flags&O.default.SymbolFlags.Alias&&(o=this.checker.getAliasedSymbol(o)),o.valueDeclaration!==void 0&&o.valueDeclaration.getSourceFile()===t&&n.add(o.valueDeclaration),i=s.next()}return n}_viaModule(t,e,n){return n===null&&e!==null&&t.getSourceFile()!==e.getSourceFile()?jr:n!==null&&n.from!==null&&!n.from.startsWith(".")?n.from:null}};function x_(t){let e=O.default.getModifiers(t),n=!1,r=!1,s=Ee.PublicWritable;if(e!==void 0)for(let i of e)switch(i.kind){case O.default.SyntaxKind.StaticKeyword:n=!0;break;case O.default.SyntaxKind.PrivateKeyword:s=Ee.Private;break;case O.default.SyntaxKind.ProtectedKeyword:s=Ee.Protected;break;case O.default.SyntaxKind.ReadonlyKeyword:r=!0;break}return r&&s===Ee.PublicWritable&&(s=Ee.PublicReadonly),t.name!==void 0&&O.default.isPrivateIdentifier(t.name)&&(s=Ee.EcmaScriptPrivate),{accessLevel:s,isStatic:n}}function oh(t){let e=null,n=null,r=null,s=null;if(O.default.isPropertyDeclaration(t))e=Wr.Property,n=t.initializer||null;else if(O.default.isGetAccessorDeclaration(t))e=Wr.Getter;else if(O.default.isSetAccessorDeclaration(t))e=Wr.Setter;else if(O.default.isMethodDeclaration(t))e=Wr.Method;else if(O.default.isConstructorDeclaration(t))e=Wr.Constructor;else return null;if(O.default.isConstructorDeclaration(t))r="constructor";else if(O.default.isIdentifier(t.name))r=t.name.text,s=t.name;else if(O.default.isStringLiteral(t.name))r=t.name.text,s=t.name;else if(O.default.isPrivateIdentifier(t.name))r=t.name.text,s=t.name;else return null;let{accessLevel:i,isStatic:o}=x_(t);return{node:t,implementation:t,kind:e,type:t.type||null,accessLevel:i,name:r,nameNode:s,value:n,isStatic:o}}function ah(t){let e=new Map;return t.properties.forEach(n=>{if(O.default.isPropertyAssignment(n)){let r=T_(n.name);if(r===null)return;e.set(r,n.initializer)}else if(O.default.isShorthandPropertyAssignment(n))e.set(n.name.text,n.name);else return}),e}function Nv(t){if(!O.default.isClassDeclaration(t))throw new Error(`Reflecting on a ${O.default.SyntaxKind[t.kind]} instead of a ClassDeclaration.`);return t}function Dv(t){return O.default.isIdentifier(t)?t.text:null}function T_(t){return O.default.isIdentifier(t)||O.default.isStringLiteral(t)||O.default.isNumericLiteral(t)?t.text:null}function I_(t){for(;O.default.isQualifiedName(t.left);)t=t.left;return O.default.isIdentifier(t.left)?t.left:null}function C_(t){for(;O.default.isPropertyAccessExpression(t.expression);)t=t.expression;return O.default.isIdentifier(t.expression)?t.expression:null}function A_(t){let e=t.parent;for(;e&&!O.default.isSourceFile(e);){if(O.default.isImportDeclaration(e))return e;e=e.parent}return null}function b_(t,e){return O.default.isImportSpecifier(t)?(t.propertyName!==void 0?t.propertyName:t.name).text:e.text}var zp=Symbol("LocalExportedDeclarations");function Yp(t){return t.name!==void 0&&qv.default.isIdentifier(t.name)?t.name:null}var Ns=class{constructor(t,e=null){this.node=t,this.identifiers=[],this.synthetic=!1,this._alias=null,e===jr?(this.isAmbient=!0,this.bestGuessOwningModule=null):(this.isAmbient=!1,this.bestGuessOwningModule=e);let n=Yp(t);n!==null&&this.identifiers.push(n)}get ownedByModuleGuess(){return this.bestGuessOwningModule!==null?this.bestGuessOwningModule.specifier:null}get hasOwningModuleGuess(){return this.bestGuessOwningModule!==null}get debugName(){let t=Yp(this.node);return t!==null?t.text:null}get alias(){return this._alias}addIdentifier(t){this.identifiers.push(t)}getIdentityIn(t){return this.identifiers.find(e=>e.getSourceFile()===t)||null}getIdentityInExpression(t){let e=t.getSourceFile();return this.identifiers.find(n=>n.getSourceFile()!==e?!1:n.pos>=t.pos&&n.end<=t.end)||null}getOriginForDiagnostics(t,e=t){let n=this.getIdentityInExpression(t);return n!==null?n:e}cloneWithAlias(t){let e=new Ns(this.node,this.isAmbient?jr:this.bestGuessOwningModule);return e.identifiers=[...this.identifiers],e._alias=t,e}cloneWithNoIdentifiers(){let t=new Ns(this.node,this.isAmbient?jr:this.bestGuessOwningModule);return t._alias=this._alias,t.identifiers=[],t}};var ql;(function(t){t[t.None=0]="None",t[t.ForceNewImport=1]="ForceNewImport",t[t.NoAliasing=2]="NoAliasing",t[t.AllowTypeImports=4]="AllowTypeImports",t[t.AllowRelativeDtsImports=8]="AllowRelativeDtsImports",t[t.AllowAmbientReferences=16]="AllowAmbientReferences"})(ql||(ql={}));var _v=Symbol("patchedReferencedAliases");function lh(t){D_(t)||Rv();let e=t.getEmitResolver(),n=e[_v];if(n!==void 0)return n;let r=e.isReferencedAliasDeclaration;r===void 0&&Rv();let s=new Set;return e.isReferencedAliasDeclaration=function(i,...o){return ch(i)&&s.has(i)?!0:r.call(e,i,...o)},e[_v]=s}function ch(t){return Ul.default.isImportSpecifier(t)||Ul.default.isNamespaceImport(t)||Ul.default.isImportClause(t)}function D_(t){return t.getEmitResolver!==void 0}function Rv(){throw Error(`Angular compiler is incompatible with this version of the TypeScript compiler.

If you recently updated TypeScript and this issue surfaces now, consider downgrading.

Please report an issue on the Angular repositories when this issue surfaces and you are using a supposedly compatible TypeScript version.`)}var ZO=Symbol("DefaultImportDeclaration");var uh=class{constructor(){this.fileToNamedImports=new WeakMap,this.fileToNamespaceImports=new WeakMap}isPotentialReferenceToNamedImport(t,e,n){let r=t.getSourceFile();this.scanImports(r);let i=this.fileToNamedImports.get(r).get(n),o=i?.get(e);return o!==void 0&&o.has(t.text)}isPotentialReferenceToNamespaceImport(t,e){var n,r;let s=t.getSourceFile();return this.scanImports(s),(r=(n=this.fileToNamespaceImports.get(s).get(e))==null?void 0:n.has(t.text))!=null?r:!1}scanImports(t){var e,n;if(this.fileToNamedImports.has(t)&&this.fileToNamespaceImports.has(t))return;let r=new Map,s=new Map;this.fileToNamedImports.set(t,r),this.fileToNamespaceImports.set(t,s);for(let i of t.statements){if(!Vl.default.isImportDeclaration(i)||!Vl.default.isStringLiteralLike(i.moduleSpecifier)||((e=i.importClause)==null?void 0:e.namedBindings)===void 0)continue;let o=i.moduleSpecifier.text;if(Vl.default.isNamespaceImport(i.importClause.namedBindings))s.has(o)||s.set(o,new Set),s.get(o).add(i.importClause.namedBindings.name.text);else for(let a of i.importClause.namedBindings.elements){let l=a.name.text,c=a.propertyName===void 0?l:a.propertyName.text;r.has(o)||r.set(o,new Map);let u=r.get(o);u.has(c)||u.set(c,new Set),(n=u.get(c))==null||n.add(l)}}}};function P_(){let t=new Set;return(e,n)=>{let r=e;if(r.identifiers===void 0)throw new Error("Source file unexpectedly lacks map of parsed `identifiers`.");let s=a=>!r.identifiers.has(a)&&!t.has(a);if(s(n))return t.add(n),null;let i=null,o=1;do i=`${n}_${o++}`;while(!s(i));return t.add(i),Qp.default.factory.createUniqueName(i,Qp.default.GeneratedIdentifierFlags.Optimistic)}}function k_(t,e){return n=>{let{affectedFiles:r,newImports:s,updatedImports:i,reusedOriginalAliasDeclarations:o}=t.finalize();if(o.size>0){let l=lh(n);o.forEach(c=>l.add(c))}if(e!==void 0)for(let[l,c]of e.entries())c.length>0&&r.add(l);let a=l=>{if(!hr.default.isImportDeclaration(l)||l.importClause===void 0||!hr.default.isImportClause(l.importClause))return l;let c=l.importClause;if(c.namedBindings===void 0||!hr.default.isNamedImports(c.namedBindings)||!i.has(c.namedBindings))return l;let u=n.factory.updateImportClause(c,c.isTypeOnly,c.name,i.get(c.namedBindings)),h=n.factory.updateImportDeclaration(l,l.modifiers,u,l.moduleSpecifier,l.attributes);return hr.default.setOriginalNode(h,{importClause:u,kind:h.kind}),h};return l=>{var c,u;if(!r.has(l.fileName))return l;l=hr.default.visitEachChild(l,a,n);let h=(c=e?.get(l.fileName))!=null?c:[],d=[],g=[];for(let v of l.statements)M_(v)?d.push(v):g.push(v);return n.factory.updateSourceFile(l,[...d,...(u=s.get(l.fileName))!=null?u:[],...h,...g],l.isDeclarationFile,l.referencedFiles,l.typeReferenceDirectives,l.hasNoDefaultLib,l.libReferenceDirectives)}}}function M_(t){return hr.default.isImportDeclaration(t)||hr.default.isImportEqualsDeclaration(t)||hr.default.isNamespaceImport(t)}function L_(t,e){let n=Hv(e),r=t.directReuseCache.get(n);if(r!==void 0)return r;let s=t.namespaceImportReuseCache.get(e.exportModuleSpecifier);return s===void 0?null:e.exportSymbolName===null?s:[s,Gv.default.factory.createIdentifier(e.exportSymbolName)]}function Pv(t,e,n){e.directReuseCache.set(Hv(t),n),t.exportSymbolName===null&&!Array.isArray(n)&&e.namespaceImportReuseCache.set(t.exportModuleSpecifier,n)}function Hv(t){return`${t.requestedFile.fileName}:${t.exportModuleSpecifier}:${t.exportSymbolName}`}function O_(t,e,n){let r=null;for(let a=e.statements.length-1;a>=0;a--){let l=e.statements[a];if(!(!bs.default.isImportDeclaration(l)||!bs.default.isStringLiteral(l.moduleSpecifier)||!l.importClause||l.importClause.isTypeOnly||l.moduleSpecifier.text!==n.exportModuleSpecifier)&&l.importClause.namedBindings){let u=l.importClause.namedBindings;if(bs.default.isNamespaceImport(u))return t.reusedAliasDeclarations.add(u),n.exportSymbolName===null?u.name:[u.name,bs.default.factory.createIdentifier(n.exportSymbolName)];if(bs.default.isNamedImports(u)&&n.exportSymbolName!==null){let h=u.elements.find(d=>!d.isTypeOnly&&(d.propertyName?d.propertyName.text===n.exportSymbolName:d.name.text===n.exportSymbolName));if(h!==void 0)return t.reusedAliasDeclarations.add(h),h.name;r=l}}}if(r===null||n.exportSymbolName===null)return null;t.updatedImports.has(r)||t.updatedImports.set(r,[]);let s=t.updatedImports.get(r),i=bs.default.factory.createIdentifier(n.exportSymbolName),o=t.generateUniqueIdentifier(e,n.exportSymbolName);return s.push({propertyName:i,fileUniqueAlias:o}),o??i}var Hl=class{constructor(t={}){var e;this._config=t,this.newImports=new Map,this.nextUniqueIndex=0,this.reuseGeneratedImportsTracker={directReuseCache:new Map,namespaceImportReuseCache:new Map},this.config={shouldUseSingleQuotes:()=>!1,rewriter:null,disableOriginalSourceFileReuse:!1,forceGenerateNamespacesForNewImports:!1,namespaceImportPrefix:"i",generateUniqueIdentifier:(e=this._config.generateUniqueIdentifier)!=null?e:P_(),...this._config},this.reuseSourceFileImportsTracker={generateUniqueIdentifier:this.config.generateUniqueIdentifier,reusedAliasDeclarations:new Set,updatedImports:new Map}}addSideEffectImport(t,e){this.config.rewriter!==null&&(e=this.config.rewriter.rewriteSpecifier(e,t.fileName)),this._getNewImportsTrackerForFile(t).sideEffectImports.add(e)}addImport(t){this.config.rewriter!==null&&(t.exportSymbolName!==null&&(t.exportSymbolName=this.config.rewriter.rewriteSymbol(t.exportSymbolName,t.exportModuleSpecifier)),t.exportModuleSpecifier=this.config.rewriter.rewriteSpecifier(t.exportModuleSpecifier,t.requestedFile.fileName));let e=L_(this.reuseGeneratedImportsTracker,t);if(e!==null)return kv(!!t.asTypeReference,e);let n=this._generateNewImport(t);return Pv(t,this.reuseGeneratedImportsTracker,n),kv(!!t.asTypeReference,n)}_generateNewImport(t){var e;let{requestedFile:n}=t,r=this.config.disableOriginalSourceFileReuse,s=this.config.forceGenerateNamespacesForNewImports;if(!r){let h=O_(this.reuseSourceFileImportsTracker,n,t);if(h!==null)return h}let{namedImports:i,namespaceImports:o}=this._getNewImportsTrackerForFile(n);if(t.exportSymbolName===null||s){let h=`${this.config.namespaceImportPrefix}${this.nextUniqueIndex++}`,d=Be.default.factory.createNamespaceImport((e=this.config.generateUniqueIdentifier(n,h))!=null?e:Be.default.factory.createIdentifier(h));return o.set(t.exportModuleSpecifier,d),Pv({...t,exportSymbolName:null},this.reuseGeneratedImportsTracker,d.name),t.exportSymbolName!==null?[d.name,Be.default.factory.createIdentifier(t.exportSymbolName)]:d.name}i.has(t.exportModuleSpecifier)||i.set(t.exportModuleSpecifier,[]);let a=Be.default.factory.createIdentifier(t.exportSymbolName),l=this.config.generateUniqueIdentifier(n,t.exportSymbolName),c=l!==null,u=c?l:a;return i.get(t.exportModuleSpecifier).push(Be.default.factory.createImportSpecifier(!1,c?a:void 0,u)),u}finalize(){let t=new Set,e=new Map,n=new Map,r=(s,i)=>{t.add(s),n.has(s)?n.get(s).push(i):n.set(s,[i])};return this.reuseSourceFileImportsTracker.updatedImports.forEach((s,i)=>{let o=i.importClause.namedBindings,a=Be.default.factory.updateNamedImports(o,o.elements.concat(s.map(({propertyName:l,fileUniqueAlias:c})=>Be.default.factory.createImportSpecifier(!1,c!==null?l:void 0,c??l))));t.add(i.getSourceFile().fileName),e.set(o,a)}),this.newImports.forEach(({namedImports:s,namespaceImports:i,sideEffectImports:o},a)=>{let l=this.config.shouldUseSingleQuotes(a),c=a.fileName;o.forEach(u=>{r(c,Be.default.factory.createImportDeclaration(void 0,void 0,Be.default.factory.createStringLiteral(u)))}),i.forEach((u,h)=>{let d=Be.default.factory.createImportDeclaration(void 0,Be.default.factory.createImportClause(!1,void 0,u),Be.default.factory.createStringLiteral(h,l));Be.default.setOriginalNode(u.name,d),r(c,d)}),s.forEach((u,h)=>{let d=Be.default.factory.createImportDeclaration(void 0,Be.default.factory.createImportClause(!1,void 0,Be.default.factory.createNamedImports(u)),Be.default.factory.createStringLiteral(h,l));r(c,d)})}),{affectedFiles:t,newImports:n,updatedImports:e,reusedOriginalAliasDeclarations:this.reuseSourceFileImportsTracker.reusedAliasDeclarations}}toTsTransform(t){return k_(this,t)}transformTsFile(t,e,n){let r=n?new Map([[e.fileName,n]]):void 0;return this.toTsTransform(r)(t)(e)}_getNewImportsTrackerForFile(t){return this.newImports.has(t)||this.newImports.set(t,{namespaceImports:new Map,namedImports:new Map,sideEffectImports:new Set}),this.newImports.get(t)}};function kv(t,e){return t?Array.isArray(e)?Be.default.factory.createQualifiedName(e[0],e[1]):e:Array.isArray(e)?Be.default.factory.createPropertyAccessExpression(e[0],e[1]):e}var e1=new Map([[Yt.Minus,"-"],[Yt.Plus,"+"]]),t1=new Map([[T.And,"&&"],[T.Bigger,">"],[T.BiggerEquals,">="],[T.BitwiseAnd,"&"],[T.BitwiseOr,"|"],[T.Divide,"/"],[T.Equals,"=="],[T.Identical,"==="],[T.Lower,"<"],[T.LowerEquals,"<="],[T.Minus,"-"],[T.Modulo,"%"],[T.Multiply,"*"],[T.NotEquals,"!="],[T.NotIdentical,"!=="],[T.Or,"||"],[T.Plus,"+"],[T.NullishCoalesce,"??"]]);var Xp={};function Wv(t,e){return n(t);function n(i){return r(i)!==Xp}function r(i){return Te.default.isImportTypeNode(i)||Te.default.isTypeReferenceNode(i)&&!s(i)?Xp:Te.default.forEachChild(i,r)}function s(i){return e(i)?i.typeArguments===void 0||i.typeArguments.every(n):!1}}var jv=class{constructor(t){this.translator=t}emitType(t){let e=n=>{let r=s=>{if(Te.default.isImportTypeNode(s))throw new Error("Unable to emit import type");if(Te.default.isTypeReferenceNode(s))return this.emitTypeReference(s);if(Te.default.isLiteralExpression(s)){let i;if(Te.default.isStringLiteral(s))i=Te.default.factory.createStringLiteral(s.text);else if(Te.default.isNumericLiteral(s))i=Te.default.factory.createNumericLiteral(s.text);else if(Te.default.isBigIntLiteral(s))i=Te.default.factory.createBigIntLiteral(s.text);else if(Te.default.isNoSubstitutionTemplateLiteral(s))i=Te.default.factory.createNoSubstitutionTemplateLiteral(s.text,s.rawText);else if(Te.default.isRegularExpressionLiteral(s))i=Te.default.factory.createRegularExpressionLiteral(s.text);else throw new Error(`Unsupported literal kind ${Te.default.SyntaxKind[s.kind]}`);return Te.default.setTextRange(i,{pos:-1,end:-1}),i}else return Te.default.visitEachChild(s,r,n)};return s=>Te.default.visitNode(s,r,Te.default.isTypeNode)};return Te.default.transform(t,[e]).transformed[0]}emitTypeReference(t){let e=this.translator(t);if(e===null)throw new Error("Unable to emit an unresolved reference");let n;return t.typeArguments!==void 0&&(n=Te.default.factory.createNodeArray(t.typeArguments.map(r=>this.emitType(r)))),Te.default.factory.updateTypeReferenceNode(t,e.typeName,n)}};var Mv;(function(t){t.CLOSURE="* @pureOrBreakMyCode ",t.TERSER="@__PURE__"})(Mv||(Mv={}));var n1={"+":Ie.default.SyntaxKind.PlusToken,"-":Ie.default.SyntaxKind.MinusToken,"!":Ie.default.SyntaxKind.ExclamationToken},r1={"&&":Ie.default.SyntaxKind.AmpersandAmpersandToken,">":Ie.default.SyntaxKind.GreaterThanToken,">=":Ie.default.SyntaxKind.GreaterThanEqualsToken,"&":Ie.default.SyntaxKind.AmpersandToken,"|":Ie.default.SyntaxKind.BarToken,"/":Ie.default.SyntaxKind.SlashToken,"==":Ie.default.SyntaxKind.EqualsEqualsToken,"===":Ie.default.SyntaxKind.EqualsEqualsEqualsToken,"<":Ie.default.SyntaxKind.LessThanToken,"<=":Ie.default.SyntaxKind.LessThanEqualsToken,"-":Ie.default.SyntaxKind.MinusToken,"%":Ie.default.SyntaxKind.PercentToken,"*":Ie.default.SyntaxKind.AsteriskToken,"!=":Ie.default.SyntaxKind.ExclamationEqualsToken,"!==":Ie.default.SyntaxKind.ExclamationEqualsEqualsToken,"||":Ie.default.SyntaxKind.BarBarToken,"+":Ie.default.SyntaxKind.PlusToken,"??":Ie.default.SyntaxKind.QuestionQuestionToken},s1={const:Ie.default.NodeFlags.Const,let:Ie.default.NodeFlags.Let,var:Ie.default.NodeFlags.None};S();var Kv=require("module"),f1=(0,Kv.createRequire)(k),Oi;(function(t){t[t.Unaccounted=0]="Unaccounted",t[t.Setup=1]="Setup",t[t.TypeScriptProgramCreate=2]="TypeScriptProgramCreate",t[t.Reconciliation=3]="Reconciliation",t[t.ResourceUpdate=4]="ResourceUpdate",t[t.TypeScriptDiagnostics=5]="TypeScriptDiagnostics",t[t.Analysis=6]="Analysis",t[t.Resolve=7]="Resolve",t[t.CycleDetection=8]="CycleDetection",t[t.TcbGeneration=9]="TcbGeneration",t[t.TcbUpdateProgram=10]="TcbUpdateProgram",t[t.TypeScriptEmit=11]="TypeScriptEmit",t[t.Compile=12]="Compile",t[t.TtcAutocompletion=13]="TtcAutocompletion",t[t.TtcDiagnostics=14]="TtcDiagnostics",t[t.TtcSymbol=15]="TtcSymbol",t[t.LsReferencesAndRenames=16]="LsReferencesAndRenames",t[t.LsQuickInfo=17]="LsQuickInfo",t[t.LsDefinition=18]="LsDefinition",t[t.LsCompletions=19]="LsCompletions",t[t.LsTcb=20]="LsTcb",t[t.LsDiagnostics=21]="LsDiagnostics",t[t.LsComponentLocations=22]="LsComponentLocations",t[t.LsSignatureHelp=23]="LsSignatureHelp",t[t.OutliningSpans=24]="OutliningSpans",t[t.LAST=25]="LAST",t[t.LsCodeFixes=26]="LsCodeFixes",t[t.LsCodeFixesAll=27]="LsCodeFixesAll"})(Oi||(Oi={}));var Wl;(function(t){t[t.InputDtsFile=0]="InputDtsFile",t[t.InputTsFile=1]="InputTsFile",t[t.AnalyzeComponent=2]="AnalyzeComponent",t[t.AnalyzeDirective=3]="AnalyzeDirective",t[t.AnalyzeInjectable=4]="AnalyzeInjectable",t[t.AnalyzeNgModule=5]="AnalyzeNgModule",t[t.AnalyzePipe=6]="AnalyzePipe",t[t.TraitAnalyze=7]="TraitAnalyze",t[t.TraitReuseAnalysis=8]="TraitReuseAnalysis",t[t.SourceFilePhysicalChange=9]="SourceFilePhysicalChange",t[t.SourceFileLogicalChange=10]="SourceFileLogicalChange",t[t.SourceFileReuseAnalysis=11]="SourceFileReuseAnalysis",t[t.GenerateTcb=12]="GenerateTcb",t[t.SkipGenerateTcbNoInline=13]="SkipGenerateTcbNoInline",t[t.ReuseTypeCheckFile=14]="ReuseTypeCheckFile",t[t.UpdateTypeCheckProgram=15]="UpdateTypeCheckProgram",t[t.EmitSkipSourceFile=16]="EmitSkipSourceFile",t[t.EmitSourceFile=17]="EmitSourceFile",t[t.LAST=18]="LAST"})(Wl||(Wl={}));var ph;(function(t){t[t.Initial=0]="Initial",t[t.TypeScriptProgramCreate=1]="TypeScriptProgramCreate",t[t.PreAnalysis=2]="PreAnalysis",t[t.Analysis=3]="Analysis",t[t.Resolve=4]="Resolve",t[t.TtcGeneration=5]="TtcGeneration",t[t.TtcUpdateProgram=6]="TtcUpdateProgram",t[t.PreEmit=7]="PreEmit",t[t.Emit=8]="Emit",t[t.LAST=9]="LAST"})(ph||(ph={}));var $_=class{eventCount(){}memory(){}phase(){return Oi.Unaccounted}inPhase(t,e){return e()}reset(){}},d1=new $_;var Gn=A(require("typescript"),1),Se=A(require("typescript"),1),K_=A(require("typescript"),1);var z_=A(require("typescript"),1),X_=A(require("typescript"),1),Y_=A(require("typescript"),1),Q_=A(require("typescript"),1),J_=A(require("typescript"),1),Z_=A(require("typescript"),1),eR=A(require("typescript"),1);var tR=A(require("typescript"),1),nR=A(require("typescript"),1);var rR=A(require("typescript"),1);var sR=A(require("typescript"),1);var iR=A(require("typescript"),1),oR=A(require("typescript"),1);var aR=A(require("typescript"),1);var lR=A(require("typescript"),1);var cR=A(require("typescript"),1);var uR=A(require("typescript"),1),bn=A(require("typescript"),1),mh=A(require("typescript"),1);var Nn=A(require("typescript"),1);var ER=A(require("typescript"),1),SR=A(require("typescript"),1);var wR=A(require("typescript"),1);var xR=A(require("typescript"),1);var TR=A(require("typescript"),1),$1=(0,Zv.createRequire)(k),H_="@angular/core";function ey(t){return t.import!==null&&t.import.from===H_}function Fi(t,e,n){return n?t.name===e:ey(t)?t.import.name===e:!1}function ty(t,e,n){return t.filter(r=>{var s;let i=n?r.name:(s=r.import)==null?void 0:s.name;return i===void 0||!e.includes(i)?!1:n||ey(r)})}function ny(t){for(;Gn.default.isAsExpression(t)||Gn.default.isParenthesizedExpression(t);)t=t.expression;return t}function W_(t){if(t=ny(t),!Gn.default.isArrowFunction(t)&&!Gn.default.isFunctionExpression(t))return null;let e=t.body;if(Gn.default.isBlock(e)){if(e.statements.length!==1)return null;let n=e.statements[0];return!Gn.default.isReturnStatement(n)||n.expression===void 0?null:n.expression}else return e}function j_(t,e){if(t=ny(t),!Gn.default.isCallExpression(t)||t.arguments.length!==1)return null;let n=Gn.default.isPropertyAccessExpression(t.expression)?t.expression.name:t.expression;if(!Gn.default.isIdentifier(n))return null;let r=W_(t.arguments[0]);if(r===null)return null;let s=e.getImportOfIdentifier(n);return s===null||s.from!=="@angular/core"||s.name!=="forwardRef"?null:r}function $e(t){return{op:t,literal:!0}}function zv(t){return{op:t,literal:!1}}var H1=new Map([[Se.default.SyntaxKind.PlusToken,$e((t,e)=>t+e)],[Se.default.SyntaxKind.MinusToken,$e((t,e)=>t-e)],[Se.default.SyntaxKind.AsteriskToken,$e((t,e)=>t*e)],[Se.default.SyntaxKind.SlashToken,$e((t,e)=>t/e)],[Se.default.SyntaxKind.PercentToken,$e((t,e)=>t%e)],[Se.default.SyntaxKind.AmpersandToken,$e((t,e)=>t&e)],[Se.default.SyntaxKind.BarToken,$e((t,e)=>t|e)],[Se.default.SyntaxKind.CaretToken,$e((t,e)=>t^e)],[Se.default.SyntaxKind.LessThanToken,$e((t,e)=>t<e)],[Se.default.SyntaxKind.LessThanEqualsToken,$e((t,e)=>t<=e)],[Se.default.SyntaxKind.GreaterThanToken,$e((t,e)=>t>e)],[Se.default.SyntaxKind.GreaterThanEqualsToken,$e((t,e)=>t>=e)],[Se.default.SyntaxKind.EqualsEqualsToken,$e((t,e)=>t==e)],[Se.default.SyntaxKind.EqualsEqualsEqualsToken,$e((t,e)=>t===e)],[Se.default.SyntaxKind.ExclamationEqualsToken,$e((t,e)=>t!=e)],[Se.default.SyntaxKind.ExclamationEqualsEqualsToken,$e((t,e)=>t!==e)],[Se.default.SyntaxKind.LessThanLessThanToken,$e((t,e)=>t<<e)],[Se.default.SyntaxKind.GreaterThanGreaterThanToken,$e((t,e)=>t>>e)],[Se.default.SyntaxKind.GreaterThanGreaterThanGreaterThanToken,$e((t,e)=>t>>>e)],[Se.default.SyntaxKind.AsteriskAsteriskToken,$e((t,e)=>Math.pow(t,e))],[Se.default.SyntaxKind.AmpersandAmpersandToken,zv((t,e)=>t&&e)],[Se.default.SyntaxKind.BarBarToken,zv((t,e)=>t||e)]]),W1=new Map([[Se.default.SyntaxKind.TildeToken,t=>~t],[Se.default.SyntaxKind.MinusToken,t=>-t],[Se.default.SyntaxKind.PlusToken,t=>+t],[Se.default.SyntaxKind.ExclamationToken,t=>!t]]);var hh;(function(t){t[t.Directive=0]="Directive",t[t.Pipe=1]="Pipe",t[t.NgModule=2]="NgModule"})(hh||(hh={}));var Xv;(function(t){t[t.Selector=0]="Selector",t[t.HostDirective=1]="HostDirective"})(Xv||(Xv={}));var fh;(function(t){t[t.FULL=0]="FULL",t[t.PARTIAL=1]="PARTIAL",t[t.LOCAL=2]="LOCAL"})(fh||(fh={}));var Yv;(function(t){t[t.PRIMARY=0]="PRIMARY",t[t.SHARED=1]="SHARED",t[t.WEAK=2]="WEAK"})(Yv||(Yv={}));var Qv;(function(t){t[t.Pending=0]="Pending",t[t.Analyzed=1]="Analyzed",t[t.Resolved=2]="Resolved",t[t.Skipped=3]="Skipped"})(Qv||(Qv={}));var dh;(function(t){t[t.NgModule=0]="NgModule",t[t.Standalone=1]="Standalone"})(dh||(dh={}));function Kl({api:t,call:e},n){if(!t.allowedAccessLevels.includes(n.accessLevel))throw new fr(se.INITIALIZER_API_DISALLOWED_MEMBER_VISIBILITY,e,Gl(`Cannot use "${t.functionName}" on a class member that is declared as ${sh(n.accessLevel)}.`,[Gl("Update the class field to be either: "+t.allowedAccessLevels.map(r=>sh(r)).join(", "))]))}function zl(t,e,n,r){if(!bn.default.isCallExpression(e))return null;let s=pR(e,t,r)||hR(e,t,r)||fR(e,t,r);if(s===null)return null;let{api:i,apiReference:o,isRequired:a}=s,l=n.getImportOfIdentifier(o);return l===null||i.functionName!==l.name||i.owningModule!==l.from?null:{api:i,call:e,isRequired:a}}function pR(t,e,n){let r=t.expression;if(!bn.default.isIdentifier(r))return null;let s=e.find(i=>n.isPotentialReferenceToNamedImport(r,i.functionName,i.owningModule));return s===void 0?null:{api:s,apiReference:r,isRequired:!1}}function hR(t,e,n){let r=t.expression;if(!bn.default.isPropertyAccessExpression(r)||!bn.default.isIdentifier(r.expression)||r.name.text!=="required")return null;let s=r.expression,i=e.find(o=>n.isPotentialReferenceToNamedImport(s,o.functionName,o.owningModule));return i===void 0?null:{api:i,apiReference:s,isRequired:!0}}function fR(t,e,n){let r=t.expression;if(!bn.default.isPropertyAccessExpression(r))return null;let s=null,i,o=!1;if(bn.default.isIdentifier(r.expression)&&bn.default.isIdentifier(r.name)){let a=r.expression;s=r.name,i=e.find(l=>r.name.text===l.functionName&&n.isPotentialReferenceToNamespaceImport(a,l.owningModule))}else if(bn.default.isPropertyAccessExpression(r.expression)&&bn.default.isIdentifier(r.expression.expression)&&bn.default.isIdentifier(r.expression.name)&&r.name.text==="required"){let a=r.expression.name.text,l=r.expression.expression;s=r.expression.name,i=e.find(c=>c.functionName===a&&n.isPotentialReferenceToNamespaceImport(l,c.owningModule)),o=!0}return i===void 0||s===null?null:{api:i,apiReference:s,isRequired:o}}function vh(t){if(!mh.default.isObjectLiteralExpression(t))throw new fr(se.VALUE_HAS_WRONG_TYPE,t,"Argument needs to be an object literal that is statically analyzable.");let e=ah(t),n;if(e.has("alias")){let r=e.get("alias");if(!mh.default.isStringLiteralLike(r))throw new fr(se.VALUE_HAS_WRONG_TYPE,r,"Alias needs to be a string that is statically analyzable.");n=r.text}return{alias:n}}function ry(t,e,n){var r;if(t.value===null)return null;let s=zl([{functionName:"input",owningModule:"@angular/core",allowedAccessLevels:[Ee.PublicWritable,Ee.PublicReadonly,Ee.Protected]}],t.value,e,n);if(s===null)return null;Kl(s,t);let i=s.isRequired?s.call.arguments[0]:s.call.arguments[1],o=i!==void 0?vh(i):null,a=t.name;return{isSignal:!0,classPropertyName:a,bindingPropertyName:(r=o?.alias)!=null?r:a,required:s.isRequired,transform:null}}function sy(t,e,n){var r;if(t.value===null)return null;let s=zl([{functionName:"model",owningModule:"@angular/core",allowedAccessLevels:[Ee.PublicWritable,Ee.PublicReadonly,Ee.Protected]}],t.value,e,n);if(s===null)return null;Kl(s,t);let i=s.isRequired?s.call.arguments[0]:s.call.arguments[1],o=i!==void 0?vh(i):null,a=t.name,l=(r=o?.alias)!=null?r:a;return{call:s.call,input:{isSignal:!0,transform:null,classPropertyName:a,bindingPropertyName:l,required:s.isRequired},output:{isSignal:!1,classPropertyName:a,bindingPropertyName:l+"Change"}}}var Jv=[Ee.PublicWritable,Ee.PublicReadonly,Ee.Protected];function iy(t,e,n){var r;if(t.value===null)return null;let s=zl([{functionName:"output",owningModule:"@angular/core",allowedAccessLevels:Jv},{functionName:"outputFromObservable",owningModule:"@angular/core/rxjs-interop",allowedAccessLevels:Jv}],t.value,e,n);if(s===null)return null;if(s.isRequired)throw new fr(se.INITIALIZER_API_NO_REQUIRED_FUNCTION,s.call,'Output does not support ".required()".');Kl(s,t);let i=s.api.functionName==="output"?s.call.arguments[0]:s.call.arguments[1],o=i!==void 0?vh(i):null,a=t.name;return{call:s.call,metadata:{isSignal:!1,classPropertyName:a,bindingPropertyName:(r=o?.alias)!=null?r:a}}}var dR=["viewChild","viewChildren","contentChild","contentChildren"],mR=dR.map(t=>({functionName:t,owningModule:"@angular/core",allowedAccessLevels:[Ee.PublicWritable,Ee.PublicReadonly,Ee.Protected,Ee.Private]})),gR=t=>t!=="contentChildren";function oy(t,e,n){if(t.value===null)return null;let r=zl(mR,t.value,e,n);if(r===null)return null;Kl(r,t);let{functionName:s}=r.api,i=s==="viewChild"||s==="contentChild",o=r.call.arguments[0];if(o===void 0)throw new fr(se.VALUE_HAS_WRONG_TYPE,r.call,"No locator specified.");let a=r.call.arguments[1];if(a!==void 0&&!Nn.default.isObjectLiteralExpression(a))throw new fr(se.VALUE_HAS_WRONG_TYPE,a,"Argument needs to be an object literal.");let l=a&&ah(a),c=l?.has("read")?ay(l.get("read")):null,u=l?.has("descendants")?yR(l.get("descendants")):gR(s);return{name:s,call:r.call,metadata:{isSignal:!0,propertyName:t.name,static:!1,emitDistinctChangesOnly:!0,predicate:vR(o,e),first:i,read:c,descendants:u}}}function vR(t,e){let n=j_(t,e);return n!==null&&(t=n),Nn.default.isStringLiteralLike(t)?[t.text]:Cs(new Cl.WrappedNodeExpr(t),n!==null?2:0)}function ay(t){if(Nn.default.isExpressionWithTypeArguments(t)||Nn.default.isParenthesizedExpression(t)||Nn.default.isAsExpression(t))return ay(t.expression);if(Nn.default.isPropertyAccessExpression(t)&&Nn.default.isIdentifier(t.expression)||Nn.default.isIdentifier(t))return new Cl.WrappedNodeExpr(t);throw new fr(se.VALUE_NOT_LITERAL,t,'Query "read" option expected a literal class reference.')}function yR(t){if(t.kind===Nn.default.SyntaxKind.TrueKeyword)return!0;if(t.kind===Nn.default.SyntaxKind.FalseKeyword)return!1;throw new fr(se.VALUE_HAS_WRONG_TYPE,t,'Expected "descendants" option to be a boolean literal.')}var yh=["ViewChild","ViewChildren","ContentChild","ContentChildren"],a2=new Set(yh);var C=A(require("typescript"),1),Bi=A(require("typescript"),1),Xl=A(require("typescript"),1),my=A(require("typescript"),1),d2=(0,cy.createRequire)(k);function Eh(t,e){return e||t.import!==null&&t.import.from==="@angular/core"}var uy="!Array<{type: !Function, args: (undefined|!Array<?>)}>";function py(t,e){let n=[],r=t.expression;switch(r.kind){case C.default.SyntaxKind.Identifier:n.push(C.default.factory.createPropertyAssignment("type",r));break;case C.default.SyntaxKind.CallExpression:let s=r;if(n.push(C.default.factory.createPropertyAssignment("type",s.expression)),s.arguments.length){let i=[];for(let a of s.arguments)i.push(a);let o=C.default.factory.createArrayLiteralExpression(C.default.factory.createNodeArray(i,!0));n.push(C.default.factory.createPropertyAssignment("args",o))}break;default:e.push({file:t.getSourceFile(),start:t.getStart(),length:t.getEnd()-t.getStart(),messageText:`${C.default.SyntaxKind[t.kind]} not implemented in gathering decorator metadata.`,category:C.default.DiagnosticCategory.Error,code:0});break}return C.default.factory.createObjectLiteralExpression(n)}function IR(t,e,n,r){let s=[];for(let a of n){if(!a.type&&a.decorators.length===0){s.push(C.default.factory.createNull());continue}let l=a.type?hy(e,a.type):void 0,c=[C.default.factory.createPropertyAssignment("type",l||C.default.factory.createIdentifier("undefined"))],u=[];for(let h of a.decorators)u.push(py(h,t));u.length&&c.push(C.default.factory.createPropertyAssignment("decorators",C.default.factory.createArrayLiteralExpression(u))),s.push(C.default.factory.createObjectLiteralExpression(c))}let i=C.default.factory.createArrowFunction(void 0,void 0,[],void 0,C.default.factory.createToken(C.default.SyntaxKind.EqualsGreaterThanToken),C.default.factory.createArrayLiteralExpression(s,!0)),o=C.default.factory.createPropertyDeclaration([C.default.factory.createToken(C.default.SyntaxKind.StaticKeyword)],"ctorParameters",void 0,void 0,i);return r&&C.default.setSyntheticLeadingComments(o,[{kind:C.default.SyntaxKind.MultiLineCommentTrivia,text:["*"," * @type {function(): !Array<(null|{"," *   type: ?,",` *   decorators: (undefined|${uy}),`," * })>}"," * @nocollapse"," "].join(`
`),pos:-1,end:-1,hasTrailingNewLine:!0}]),o}function hy(t,e){let n=e.kind;switch(C.default.isLiteralTypeNode(e)&&(n=e.literal.kind),n){case C.default.SyntaxKind.FunctionType:case C.default.SyntaxKind.ConstructorType:return C.default.factory.createIdentifier("Function");case C.default.SyntaxKind.ArrayType:case C.default.SyntaxKind.TupleType:return C.default.factory.createIdentifier("Array");case C.default.SyntaxKind.TypePredicate:case C.default.SyntaxKind.TrueKeyword:case C.default.SyntaxKind.FalseKeyword:case C.default.SyntaxKind.BooleanKeyword:return C.default.factory.createIdentifier("Boolean");case C.default.SyntaxKind.StringLiteral:case C.default.SyntaxKind.StringKeyword:return C.default.factory.createIdentifier("String");case C.default.SyntaxKind.ObjectKeyword:return C.default.factory.createIdentifier("Object");case C.default.SyntaxKind.NumberKeyword:case C.default.SyntaxKind.NumericLiteral:return C.default.factory.createIdentifier("Number");case C.default.SyntaxKind.TypeReference:return t(e.typeName);case C.default.SyntaxKind.UnionType:let s=e.types.filter(i=>!(C.default.isLiteralTypeNode(i)&&i.literal.kind===C.default.SyntaxKind.NullKeyword));return s.length===1?hy(t,s[0]):void 0;default:return}}function CR(t,e){return e.flags&C.default.SymbolFlags.Alias&&(e=t.getAliasedSymbol(e)),(e.flags&C.default.SymbolFlags.Value&C.default.SymbolFlags.ConstEnumExcludes)!==0}function fy(t,e,n,r,s){function i(a,l){s&&C.default.setSyntheticLeadingComments(a,[{kind:C.default.SyntaxKind.MultiLineCommentTrivia,text:`* @type {${l}} `,pos:-1,end:-1,hasTrailingNewLine:!0}])}function o(a,l){let c=[];for(let[d,g]of l.entries())c.push(C.default.factory.createPropertyAssignment(d,C.default.factory.createArrayLiteralExpression(g.map(v=>py(v,a)))));let u=C.default.factory.createObjectLiteralExpression(c,!0),h=C.default.factory.createPropertyDeclaration([C.default.factory.createToken(C.default.SyntaxKind.StaticKeyword)],"propDecorators",void 0,void 0,u);return i(h,`!Object<string, ${uy}>`),h}return a=>{let l=lh(a);function c(v){let I=t.getSymbolAtLocation(v);if(!I||!CR(t,I)||!I.declarations||I.declarations.length===0)return;if(C.default.isQualifiedName(v)){let N=c(v.left);return N===void 0?void 0:C.default.factory.createPropertyAccessExpression(N,v.right)}let x=I.declarations[0];return ch(x)&&(l.add(x),x.name!==void 0)?C.default.setOriginalNode(C.default.factory.createIdentifier(x.name.text),x.name):C.default.setOriginalNode(C.default.factory.createIdentifier(v.text),v)}function u(v){v=C.default.visitEachChild(v,g,a);let I=[],x=[],N=e.getDecoratorsOfDeclaration(v)||[];for(let ae of N){let pe=ae.node;if(!Eh(ae,r)){I.push(pe);continue}x.push(pe)}if(!x.length)return[void 0,v,[]];if(!v.name||!C.default.isIdentifier(v.name))return n.push({file:v.getSourceFile(),start:v.getStart(),length:v.getEnd()-v.getStart(),messageText:"Cannot process decorators for class element with non-analyzable name.",category:C.default.DiagnosticCategory.Error,code:0}),[void 0,v,[]];let B=C.default.canHaveModifiers(v)?C.default.getModifiers(v):void 0,j;return(I.length||B?.length)&&(j=C.default.setTextRange(C.default.factory.createNodeArray([...I,...B||[]]),v.modifiers)),[v.name.text,AR(v,j),x]}function h(v){v=C.default.visitEachChild(v,g,a);let I=[],x=v.parameters,N=[];for(let j of x){let ae=[],pe={decorators:[],type:null},pt=e.getDecoratorsOfDeclaration(j)||[];for(let Ke of pt){let q=Ke.node;if(!Eh(Ke,r)){ae.push(q);continue}pe.decorators.push(q)}j.type&&(pe.type=j.type),N.push(pe);let ht,Ue=C.default.getModifiers(j);(ae.length||Ue?.length)&&(ht=[...ae,...Ue||[]]);let G=C.default.factory.updateParameterDeclaration(j,ht,j.dotDotDotToken,j.name,j.questionToken,j.type,j.initializer);I.push(G)}return[C.default.factory.updateConstructorDeclaration(v,C.default.getModifiers(v),I,v.body),N]}function d(v){let I=[],x=new Map,N=null;for(let pe of v.members){switch(pe.kind){case C.default.SyntaxKind.PropertyDeclaration:case C.default.SyntaxKind.GetAccessor:case C.default.SyntaxKind.SetAccessor:case C.default.SyntaxKind.MethodDeclaration:{let[pt,ht,Ue]=u(pe);I.push(ht),pt&&x.set(pt,Ue);continue}case C.default.SyntaxKind.Constructor:{if(!pe.body)break;let[ht,Ue]=h(pe);N=Ue,I.push(ht);continue}default:break}I.push(C.default.visitEachChild(pe,g,a))}let j=(e.getDecoratorsOfDeclaration(v)||[]).some(pe=>Eh(pe,r));N&&(j||N.some(pe=>!!pe.decorators.length))&&I.push(IR(n,c,N,s)),x.size&&I.push(o(n,x));let ae=C.default.setTextRange(C.default.factory.createNodeArray(I,v.members.hasTrailingComma),v.members);return C.default.factory.updateClassDeclaration(v,v.modifiers,v.name,v.typeParameters,v.heritageClauses,ae)}function g(v){return C.default.isClassDeclaration(v)?d(v):C.default.visitEachChild(v,g,a)}return v=>C.default.visitEachChild(v,g,a)}}function AR(t,e){let n;if(C.default.isMethodDeclaration(t))n=C.default.factory.createMethodDeclaration(e,t.asteriskToken,t.name,t.questionToken,t.typeParameters,t.parameters,t.type,t.body);else if(C.default.isPropertyDeclaration(t))n=C.default.factory.createPropertyDeclaration(e,t.name,t.questionToken,t.type,t.initializer);else if(C.default.isGetAccessor(t))n=C.default.factory.createGetAccessorDeclaration(e,t.name,t.parameters,t.type,t.body);else if(C.default.isSetAccessor(t))n=C.default.factory.createSetAccessorDeclaration(e,t.name,t.parameters,t.body);else throw new Error(`Unsupported decorated member with kind ${C.default.SyntaxKind[t.kind]}`);return C.default.setOriginalNode(n,t)}function Yl(t,e,n,r,s){let i=Xl.default.isIdentifier(n.identifier)?n.identifier:n.identifier.expression;return t.createPropertyAccessExpression(e.addImport({exportModuleSpecifier:"@angular/core",exportSymbolName:null,requestedFile:r}),Xl.default.setOriginalNode(t.createIdentifier(s),i))}function dy(t,e){return t.createAsExpression(e,t.createKeywordTypeNode(Xl.default.SyntaxKind.AnyKeyword))}var bR=(t,e,n,r,s,i,o)=>{var a,l;if((a=e.getDecoratorsOfDeclaration(t.node))!=null&&a.some(g=>Fi(g,"Input",o)))return t.node;let c=ry(t,e,r);if(c===null)return t.node;let u={isSignal:n.createTrue(),alias:n.createStringLiteral(c.bindingPropertyName),required:c.required?n.createTrue():n.createFalse(),transform:n.createIdentifier("undefined")},h=t.node.getSourceFile(),d=n.createDecorator(n.createCallExpression(Yl(n,s,i,h,"Input"),void 0,[dy(n,n.createObjectLiteralExpression(Object.entries(u).map(([g,v])=>n.createPropertyAssignment(g,v))))]));return n.updatePropertyDeclaration(t.node,[d,...(l=t.node.modifiers)!=null?l:[]],t.name,t.node.questionToken,t.node.type,t.node.initializer)},NR=(t,e,n,r,s,i,o)=>{var a,l;if((a=e.getDecoratorsOfDeclaration(t.node))!=null&&a.some(v=>Fi(v,"Input",o)||Fi(v,"Output",o)))return t.node;let c=sy(t,e,r);if(c===null)return t.node;let u=n.createObjectLiteralExpression([n.createPropertyAssignment("isSignal",c.input.isSignal?n.createTrue():n.createFalse()),n.createPropertyAssignment("alias",n.createStringLiteral(c.input.bindingPropertyName)),n.createPropertyAssignment("required",c.input.required?n.createTrue():n.createFalse())]),h=t.node.getSourceFile(),d=ly("Input",n.createAsExpression(u,n.createKeywordTypeNode(my.default.SyntaxKind.AnyKeyword)),i,n,h,s),g=ly("Output",n.createStringLiteral(c.output.bindingPropertyName),i,n,h,s);return n.updatePropertyDeclaration(t.node,[d,g,...(l=t.node.modifiers)!=null?l:[]],t.node.name,t.node.questionToken,t.node.type,t.node.initializer)};function ly(t,e,n,r,s,i){let o=Yl(r,i,n,s,t);return r.createDecorator(r.createCallExpression(o,void 0,[e]))}var DR=(t,e,n,r,s,i,o)=>{var a,l;if((a=e.getDecoratorsOfDeclaration(t.node))!=null&&a.some(d=>Fi(d,"Output",o)))return t.node;let c=iy(t,e,r);if(c===null)return t.node;let u=t.node.getSourceFile(),h=n.createDecorator(n.createCallExpression(Yl(n,s,i,u,"Output"),void 0,[n.createStringLiteral(c.metadata.bindingPropertyName)]));return n.updatePropertyDeclaration(t.node,[h,...(l=t.node.modifiers)!=null?l:[]],t.node.name,t.node.questionToken,t.node.type,t.node.initializer)},_R={viewChild:"ViewChild",viewChildren:"ViewChildren",contentChild:"ContentChild",contentChildren:"ContentChildren"},RR=(t,e,n,r,s,i,o)=>{var a;let l=e.getDecoratorsOfDeclaration(t.node),c=l&&ty(l,yh,o);if(c!==null&&c.length>0)return t.node;let u=oy(t,e,r);if(u===null)return t.node;let h=t.node.getSourceFile(),d=u.call.arguments,g=n.createDecorator(n.createCallExpression(Yl(n,s,i,h,_R[u.name]),void 0,[u.call.arguments[0],dy(n,n.createObjectLiteralExpression([...d.length>1?[n.createSpreadAssignment(d[1])]:[],n.createPropertyAssignment("isSignal",n.createTrue())]))]));return n.updatePropertyDeclaration(t.node,[g,...(a=t.node.modifiers)!=null?a:[]],t.node.name,t.node.questionToken,t.node.type,t.node.initializer)},PR=["Directive","Component"],kR=[bR,DR,RR,NR];function gy(t,e,n){return r=>s=>{let i=new Hl;return s=Bi.default.visitNode(s,MR(r,t,i,e,n),Bi.default.isSourceFile),i.transformTsFile(r,s)}}function MR(t,e,n,r,s){let i=o=>{var a;if(Bi.default.isClassDeclaration(o)&&o.name!==void 0){let l=(a=e.getDecoratorsOfDeclaration(o))==null?void 0:a.find(c=>PR.some(u=>Fi(c,u,s)));if(l!==void 0){let c=!1,u=o.members.map(h=>{if(!Bi.default.isPropertyDeclaration(h))return h;let d=oh(h);if(d===null)return h;for(let g of kR){let v=g({...d,node:h},e,t.factory,r,n,l,s);if(v!==d.node)return c=!0,v}return h});if(c)return t.factory.updateClassDeclaration(o,o.modifiers,o.name,o.typeParameters,o.heritageClauses,u)}}return Bi.default.visitEachChild(o,i,t)};return i}function Sh(t,e=!1){let n=t.getTypeChecker(),r=new ih(n),s=new uh,i=fy(n,r,[],e,!1),o=gy(r,s,e);return a=>l=>(l=o(a)(l),l=i(a)(l),l)}var vy={ngDevMode:!1,ngI18nClosureMode:!1},LR={...vy,ngJitMode:!1};S();var LS=require("module");S();var yy=require("module"),E2=(0,yy.createRequire)(k),Ql;(function(t){t[t.SingleFile=0]="SingleFile",t[t.WholeProgram=1]="WholeProgram"})(Ql||(Ql={}));var wh;(function(t){t[t.NgModule=0]="NgModule",t[t.Standalone=1]="Standalone"})(wh||(wh={}));var xh;(function(t){t[t.Normal=0]="Normal",t[t.ForceDirect=1]="ForceDirect"})(xh||(xh={}));var Th;(function(t){t[t.Reference=0]="Reference",t[t.Variable=1]="Variable"})(Th||(Th={}));var Dn;(function(t){t[t.Input=0]="Input",t[t.Output=1]="Output",t[t.Binding=2]="Binding",t[t.Reference=3]="Reference",t[t.Variable=4]="Variable",t[t.Directive=5]="Directive",t[t.Element=6]="Element",t[t.Template=7]="Template",t[t.Expression=8]="Expression",t[t.DomBinding=9]="DomBinding",t[t.Pipe=10]="Pipe"})(Dn||(Dn={}));var UM=A(require("typescript"),1),VM=A(require("typescript"),1),qM=A(require("typescript"),1),GM=A(require("typescript"),1),HM=A(require("typescript"),1),WM=A(require("typescript"),1),jM=A(require("typescript"),1),KM=A(require("typescript"),1),zM=A(require("typescript"),1);var XM=A(require("typescript"),1);var OS=A(require("typescript"),1);var YM=A(require("typescript"),1),QM=A(require("typescript"),1),JM=A(require("typescript"),1),ZM=A(require("typescript"),1),eL=A(require("typescript"),1),tL=A(require("typescript"),1);var nL=A(require("typescript"),1);var sL=A(require("typescript"),1);var iL=A(require("typescript"),1);var ra=A(require("typescript"),1);S();var Ey="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",OR=new Uint8Array(64),FR=new Uint8Array(128);for(let t=0;t<Ey.length;t++){let e=Ey.charCodeAt(t);OR[t]=e,FR[e]=t}var aL=A(require("typescript"),1);var lL=A(require("typescript"),1),cL=A(require("typescript"),1);var te=A(require("typescript"),1);var dL=A(require("typescript"),1);var mL=A(require("typescript"),1),ta=A(require("typescript"),1);var EL=A(require("typescript"),1),SL=A(require("typescript"),1);var E=A(require("typescript"),1);var ia=A(require("typescript"),1);var D=A(require("typescript"),1),zL=A(require("typescript"),1);var XL=A(require("typescript"),1);var ef=A(require("typescript"),1);var tf=A(require("typescript"),1);var nf=A(require("typescript"),1);var EO=A(require("typescript"),1);var wO=A(require("typescript"),1),xO=A(vS(),1),TO=A(require("typescript"),1),IO=A(require("typescript"),1),CO=A(require("typescript"),1),g$=(0,LS.createRequire)(k);var zh;(function(t){t[t.DTS=1]="DTS",t[t.JS=2]="JS",t[t.Metadata=4]="Metadata",t[t.I18nBundle=8]="I18nBundle",t[t.Codegen=16]="Codegen",t[t.Default=19]="Default",t[t.All=31]="All"})(zh||(zh={}));var Xh;(function(t){t.Block="block",t.Component="component",t.Constant="constant",t.Decorator="decorator",t.Directive="directive",t.Element="element",t.Enum="enum",t.Function="function",t.Interface="interface",t.NgModule="ng_module",t.Pipe="pipe",t.TypeAlias="type_alias",t.UndecoratedClass="undecorated_class",t.InitializerApiFunction="initializer_api_function"})(Xh||(Xh={}));var Yh;(function(t){t.Property="property",t.Method="method",t.Getter="getter",t.Setter="setter",t.EnumItem="enum_item"})(Yh||(Yh={}));var Qh;(function(t){t.Class="class",t.Member="member",t.Parameter="parameter"})(Qh||(Qh={}));var Jh;(function(t){t.Abstract="abstract",t.Static="static",t.Readonly="readonly",t.Protected="protected",t.Optional="optional",t.Input="input",t.Output="output",t.Inherited="override"})(Jh||(Jh={}));var I$=OS.default.version;var A$=Symbol("NgCyclicResult");var b$=Symbol("NgOriginalFile"),yS;(function(t){t[t.Complete=0]="Complete",t[t.Incremental=1]="Incremental"})(yS||(yS={}));var N$=Symbol("NgExtension");var ES;(function(t){t[t.Fresh=0]="Fresh",t[t.Delta=1]="Delta",t[t.Analyzed=2]="Analyzed"})(ES||(ES={}));var SS;(function(t){t[t.Analysis=0]="Analysis",t[t.TypeCheckAndEmit=1]="TypeCheckAndEmit"})(SS||(SS={}));var D$=Symbol("NgIncrementalState"),wS;(function(t){t[t.Property=0]="Property",t[t.Method=1]="Method",t[t.Element=2]="Element",t[t.Template=3]="Template",t[t.Attribute=4]="Attribute",t[t.Reference=5]="Reference",t[t.Variable=6]="Variable"})(wS||(wS={}));var rL=".$ngresource$",P$=rL+".ts";var M$=Symbol("TemplateSourceFile");var L$=Symbol("ngTemplateId"),O$=Symbol("ngNextTemplateId");var cc;(function(t){t.DIAGNOSTIC="D",t.EXPRESSION_TYPE_IDENTIFIER="T"})(cc||(cc={}));var Ms;(function(t){t.DIRECTIVE="DIR",t.COMPONENT_COMPLETION="COMPCOMP",t.EVENT_PARAMETER="EP",t.VARIABLE_AS_EXPRESSION="VAE"})(Ms||(Ms={}));function oa(t,e){ra.default.addSyntheticTrailingComment(t,ra.default.SyntaxKind.MultiLineCommentTrivia,`${cc.EXPRESSION_TYPE_IDENTIFIER}:${e}`,!1)}var oL=`${cc.DIAGNOSTIC}:ignore`;function Kr(t){ra.default.addSyntheticTrailingComment(t,ra.default.SyntaxKind.MultiLineCommentTrivia,oL,!1)}var V$=new An;var uL=new Set([te.default.SyntaxKind.ParenthesizedExpression,te.default.SyntaxKind.Identifier,te.default.SyntaxKind.CallExpression,te.default.SyntaxKind.NonNullExpression,te.default.SyntaxKind.ElementAccessExpression,te.default.SyntaxKind.PropertyAccessExpression,te.default.SyntaxKind.ArrayLiteralExpression,te.default.SyntaxKind.ObjectLiteralExpression,te.default.SyntaxKind.StringLiteral,te.default.SyntaxKind.NumericLiteral,te.default.SyntaxKind.TrueKeyword,te.default.SyntaxKind.FalseKeyword,te.default.SyntaxKind.NullKeyword,te.default.SyntaxKind.UndefinedKeyword]);function vr(t){return uL.has(t.kind)||(t=te.default.factory.createParenthesizedExpression(t)),te.default.factory.createParenthesizedExpression(te.default.factory.createAsExpression(t,te.default.factory.createKeywordTypeNode(te.default.SyntaxKind.AnyKeyword)))}function pL(t){let e=te.default.factory.createPropertyAccessExpression(te.default.factory.createIdentifier("document"),"createElement");return te.default.factory.createCallExpression(e,void 0,[te.default.factory.createStringLiteral(t)])}function sa(t,e){oa(e,Ms.VARIABLE_AS_EXPRESSION);let n=te.default.factory.createAsExpression(te.default.factory.createNonNullExpression(te.default.factory.createNull()),e),r=te.default.factory.createVariableDeclaration(t,void 0,void 0,n);return te.default.factory.createVariableStatement(void 0,[r])}function hL(t,e){return te.default.factory.createTypeQueryNode(te.default.factory.createQualifiedName(t,`ngAcceptInputType_${e}`))}function zr(t,e){let n=te.default.factory.createVariableDeclaration(t,void 0,void 0,e);return te.default.factory.createVariableStatement(void 0,[n])}function xS(t,e,n=[]){let r=te.default.factory.createPropertyAccessExpression(t,e);return te.default.factory.createCallExpression(r,void 0,n)}function fL(t){if(t<0){let e=te.default.factory.createNumericLiteral(Math.abs(t));return te.default.factory.createPrefixUnaryExpression(te.default.SyntaxKind.MinusToken,e)}return te.default.factory.createNumericLiteral(t)}var gL=class{constructor(t,e){this.typeParameters=t,this.reflector=e}canEmit(t){return this.typeParameters===void 0?!0:this.typeParameters.every(e=>this.canEmitType(e.constraint,t)&&this.canEmitType(e.default,t))}canEmitType(t,e){return t===void 0?!0:Wv(t,n=>{let r=this.resolveTypeReference(n);return r===null?!1:r instanceof Ns?e(r):!0})}emit(t){if(this.typeParameters===void 0)return;let e=new jv(n=>this.translateTypeReference(n,t));return this.typeParameters.map(n=>{let r=n.constraint!==void 0?e.emitType(n.constraint):void 0,s=n.default!==void 0?e.emitType(n.default):void 0;return ta.default.factory.updateTypeParameterDeclaration(n,n.modifiers,n.name,r,s)})}resolveTypeReference(t){let e=ta.default.isIdentifier(t.typeName)?t.typeName:t.typeName.right,n=this.reflector.getDeclarationOfIdentifier(e);if(n===null||n.node===null)return null;if(this.isLocalTypeParameter(n.node))return t;let r=null;return typeof n.viaModule=="string"&&(r={specifier:n.viaModule,resolutionContext:t.getSourceFile().fileName}),new Ns(n.node,n.viaModule===jr?jr:r)}translateTypeReference(t,e){let n=this.resolveTypeReference(t);if(!(n instanceof Ns))return n;let r=e(n);if(r===null)return null;if(!ta.default.isTypeReferenceNode(r))throw new Error(`Expected TypeReferenceNode for emitted reference, got ${ta.default.SyntaxKind[r.kind]}.`);return r}isLocalTypeParameter(t){return this.typeParameters.some(e=>e===t)}},W$=[p.InputSignalBrandWriteType],TS;(function(t){t[t.MustInline=0]="MustInline",t[t.ShouldInlineForGenericBounds=1]="ShouldInlineForGenericBounds",t[t.None=2]="None"})(TS||(TS={}));function vL(t,e,n){return new gL(t.typeParameters,e).canEmit(s=>n.canReferenceType(s))}function yL(t,e,n){return!vL(t,e,n)}function Pe(t){return ia.default.factory.createParenthesizedExpression(t)}function Gi(t){return ia.default.factory.createParenthesizedExpression(t)}function $(t,e){let n;e instanceof Je?n=`${e.start},${e.end}`:n=`${e.start.offset},${e.end.offset}`,ia.default.addSyntheticTrailingComment(t,ia.default.SyntaxKind.MultiLineCommentTrivia,n,!1)}var ks=D.default.factory.createAsExpression(D.default.factory.createNull(),D.default.factory.createKeywordTypeNode(D.default.SyntaxKind.AnyKeyword)),Wh=D.default.factory.createIdentifier("undefined"),wL=new Map([["+",D.default.SyntaxKind.PlusToken],["-",D.default.SyntaxKind.MinusToken]]),xL=new Map([["+",D.default.SyntaxKind.PlusToken],["-",D.default.SyntaxKind.MinusToken],["<",D.default.SyntaxKind.LessThanToken],[">",D.default.SyntaxKind.GreaterThanToken],["<=",D.default.SyntaxKind.LessThanEqualsToken],[">=",D.default.SyntaxKind.GreaterThanEqualsToken],["==",D.default.SyntaxKind.EqualsEqualsToken],["===",D.default.SyntaxKind.EqualsEqualsEqualsToken],["*",D.default.SyntaxKind.AsteriskToken],["/",D.default.SyntaxKind.SlashToken],["%",D.default.SyntaxKind.PercentToken],["!=",D.default.SyntaxKind.ExclamationEqualsToken],["!==",D.default.SyntaxKind.ExclamationEqualsEqualsToken],["||",D.default.SyntaxKind.BarBarToken],["&&",D.default.SyntaxKind.AmpersandAmpersandToken],["&",D.default.SyntaxKind.AmpersandToken],["|",D.default.SyntaxKind.BarToken],["??",D.default.SyntaxKind.QuestionQuestionToken]]);function TL(t,e,n){return new IL(e,n).translate(t)}var IL=class{constructor(t,e){this.maybeResolve=t,this.config=e}translate(t){if(t instanceof Me&&(t=t.ast),t instanceof Ve){let n=D.default.factory.createIdentifier("undefined");return $(n,t.sourceSpan),n}let e=this.maybeResolve(t);return e!==null?e:t.visit(this)}visitUnary(t){let e=this.translate(t.expr),n=wL.get(t.operator);if(n===void 0)throw new Error(`Unsupported Unary.operator: ${t.operator}`);let r=Pe(D.default.factory.createPrefixUnaryExpression(n,e));return $(r,t.sourceSpan),r}visitBinary(t){let e=Pe(this.translate(t.left)),n=Pe(this.translate(t.right)),r=xL.get(t.operation);if(r===void 0)throw new Error(`Unsupported Binary.operation: ${t.operation}`);let s=D.default.factory.createBinaryExpression(e,r,n);return $(s,t.sourceSpan),s}visitChain(t){let e=t.expressions.map(r=>this.translate(r)),n=Pe(D.default.factory.createCommaListExpression(e));return $(n,t.sourceSpan),n}visitConditional(t){let e=this.translate(t.condition),n=this.translate(t.trueExp),r=Gi(this.translate(t.falseExp)),s=D.default.factory.createParenthesizedExpression(D.default.factory.createConditionalExpression(e,void 0,n,void 0,r));return $(s,t.sourceSpan),s}visitImplicitReceiver(t){throw new Error("Method not implemented.")}visitThisReceiver(t){throw new Error("Method not implemented.")}visitInterpolation(t){return t.expressions.reduce((e,n)=>D.default.factory.createBinaryExpression(e,D.default.SyntaxKind.PlusToken,Gi(this.translate(n))),D.default.factory.createStringLiteral(""))}visitKeyedRead(t){let e=Pe(this.translate(t.receiver)),n=this.translate(t.key),r=D.default.factory.createElementAccessExpression(e,n);return $(r,t.sourceSpan),r}visitKeyedWrite(t){let e=Pe(this.translate(t.receiver)),n=D.default.factory.createElementAccessExpression(e,this.translate(t.key)),r=Gi(this.translate(t.value)),s=Pe(D.default.factory.createBinaryExpression(n,D.default.SyntaxKind.EqualsToken,r));return $(s,t.sourceSpan),s}visitLiteralArray(t){let e=t.expressions.map(s=>this.translate(s)),n=D.default.factory.createArrayLiteralExpression(e),r=this.config.strictLiteralTypes?n:vr(n);return $(r,t.sourceSpan),r}visitLiteralMap(t){let e=t.keys.map(({key:s},i)=>{let o=this.translate(t.values[i]);return D.default.factory.createPropertyAssignment(D.default.factory.createStringLiteral(s),o)}),n=D.default.factory.createObjectLiteralExpression(e,!0),r=this.config.strictLiteralTypes?n:vr(n);return $(r,t.sourceSpan),r}visitLiteralPrimitive(t){let e;if(t.value===void 0)e=D.default.factory.createIdentifier("undefined");else if(t.value===null)e=D.default.factory.createNull();else if(typeof t.value=="string")e=D.default.factory.createStringLiteral(t.value);else if(typeof t.value=="number")e=fL(t.value);else if(typeof t.value=="boolean")e=t.value?D.default.factory.createTrue():D.default.factory.createFalse();else throw Error(`Unsupported AST value of type ${typeof t.value}`);return $(e,t.sourceSpan),e}visitNonNullAssert(t){let e=Pe(this.translate(t.expression)),n=D.default.factory.createNonNullExpression(e);return $(n,t.sourceSpan),n}visitPipe(t){throw new Error("Method not implemented.")}visitPrefixNot(t){let e=Pe(this.translate(t.expression)),n=D.default.factory.createLogicalNot(e);return $(n,t.sourceSpan),n}visitPropertyRead(t){let e=Pe(this.translate(t.receiver)),n=D.default.factory.createPropertyAccessExpression(e,t.name);$(n,t.nameSpan);let r=Pe(n);return $(r,t.sourceSpan),r}visitPropertyWrite(t){let e=Pe(this.translate(t.receiver)),n=D.default.factory.createPropertyAccessExpression(e,t.name);$(n,t.nameSpan);let r=Pe(n);$(r,t.sourceSpan);let s=Gi(this.translate(t.value)),i=Pe(D.default.factory.createBinaryExpression(r,D.default.SyntaxKind.EqualsToken,s));return $(i,t.sourceSpan),i}visitSafePropertyRead(t){let e,n=Pe(this.translate(t.receiver));if(this.config.strictSafeNavigationTypes){let r=D.default.factory.createPropertyAccessExpression(D.default.factory.createNonNullExpression(n),t.name);$(r,t.nameSpan),e=D.default.factory.createParenthesizedExpression(D.default.factory.createConditionalExpression(ks,void 0,r,void 0,Wh))}else if(jh.veWillInferAnyFor(t))e=D.default.factory.createPropertyAccessExpression(vr(n),t.name);else{let r=D.default.factory.createPropertyAccessExpression(D.default.factory.createNonNullExpression(n),t.name);$(r,t.nameSpan),e=vr(r)}return $(e,t.sourceSpan),e}visitSafeKeyedRead(t){let e=Pe(this.translate(t.receiver)),n=this.translate(t.key),r;if(this.config.strictSafeNavigationTypes){let s=D.default.factory.createElementAccessExpression(D.default.factory.createNonNullExpression(e),n);$(s,t.sourceSpan),r=D.default.factory.createParenthesizedExpression(D.default.factory.createConditionalExpression(ks,void 0,s,void 0,Wh))}else if(jh.veWillInferAnyFor(t))r=D.default.factory.createElementAccessExpression(vr(e),n);else{let s=D.default.factory.createElementAccessExpression(D.default.factory.createNonNullExpression(e),n);$(s,t.sourceSpan),r=vr(s)}return $(r,t.sourceSpan),r}visitCall(t){let e=t.args.map(i=>this.translate(i)),n,r=t.receiver;if(r instanceof de){let i=this.maybeResolve(r);if(i!==null)n=i;else{let o=Pe(this.translate(r.receiver));n=D.default.factory.createPropertyAccessExpression(o,r.name),$(n,r.nameSpan)}}else n=this.translate(r);let s;return t.receiver instanceof Tt||t.receiver instanceof xn?s=this.convertToSafeCall(t,n,e):s=D.default.factory.createCallExpression(n,void 0,e),$(s,t.sourceSpan),s}visitSafeCall(t){let e=t.args.map(s=>this.translate(s)),n=Pe(this.translate(t.receiver)),r=this.convertToSafeCall(t,n,e);return $(r,t.sourceSpan),r}convertToSafeCall(t,e,n){if(this.config.strictSafeNavigationTypes){let r=D.default.factory.createCallExpression(D.default.factory.createNonNullExpression(e),void 0,n);return D.default.factory.createParenthesizedExpression(D.default.factory.createConditionalExpression(ks,void 0,r,void 0,Wh))}return jh.veWillInferAnyFor(t)?D.default.factory.createCallExpression(vr(e),void 0,n):vr(D.default.factory.createCallExpression(D.default.factory.createNonNullExpression(e),void 0,n))}},uc=class{static veWillInferAnyFor(t){let e=uc.SINGLETON;return t instanceof kt?t.visit(e):t.receiver.visit(e)}visitUnary(t){return t.expr.visit(this)}visitBinary(t){return t.left.visit(this)||t.right.visit(this)}visitChain(t){return!1}visitConditional(t){return t.condition.visit(this)||t.trueExp.visit(this)||t.falseExp.visit(this)}visitCall(t){return!0}visitSafeCall(t){return!1}visitImplicitReceiver(t){return!1}visitThisReceiver(t){return!1}visitInterpolation(t){return t.expressions.some(e=>e.visit(this))}visitKeyedRead(t){return!1}visitKeyedWrite(t){return!1}visitLiteralArray(t){return!0}visitLiteralMap(t){return!0}visitLiteralPrimitive(t){return!1}visitPipe(t){return!0}visitPrefixNot(t){return t.expression.visit(this)}visitNonNullAssert(t){return t.expression.visit(this)}visitPropertyRead(t){return!1}visitPropertyWrite(t){return!1}visitSafePropertyRead(t){return!1}visitSafeKeyedRead(t){return!1}},jh=uc;uc.SINGLETON=new uc;var IS;(function(t){t[t.UseEmitter=0]="UseEmitter",t[t.CopyClassNodes=1]="CopyClassNodes",t[t.FallbackToAny=2]="FallbackToAny"})(IS||(IS={}));var De=class{circularFallback(){return GL}},CL=class extends De{constructor(t,e,n){super(),this.tcb=t,this.scope=e,this.element=n}get optional(){return!0}execute(){let t=this.tcb.allocateId(),e=pL(this.element.name);return $(e,this.element.startSourceSpan||this.element.sourceSpan),this.scope.addStatement(zr(t,e)),t}},AL=class extends De{constructor(t,e,n,r){super(),this.tcb=t,this.scope=e,this.template=n,this.variable=r}get optional(){return!1}execute(){let t=this.scope.resolve(this.template),e=this.tcb.allocateId(),n=E.default.factory.createPropertyAccessExpression(t,this.variable.value||"$implicit");$(e,this.variable.keySpan);let r;return this.variable.valueSpan!==void 0?($(n,this.variable.valueSpan),r=zr(e,Gi(n))):r=zr(e,n),$(r.declarationList.declarations[0],this.variable.sourceSpan),this.scope.addStatement(r),e}},bL=class extends De{constructor(t,e){super(),this.tcb=t,this.scope=e,this.optional=!0}execute(){let t=this.tcb.allocateId(),e=E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword);return this.scope.addStatement(sa(t,e)),t}},NL=class extends De{constructor(t,e,n){super(),this.tcb=t,this.scope=e,this.template=n}get optional(){return!1}execute(){let t=[],e=this.tcb.boundTarget.getDirectivesOfNode(this.template);if(e!==null)for(let o of e){let a=this.scope.resolve(this.template,o),l=this.tcb.env.reference(o.ref);if(o.ngTemplateGuards.forEach(c=>{let u=this.template.inputs.find(h=>h.name===c.inputName)||this.template.templateAttrs.find(h=>h instanceof Jt&&h.name===c.inputName);if(u!==void 0){let h=on(u.value,this.tcb,this.scope);if(Kr(h),c.type==="binding")t.push(h);else{let d=xS(l,`ngTemplateGuard_${c.inputName}`,[a,h]);$(d,u.value.sourceSpan),t.push(d)}}}),o.hasNgTemplateContextGuard)if(this.tcb.env.config.applyTemplateContextGuards){let c=this.scope.resolve(this.template),u=xS(l,"ngTemplateContextGuard",[a,c]);$(u,this.template.sourceSpan),t.push(u)}else this.template.variables.length>0&&this.tcb.env.config.suggestionsForSuboptimalTypeInference&&this.tcb.oobRecorder.suboptimalTypeInference(this.tcb.id,this.template.variables)}let n=null;t.length>0&&(n=t.reduce((o,a)=>E.default.factory.createBinaryExpression(o,E.default.SyntaxKind.AmpersandAmpersandToken,a),t.pop()));let s=Hi.forNodes(this.tcb,this.scope,this.template,this.template.children,n).render();if(s.length===0)return null;let i=E.default.factory.createBlock(s);return n!==null&&(i=E.default.factory.createIfStatement(n,i)),this.scope.addStatement(i),null}},ea=class extends De{constructor(t,e,n){super(),this.tcb=t,this.scope=e,this.expression=n}get optional(){return!1}execute(){let t=on(this.expression,this.tcb,this.scope);return this.scope.addStatement(E.default.factory.createExpressionStatement(t)),null}},FS=class extends De{constructor(t,e,n,r){super(),this.tcb=t,this.scope=e,this.node=n,this.dir=r}get optional(){return!0}execute(){let t=this.dir.ref,e=this.tcb.env.referenceType(this.dir.ref),n;if(this.dir.isGeneric===!1||t.node.typeParameters===void 0)n=e;else{if(!E.default.isTypeReferenceNode(e))throw new Error(`Expected TypeReferenceNode when referencing the type for ${this.dir.ref.debugName}`);let s=t.node.typeParameters.map(()=>E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword));n=E.default.factory.createTypeReferenceNode(e.typeName,s)}let r=this.tcb.allocateId();return oa(r,Ms.DIRECTIVE),$(r,this.node.startSourceSpan||this.node.sourceSpan),this.scope.addStatement(sa(r,n)),r}},DL=class extends FS{execute(){let t=this.dir.ref;if(this.dir.isGeneric)throw new Error(`Assertion Error: expected ${t.debugName} not to be generic.`);return super.execute()}},_L=class extends FS{execute(){let t=this.dir.ref;if(t.node.typeParameters===void 0)throw new Error(`Assertion Error: expected typeParameters when creating a declaration for ${t.debugName}`);return super.execute()}},CS=class extends De{constructor(t,e,n,r,s){super(),this.tcb=t,this.scope=e,this.node=n,this.host=r,this.target=s,this.optional=!0}execute(){let t=this.tcb.allocateId(),e=this.target instanceof ce||this.target instanceof oe?this.scope.resolve(this.target):this.scope.resolve(this.host,this.target);return this.target instanceof oe&&!this.tcb.env.config.checkTypeOfDomReferences||!this.tcb.env.config.checkTypeOfNonDomReferences?e=E.default.factory.createAsExpression(e,E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword)):this.target instanceof ce&&(e=E.default.factory.createAsExpression(e,E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword)),e=E.default.factory.createAsExpression(e,this.tcb.env.referenceExternalType("@angular/core","TemplateRef",[en])),e=E.default.factory.createParenthesizedExpression(e)),$(e,this.node.sourceSpan),$(t,this.node.keySpan),this.scope.addStatement(zr(t,e)),t}},RL=class extends De{constructor(t,e){super(),this.tcb=t,this.scope=e,this.optional=!0}execute(){let t=this.tcb.allocateId();return this.scope.addStatement(zr(t,ks)),t}},PL=class extends De{constructor(t,e,n,r){super(),this.tcb=t,this.scope=e,this.node=n,this.dir=r}get optional(){return!0}execute(){let t=this.tcb.allocateId();oa(t,Ms.DIRECTIVE),$(t,this.node.startSourceSpan||this.node.sourceSpan);let e=new Map,n=$S(this.dir,this.node);for(let s of n)if(!(!this.tcb.env.config.checkTypeOfAttributes&&s.attribute instanceof Bt))for(let{fieldName:i,isTwoWayBinding:o}of s.inputs){if(e.has(i))continue;let a=US(s.attribute,this.tcb,this.scope);e.set(i,{type:"binding",field:i,expression:a,sourceSpan:s.attribute.sourceSpan,isTwoWayBinding:o})}for(let{classPropertyName:s}of this.dir.inputs)e.has(s)||e.set(s,{type:"unset",field:s});let r=HL(this.dir,this.tcb,Array.from(e.values()));return Kr(r),this.scope.addStatement(zr(t,r)),t}circularFallback(){return new ML(this.tcb,this.scope,this.node,this.dir)}},kL=class extends De{constructor(t,e,n,r){super(),this.tcb=t,this.scope=e,this.node=n,this.dir=r}get optional(){return!1}execute(){let t=null,e=$S(this.dir,this.node),n=new Set;for(let r of e){let s=of(US(r.attribute,this.tcb,this.scope),this.tcb),i=Pe(s);for(let{fieldName:o,required:a,transformType:l,isSignal:c,isTwoWayBinding:u}of r.inputs){let h;if(a&&n.add(o),this.dir.coercedInputFields.has(o)){let d;if(l!==null)d=this.tcb.env.referenceTransplantedType(new ri(l));else{let v=this.tcb.env.referenceType(this.dir.ref);if(!E.default.isTypeReferenceNode(v))throw new Error(`Expected TypeReferenceNode from reference to ${this.dir.ref.debugName}`);d=hL(v.typeName,o)}let g=this.tcb.allocateId();this.scope.addStatement(sa(g,d)),h=g}else{if(this.dir.undeclaredInputFields.has(o))continue;if(!this.tcb.env.config.honorAccessModifiersForInputBindings&&this.dir.restrictedInputFields.has(o)){t===null&&(t=this.scope.resolve(this.node,this.dir));let d=this.tcb.allocateId(),g=this.tcb.env.referenceType(this.dir.ref);if(!E.default.isTypeReferenceNode(g))throw new Error(`Expected TypeReferenceNode from reference to ${this.dir.ref.debugName}`);let v=E.default.factory.createIndexedAccessTypeNode(E.default.factory.createTypeQueryNode(t),E.default.factory.createLiteralTypeNode(E.default.factory.createStringLiteral(o))),I=sa(d,v);this.scope.addStatement(I),h=d}else t===null&&(t=this.scope.resolve(this.node,this.dir)),h=this.dir.stringLiteralInputFields.has(o)?E.default.factory.createElementAccessExpression(t,E.default.factory.createStringLiteral(o)):E.default.factory.createPropertyAccessExpression(t,E.default.factory.createIdentifier(o))}if(c){let d=this.tcb.env.referenceExternalSymbol(p.InputSignalBrandWriteType.moduleName,p.InputSignalBrandWriteType.name);if(!E.default.isIdentifier(d)&&!E.default.isPropertyAccessExpression(d))throw new Error(`Expected identifier or property access for reference to ${p.InputSignalBrandWriteType.name}`);h=E.default.factory.createElementAccessExpression(h,d)}r.attribute.keySpan!==void 0&&$(h,r.attribute.keySpan),u&&this.tcb.env.config.allowSignalsInTwoWayBindings&&(i=VS(i,this.tcb)),i=E.default.factory.createBinaryExpression(h,E.default.SyntaxKind.EqualsToken,i)}$(i,r.attribute.sourceSpan),!this.tcb.env.config.checkTypeOfAttributes&&r.attribute instanceof Bt&&Kr(i),this.scope.addStatement(E.default.factory.createExpressionStatement(i))}return this.checkRequiredInputs(n),null}checkRequiredInputs(t){let e=[];for(let n of this.dir.inputs)n.required&&!t.has(n.classPropertyName)&&e.push(n.bindingPropertyName);e.length>0&&this.tcb.oobRecorder.missingRequiredInputs(this.tcb.id,this.node,this.dir.name,this.dir.isComponent,e)}},ML=class extends De{constructor(t,e,n,r){super(),this.tcb=t,this.scope=e,this.node=n,this.dir=r}get optional(){return!1}execute(){let t=this.tcb.allocateId(),e=this.tcb.env.typeCtorFor(this.dir),n=E.default.factory.createCallExpression(e,void 0,[E.default.factory.createNonNullExpression(E.default.factory.createNull())]);return this.scope.addStatement(zr(t,n)),t}},Kh=class extends De{constructor(t,e,n,r){super(),this.tcb=t,this.element=e,this.checkElement=n,this.claimedInputs=r}get optional(){return!1}execute(){var t;this.checkElement&&this.tcb.domSchemaChecker.checkElement(this.tcb.id,this.element,this.tcb.schemas,this.tcb.hostIsStandalone);for(let e of this.element.inputs){let n=e.type===0||e.type===5;if(!(n&&this.claimedInputs.has(e.name))&&n&&e.name!=="style"&&e.name!=="class"){let r=(t=BS.get(e.name))!=null?t:e.name;this.tcb.domSchemaChecker.checkProperty(this.tcb.id,this.element,r,e.sourceSpan,this.tcb.schemas,this.tcb.hostIsStandalone)}}return null}},LL=class extends De{constructor(t,e,n,r){super(),this.tcb=t,this.element=e,this.ngContentSelectors=n,this.componentName=r,this.optional=!1,this.category=t.env.config.controlFlowPreventingContentProjection==="error"?E.default.DiagnosticCategory.Error:E.default.DiagnosticCategory.Warning}execute(){let t=this.findPotentialControlFlowNodes();if(t.length>0){let e=new Nr;for(let n of this.ngContentSelectors)n!=="*"&&e.addSelectables(mn.parse(n),n);for(let n of t)for(let r of n.children)(r instanceof oe||r instanceof ce)&&e.match(_p(r),(s,i)=>{this.tcb.oobRecorder.controlFlowPreventingContentProjection(this.tcb.id,this.category,r,this.componentName,i,n,this.tcb.hostPreserveWhitespaces)})}return null}findPotentialControlFlowNodes(){let t=[];for(let e of this.element.children){let n=null;if(e instanceof Sn?(this.shouldCheck(e)&&t.push(e),e.empty!==null&&this.shouldCheck(e.empty)&&t.push(e.empty)):e instanceof cs&&(n=e.branches[0]),n===null||n.children.length<2)continue;n.children.reduce((s,i)=>((!(i instanceof zt)||this.tcb.hostPreserveWhitespaces||i.value.trim().length>0)&&s++,s),0)>1&&t.push(n)}return t}shouldCheck(t){return t.children.length<2?!1:t.children.reduce((n,r)=>((!(r instanceof zt)||this.tcb.hostPreserveWhitespaces||r.value.trim().length>0)&&n++,n),0)>1}},BS=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"})),AS=class extends De{constructor(t,e,n,r){super(),this.tcb=t,this.scope=e,this.element=n,this.claimedInputs=r}get optional(){return!1}execute(){var t;let e=null;for(let n of this.element.inputs){let r=n.type===0||n.type===5;if(r&&this.claimedInputs.has(n.name))continue;let s=of(on(n.value,this.tcb,this.scope),this.tcb);if(this.tcb.env.config.checkTypeOfDomBindings&&r)if(n.name!=="style"&&n.name!=="class"){e===null&&(e=this.scope.resolve(this.element));let i=(t=BS.get(n.name))!=null?t:n.name,o=E.default.factory.createElementAccessExpression(e,E.default.factory.createStringLiteral(i)),a=E.default.factory.createBinaryExpression(o,E.default.SyntaxKind.EqualsToken,Pe(s));$(a,n.sourceSpan),this.scope.addStatement(E.default.factory.createExpressionStatement(a))}else this.scope.addStatement(E.default.factory.createExpressionStatement(s));else this.scope.addStatement(E.default.factory.createExpressionStatement(s))}return null}},OL=class extends De{constructor(t,e,n,r){super(),this.tcb=t,this.scope=e,this.node=n,this.dir=r}get optional(){return!1}execute(){let t=null,e=this.dir.outputs;for(let n of this.node.outputs){if(n.type===1||!e.hasBindingPropertyName(n.name))continue;if(this.tcb.env.config.checkTypeOfOutputEvents&&n.name.endsWith("Change")){let i=n.name.slice(0,-6);qS(i,n,this.node.inputs,this.tcb)}let r=e.getByBindingPropertyName(n.name)[0].classPropertyName;t===null&&(t=this.scope.resolve(this.node,this.dir));let s=E.default.factory.createElementAccessExpression(t,E.default.factory.createStringLiteral(r));if($(s,n.keySpan),this.tcb.env.config.checkTypeOfOutputEvents){let i=na(n,this.tcb,this.scope,0),o=E.default.factory.createPropertyAccessExpression(s,"subscribe"),a=E.default.factory.createCallExpression(o,void 0,[i]);$(a,n.sourceSpan),this.scope.addStatement(E.default.factory.createExpressionStatement(a))}else{this.scope.addStatement(E.default.factory.createExpressionStatement(s));let i=na(n,this.tcb,this.scope,1);this.scope.addStatement(E.default.factory.createExpressionStatement(i))}}return null}},bS=class extends De{constructor(t,e,n,r){super(),this.tcb=t,this.scope=e,this.element=n,this.claimedOutputs=r}get optional(){return!1}execute(){let t=null;for(let e of this.element.outputs)if(!this.claimedOutputs.has(e.name)){if(this.tcb.env.config.checkTypeOfOutputEvents&&e.name.endsWith("Change")){let n=e.name.slice(0,-6);if(qS(n,e,this.element.inputs,this.tcb))continue}if(e.type===1){let n=this.tcb.env.config.checkTypeOfAnimationEvents?this.tcb.env.referenceExternalType("@angular/animations","AnimationEvent"):1,r=na(e,this.tcb,this.scope,n);this.scope.addStatement(E.default.factory.createExpressionStatement(r))}else if(this.tcb.env.config.checkTypeOfDomEvents){let n=na(e,this.tcb,this.scope,0);t===null&&(t=this.scope.resolve(this.element));let r=E.default.factory.createPropertyAccessExpression(t,"addEventListener");$(r,e.keySpan);let s=E.default.factory.createCallExpression(r,void 0,[E.default.factory.createStringLiteral(e.name),n]);$(s,e.sourceSpan),this.scope.addStatement(E.default.factory.createExpressionStatement(s))}else{let n=na(e,this.tcb,this.scope,1);this.scope.addStatement(E.default.factory.createExpressionStatement(n))}}return null}},FL=class extends De{constructor(t){super(),this.scope=t,this.optional=!1}execute(){let t=E.default.factory.createThis(),e=E.default.factory.createPropertyAccessExpression(t,"");return Kr(e),oa(e,Ms.COMPONENT_COMPLETION),this.scope.addStatement(E.default.factory.createExpressionStatement(e)),null}},BL=class extends De{constructor(t,e,n,r){super(),this.tcb=t,this.scope=e,this.initializer=n,this.variable=r}get optional(){return!1}execute(){let t=this.tcb.allocateId();$(t,this.variable.keySpan);let e=zr(t,Gi(this.initializer));return $(e.declarationList.declarations[0],this.variable.sourceSpan),this.scope.addStatement(e),t}},$L=class extends De{constructor(t,e,n,r){super(),this.tcb=t,this.scope=e,this.type=n,this.variable=r,this.optional=!0}execute(){let t=this.tcb.allocateId();$(t,this.variable.keySpan);let e=sa(t,this.type);return $(e.declarationList.declarations[0],this.variable.sourceSpan),this.scope.addStatement(e),t}},UL=class extends De{constructor(t,e,n){super(),this.tcb=t,this.scope=e,this.block=n,this.expressionScopes=new Map}get optional(){return!1}execute(){let t=this.generateBranch(0);return t&&this.scope.addStatement(t),null}generateBranch(t){let e=this.block.branches[t];if(!e)return;if(e.expression===null){let i=this.getBranchScope(this.scope,e,t);return E.default.factory.createBlock(i.render())}let n=Hi.forNodes(this.tcb,this.scope,e,[],null);n.render().forEach(i=>this.scope.addStatement(i)),this.expressionScopes.set(e,n);let r=e.expressionAlias===null?on(e.expression,this.tcb,n):n.resolve(e.expressionAlias),s=this.getBranchScope(n,e,t);return E.default.factory.createIfStatement(r,E.default.factory.createBlock(s.render()),this.generateBranch(t+1))}getBranchScope(t,e,n){let r=this.tcb.env.config.checkControlFlowBodies;return Hi.forNodes(this.tcb,t,null,r?e.children:[],r?this.generateBranchGuard(n):null)}generateBranchGuard(t){let e=null;for(let n=0;n<=t;n++){let r=this.block.branches[n];if(r.expression===null)continue;if(!this.expressionScopes.has(r))throw new Error(`Could not determine expression scope of branch at index ${n}`);let s=this.expressionScopes.get(r),i;r.expressionAlias===null?(i=on(r.expression,this.tcb,s),Kr(i)):i=s.resolve(r.expressionAlias);let o=n===t?i:E.default.factory.createPrefixUnaryExpression(E.default.SyntaxKind.ExclamationToken,E.default.factory.createParenthesizedExpression(i));e=e===null?o:E.default.factory.createBinaryExpression(e,E.default.SyntaxKind.AmpersandAmpersandToken,o)}return e}},VL=class extends De{constructor(t,e,n){super(),this.tcb=t,this.scope=e,this.block=n}get optional(){return!1}execute(){let t=on(this.block.expression,this.tcb,this.scope);Kr(t);let e=E.default.factory.createParenthesizedExpression(t),n=this.generateCase(0,e,null);return n!==void 0&&this.scope.addStatement(n),null}generateCase(t,e,n){let r=this.tcb.env.config.checkControlFlowBodies;if(t>=this.block.cases.length){if(n!==null){let a=Hi.forNodes(this.tcb,this.scope,null,r?n.children:[],r?this.generateGuard(n,e):null);return E.default.factory.createBlock(a.render())}return}let s=this.block.cases[t];if(s.expression===null)return this.generateCase(t+1,e,s);let i=Hi.forNodes(this.tcb,this.scope,null,r?s.children:[],r?this.generateGuard(s,e):null),o=on(s.expression,this.tcb,i);return E.default.factory.createIfStatement(E.default.factory.createBinaryExpression(e,E.default.SyntaxKind.EqualsEqualsEqualsToken,o),E.default.factory.createBlock(i.render()),this.generateCase(t+1,e,n))}generateGuard(t,e){if(t.expression!==null){let r=on(t.expression,this.tcb,this.scope);return Kr(r),E.default.factory.createBinaryExpression(e,E.default.SyntaxKind.EqualsEqualsEqualsToken,r)}let n=null;for(let r of this.block.cases){if(r.expression===null)continue;let s=on(r.expression,this.tcb,this.scope);Kr(s);let i=E.default.factory.createBinaryExpression(e,E.default.SyntaxKind.ExclamationEqualsEqualsToken,s);n===null?n=i:n=E.default.factory.createBinaryExpression(n,E.default.SyntaxKind.AmpersandAmpersandToken,i)}return n}},qL=class extends De{constructor(t,e,n){super(),this.tcb=t,this.scope=e,this.block=n}get optional(){return!1}execute(){let t=Hi.forNodes(this.tcb,this.scope,this.block,this.tcb.env.config.checkControlFlowBodies?this.block.children:[],null),e=t.resolve(this.block.item);if(!E.default.isIdentifier(e))throw new Error(`Could not resolve for loop variable ${this.block.item.name} to an identifier`);let n=E.default.factory.createVariableDeclarationList([E.default.factory.createVariableDeclaration(e)],E.default.NodeFlags.Const);$(n,this.block.item.keySpan);let r=E.default.factory.createNonNullExpression(on(this.block.expression,this.tcb,t)),i=new KL(this.tcb,t,this.block).translate(this.block.trackBy),o=[...t.render(),E.default.factory.createExpressionStatement(i)];return this.scope.addStatement(E.default.factory.createForOfStatement(void 0,n,r,E.default.factory.createBlock(o))),null}},GL=E.default.factory.createNonNullExpression(E.default.factory.createNull());var rf=class{constructor(t,e=null,n=null){this.tcb=t,this.parent=e,this.guard=n,this.opQueue=[],this.elementOpMap=new Map,this.directiveOpMap=new Map,this.referenceOpMap=new Map,this.templateCtxOpMap=new Map,this.varMap=new Map,this.statements=[]}static forNodes(t,e,n,r,s){let i=new rf(t,e,s);if(e===null&&t.env.config.enableTemplateTypeChecker&&i.opQueue.push(new FL(i)),n instanceof ce){let o=new Map;for(let a of n.variables){if(!o.has(a.name))o.set(a.name,a);else{let l=o.get(a.name);t.oobRecorder.duplicateTemplateVar(t.id,a,l)}this.registerVariable(i,a,new AL(t,i,n,a))}}else if(n instanceof Jn){let{expression:o,expressionAlias:a}=n;o!==null&&a!==null&&this.registerVariable(i,a,new BL(t,i,on(o,t,i),a))}else if(n instanceof Sn){let o=t.allocateId();$(o,n.item.sourceSpan),i.varMap.set(n.item,o);for(let[a,l]of Object.entries(n.contextVariables)){if(!this.forLoopContextVariableTypes.has(a))throw new Error(`Unrecognized for loop context variable ${a}`);let c=E.default.factory.createKeywordTypeNode(this.forLoopContextVariableTypes.get(a));this.registerVariable(i,l,new $L(t,i,c,l))}}for(let o of r)i.appendNode(o);return i}static registerVariable(t,e,n){let r=t.opQueue.push(n)-1;t.varMap.set(e,r)}resolve(t,e){let n=this.resolveLocal(t,e);if(n!==null){let r;if(E.default.isIdentifier(n))r=E.default.factory.createIdentifier(n.text);else if(E.default.isNonNullExpression(n))r=E.default.factory.createNonNullExpression(n.expression);else throw new Error(`Could not resolve ${t} to an Identifier or a NonNullExpression`);return E.default.setOriginalNode(r,n),r.parent=r.parent,E.default.setSyntheticTrailingComments(r,[])}else{if(this.parent!==null)return this.parent.resolve(t,e);throw new Error(`Could not resolve ${t} / ${e}`)}}addStatement(t){this.statements.push(t)}render(){for(let t=0;t<this.opQueue.length;t++){let e=!this.tcb.env.config.enableTemplateTypeChecker;this.executeOp(t,e)}return this.statements}guards(){let t=null;return this.parent!==null&&(t=this.parent.guards()),this.guard===null?t:t===null?this.guard:E.default.factory.createBinaryExpression(t,E.default.SyntaxKind.AmpersandAmpersandToken,this.guard)}resolveLocal(t,e){if(t instanceof $n&&this.referenceOpMap.has(t))return this.resolveOp(this.referenceOpMap.get(t));if(t instanceof $t&&this.varMap.has(t)){let n=this.varMap.get(t);return typeof n=="number"?this.resolveOp(n):n}else{if(t instanceof ce&&e===void 0&&this.templateCtxOpMap.has(t))return this.resolveOp(this.templateCtxOpMap.get(t));if((t instanceof oe||t instanceof ce)&&e!==void 0&&this.directiveOpMap.has(t)){let n=this.directiveOpMap.get(t);return n.has(e)?this.resolveOp(n.get(e)):null}else return t instanceof oe&&this.elementOpMap.has(t)?this.resolveOp(this.elementOpMap.get(t)):null}}resolveOp(t){let e=this.executeOp(t,!1);if(e===null)throw new Error("Error resolving operation, got null");return e}executeOp(t,e){let n=this.opQueue[t];if(!(n instanceof De))return n;if(e&&n.optional)return null;this.opQueue[t]=n.circularFallback();let r=n.execute();return this.opQueue[t]=r,r}appendNode(t){if(t instanceof oe){let e=this.opQueue.push(new CL(this.tcb,this,t))-1;this.elementOpMap.set(t,e),this.tcb.env.config.controlFlowPreventingContentProjection!=="suppress"&&this.appendContentProjectionCheckOp(t),this.appendDirectivesAndInputsOfNode(t),this.appendOutputsOfNode(t),this.appendChildren(t),this.checkAndAppendReferencesOfNode(t)}else if(t instanceof ce){this.appendDirectivesAndInputsOfNode(t),this.appendOutputsOfNode(t);let e=this.opQueue.push(new bL(this.tcb,this))-1;this.templateCtxOpMap.set(t,e),this.tcb.env.config.checkTemplateBodies?this.opQueue.push(new NL(this.tcb,this,t)):this.tcb.env.config.alwaysCheckSchemaInTemplateBodies&&this.appendDeepSchemaChecks(t.children),this.checkAndAppendReferencesOfNode(t)}else t instanceof sr?this.appendDeferredBlock(t):t instanceof cs?this.opQueue.push(new UL(this.tcb,this,t)):t instanceof hi?this.opQueue.push(new ea(this.tcb,this,t.expression),new VL(this.tcb,this,t)):t instanceof Sn?(this.opQueue.push(new qL(this.tcb,this,t)),t.empty&&this.tcb.env.config.checkControlFlowBodies&&this.appendChildren(t.empty)):t instanceof Bn?this.opQueue.push(new ea(this.tcb,this,t.value)):t instanceof us&&this.appendIcuExpressions(t)}appendChildren(t){for(let e of t.children)this.appendNode(e)}checkAndAppendReferencesOfNode(t){for(let e of t.references){let n=this.tcb.boundTarget.getReferenceTarget(e),r;n===null?(this.tcb.oobRecorder.missingReferenceTarget(this.tcb.id,e),r=this.opQueue.push(new RL(this.tcb,this))-1):n instanceof ce||n instanceof oe?r=this.opQueue.push(new CS(this.tcb,this,e,t,n))-1:r=this.opQueue.push(new CS(this.tcb,this,e,t,n.directive))-1,this.referenceOpMap.set(e,r)}}appendDirectivesAndInputsOfNode(t){let e=new Set,n=this.tcb.boundTarget.getDirectivesOfNode(t);if(n===null||n.length===0){t instanceof oe&&(this.opQueue.push(new AS(this.tcb,this,t,e)),this.opQueue.push(new Kh(this.tcb,t,!0,e)));return}else t instanceof oe&&!this.tcb.boundTarget.isDeferred(t)&&n.some(i=>i.isExplicitlyDeferred)&&this.tcb.oobRecorder.deferredComponentUsedEagerly(this.tcb.id,t);let r=new Map;for(let s of n){let i,o=this.tcb.env.reflector,a=s.ref;s.isGeneric?!yL(a.node,o,this.tcb.env)||this.tcb.env.config.useInlineTypeConstructors?i=new PL(this.tcb,this,t,s):i=new _L(this.tcb,this,t,s):i=new DL(this.tcb,this,t,s);let l=this.opQueue.push(i)-1;r.set(s,l),this.opQueue.push(new kL(this.tcb,this,t,s))}if(this.directiveOpMap.set(t,r),t instanceof oe){for(let i of n)for(let o of i.inputs.propertyNames)e.add(o);this.opQueue.push(new AS(this.tcb,this,t,e));let s=n.length===0;this.opQueue.push(new Kh(this.tcb,t,s,e))}}appendOutputsOfNode(t){let e=new Set,n=this.tcb.boundTarget.getDirectivesOfNode(t);if(n===null||n.length===0){t instanceof oe&&this.opQueue.push(new bS(this.tcb,this,t,e));return}for(let r of n)this.opQueue.push(new OL(this.tcb,this,t,r));if(t instanceof oe){for(let r of n)for(let s of r.outputs.propertyNames)e.add(s);this.opQueue.push(new bS(this.tcb,this,t,e))}}appendDeepSchemaChecks(t){for(let e of t)if(e instanceof oe||e instanceof ce){if(e instanceof oe){let n=new Set,r=this.tcb.boundTarget.getDirectivesOfNode(e),s;if(r===null||r.length===0)s=!1;else{s=!0;for(let i of r)for(let o of i.inputs.propertyNames)n.add(o)}this.opQueue.push(new Kh(this.tcb,e,!s,n))}this.appendDeepSchemaChecks(e.children)}}appendIcuExpressions(t){for(let e of Object.values(t.vars))this.opQueue.push(new ea(this.tcb,this,e.value));for(let e of Object.values(t.placeholders))e instanceof Bn&&this.opQueue.push(new ea(this.tcb,this,e.value))}appendContentProjectionCheckOp(t){var e;let n=((e=this.tcb.boundTarget.getDirectivesOfNode(t))==null?void 0:e.find(r=>r.isComponent))||null;if(n!==null&&n.ngContentSelectors!==null&&n.ngContentSelectors.length>0){let r=n.ngContentSelectors;(r.length>1||r.length===1&&r[0]!=="*")&&this.opQueue.push(new LL(this.tcb,t,r,n.name))}}appendDeferredBlock(t){this.appendDeferredTriggers(t,t.triggers),this.appendDeferredTriggers(t,t.prefetchTriggers),this.appendChildren(t),t.placeholder!==null&&this.appendChildren(t.placeholder),t.loading!==null&&this.appendChildren(t.loading),t.error!==null&&this.appendChildren(t.error)}appendDeferredTriggers(t,e){e.when!==void 0&&this.opQueue.push(new ea(this.tcb,this,e.when.value)),e.hover!==void 0&&this.appendReferenceBasedDeferredTrigger(t,e.hover),e.interaction!==void 0&&this.appendReferenceBasedDeferredTrigger(t,e.interaction),e.viewport!==void 0&&this.appendReferenceBasedDeferredTrigger(t,e.viewport)}appendReferenceBasedDeferredTrigger(t,e){this.tcb.boundTarget.getDeferredTriggerTarget(t,e)===null&&this.tcb.oobRecorder.inaccessibleDeferredTriggerElement(this.tcb.id,e)}},Hi=rf;rf.forLoopContextVariableTypes=new Map([["$first",E.default.SyntaxKind.BooleanKeyword],["$last",E.default.SyntaxKind.BooleanKeyword],["$even",E.default.SyntaxKind.BooleanKeyword],["$odd",E.default.SyntaxKind.BooleanKeyword],["$index",E.default.SyntaxKind.NumberKeyword],["$count",E.default.SyntaxKind.NumberKeyword]]);function on(t,e,n){return new sf(e,n).translate(t)}var sf=class{constructor(t,e){this.tcb=t,this.scope=e}translate(t){return TL(t,e=>this.resolve(e),this.tcb.env.config)}resolve(t){if(t instanceof de&&t.receiver instanceof xe)return this.resolveTarget(t);if(t instanceof wn&&t.receiver instanceof xe){let e=this.resolveTarget(t);if(e===null)return null;let n=this.translate(t.value),r=E.default.factory.createParenthesizedExpression(E.default.factory.createBinaryExpression(e,E.default.SyntaxKind.EqualsToken,n));return $(r,t.sourceSpan),r}else{if(t instanceof xe)return E.default.factory.createThis();if(t instanceof Un){let e=this.translate(t.exp),n=this.tcb.getPipeByName(t.name),r;n===null?(this.tcb.oobRecorder.missingPipe(this.tcb.id,t),r=ks):n.isExplicitlyDeferred&&this.tcb.boundTarget.getEagerlyUsedPipes().includes(t.name)?(this.tcb.oobRecorder.deferredPipeUsedEagerly(this.tcb.id,t),r=ks):r=this.tcb.env.pipeInst(n.ref);let s=t.args.map(a=>this.translate(a)),i=E.default.factory.createPropertyAccessExpression(r,"transform");$(i,t.nameSpan),this.tcb.env.config.checkTypeOfPipes||(i=E.default.factory.createAsExpression(i,E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword)));let o=E.default.factory.createCallExpression(i,void 0,[e,...s]);return $(o,t.sourceSpan),o}else if((t instanceof kt||t instanceof Tn)&&(t.receiver instanceof de||t.receiver instanceof Tt)){if(t.receiver.receiver instanceof xe&&!(t.receiver.receiver instanceof dn)&&t.receiver.name==="$any"&&t.args.length===1){let i=this.translate(t.args[0]),o=E.default.factory.createAsExpression(i,E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword)),a=E.default.factory.createParenthesizedExpression(o);return $(a,t.sourceSpan),a}let e=this.resolveTarget(t);if(e===null)return null;let n=Pe(e);$(n,t.receiver.nameSpan);let r=t.args.map(i=>this.translate(i)),s=E.default.factory.createCallExpression(n,void 0,r);return $(s,t.sourceSpan),s}else return null}}resolveTarget(t){let e=this.tcb.boundTarget.getExpressionTarget(t);if(e===null)return null;let n=this.scope.resolve(e);return $(n,t.sourceSpan),n}};function HL(t,e,n){let r=e.env.typeCtorFor(t),s=n.map(i=>{let o=E.default.factory.createStringLiteral(i.field);if(i.type==="binding"){let a=of(i.expression,e);i.isTwoWayBinding&&e.env.config.allowSignalsInTwoWayBindings&&(a=VS(a,e));let l=E.default.factory.createPropertyAssignment(o,Pe(a));return $(l,i.sourceSpan),l}else return E.default.factory.createPropertyAssignment(o,ks)});return E.default.factory.createCallExpression(r,void 0,[E.default.factory.createObjectLiteralExpression(s)])}function $S(t,e){let n=[],r=s=>{if(s instanceof Jt&&s.type!==0&&s.type!==5)return;let i=t.inputs.getByBindingPropertyName(s.name);i!==null&&n.push({attribute:s,inputs:i.map(o=>{var a;return{fieldName:o.classPropertyName,required:o.required,transformType:((a=o.transform)==null?void 0:a.type)||null,isSignal:o.isSignal,isTwoWayBinding:s instanceof Jt&&s.type===5}})})};return e.inputs.forEach(r),e.attributes.forEach(r),e instanceof ce&&e.templateAttrs.forEach(r),n}function US(t,e,n){return t instanceof Jt?on(t.value,e,n):E.default.factory.createStringLiteral(t.value)}function of(t,e){return e.env.config.checkTypeOfInputBindings?e.env.config.strictNullInputBindings||E.default.isObjectLiteralExpression(t)||E.default.isArrayLiteralExpression(t)?t:E.default.factory.createNonNullExpression(t):vr(t)}function VS(t,e){let n=e.env.referenceExternalSymbol(p.unwrapWritableSignal.moduleName,p.unwrapWritableSignal.name);return E.default.factory.createCallExpression(n,void 0,[t])}var Zh="$event";function na(t,e,n,r){let s=WL(t.handler,e,n),i;r===0?i=void 0:r===1?i=E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword):i=r;let o=n.guards(),a=E.default.factory.createExpressionStatement(s);o!==null&&(a=E.default.factory.createIfStatement(o,a));let l=E.default.factory.createParameterDeclaration(void 0,void 0,Zh,void 0,i);return oa(l,Ms.EVENT_PARAMETER),E.default.factory.createArrowFunction(void 0,void 0,[l],E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword),void 0,E.default.factory.createBlock([a]))}function WL(t,e,n){return new jL(e,n).translate(t)}function qS(t,e,n,r){let s=n.find(a=>a.name===t);if(s===void 0||s.sourceSpan!==e.sourceSpan)return!1;let i=r.boundTarget.getConsumerOfBinding(s),o=r.boundTarget.getConsumerOfBinding(e);return o===null||i.ref===void 0||o instanceof ce?!1:o instanceof oe?(r.oobRecorder.splitTwoWayBinding(r.id,s,e,i.ref.node,o),!0):o.ref!==i.ref?(r.oobRecorder.splitTwoWayBinding(r.id,s,e,i.ref.node,o.ref.node),!0):!1}var jL=class extends sf{resolve(t){if(t instanceof de&&t.receiver instanceof xe&&!(t.receiver instanceof dn)&&t.name===Zh){let e=E.default.factory.createIdentifier(Zh);return $(e,t.nameSpan),e}return super.resolve(t)}},KL=class extends sf{constructor(t,e,n){super(t,e),this.block=n}resolve(t){if(t instanceof de&&t.receiver instanceof xe){let e=this.tcb.boundTarget.getExpressionTarget(t);e!==null&&e!==this.block.item&&e!==this.block.contextVariables.$index&&this.tcb.oobRecorder.illegalForLoopTrackAccess(this.tcb.id,this.block,t)}return super.resolve(t)}};var NS;(function(t){t[t.InlineOps=0]="InlineOps",t[t.Error=1]="Error"})(NS||(NS={}));var J$=new An;var YL=new Set(["WritableSignal","Signal","InputSignal","InputSignalWithTransform","ModelSignal"]);function DS(t){return(t.kind===Dn.Expression||t.kind===Dn.Variable)&&(t.tsType.symbol!==void 0&&_S(t.tsType.symbol)||t.tsType.aliasSymbol!==void 0&&_S(t.tsType.aliasSymbol))}function _S(t){let e=t.getDeclarations();return e!==void 0&&e.some(n=>{let r=n.getSourceFile().fileName;return(ef.default.isInterfaceDeclaration(n)||ef.default.isTypeAliasDeclaration(n))&&YL.has(n.name.text)&&(r.includes("@angular/core")||r.includes("angular2/rc/packages/core"))})}var Xr=class{run(t,e,n){return new QL(t,e,this).getDiagnostics(n)}},QL=class extends Or{constructor(t,e,n){super(),this.ctx=t,this.component=e,this.check=n,this.diagnostics=[]}visit(t,e){this.diagnostics.push(...this.check.visitNode(this.ctx,this.component,t)),t.visit(this)}visitAllNodes(t){for(let e of t)this.visit(e)}visitAst(t){t instanceof Me&&(t=t.ast),this.visit(t)}visitElement(t){this.visitAllNodes(t.attributes),this.visitAllNodes(t.inputs),this.visitAllNodes(t.outputs),this.visitAllNodes(t.references),this.visitAllNodes(t.children)}visitTemplate(t){this.visitAllNodes(t.attributes),t.tagName==="ng-template"&&(this.visitAllNodes(t.inputs),this.visitAllNodes(t.outputs),this.visitAllNodes(t.templateAttrs)),this.visitAllNodes(t.variables),this.visitAllNodes(t.references),this.visitAllNodes(t.children)}visitContent(t){}visitVariable(t){}visitReference(t){}visitTextAttribute(t){}visitUnknownBlock(t){}visitBoundAttribute(t){this.visitAst(t.value)}visitBoundEvent(t){this.visitAst(t.handler)}visitText(t){}visitBoundText(t){this.visitAst(t.value)}visitIcu(t){}visitDeferredBlock(t){t.visitAll(this)}visitDeferredTrigger(t){t instanceof pi&&this.visitAst(t.value)}visitDeferredBlockPlaceholder(t){this.visitAllNodes(t.children)}visitDeferredBlockError(t){this.visitAllNodes(t.children)}visitDeferredBlockLoading(t){this.visitAllNodes(t.children)}visitSwitchBlock(t){this.visitAst(t.expression),this.visitAllNodes(t.cases)}visitSwitchBlockCase(t){t.expression&&this.visitAst(t.expression),this.visitAllNodes(t.children)}visitForLoopBlock(t){var e;t.item.visit(this),this.visitAllNodes(Object.values(t.contextVariables)),this.visitAst(t.expression),this.visitAllNodes(t.children),(e=t.empty)==null||e.visit(this)}visitForLoopBlockEmpty(t){this.visitAllNodes(t.children)}visitIfBlock(t){this.visitAllNodes(t.branches)}visitIfBlockBranch(t){var e;t.expression&&this.visitAst(t.expression),(e=t.expressionAlias)==null||e.visit(this),this.visitAllNodes(t.children)}getDiagnostics(t){return this.diagnostics=[],this.visitAllNodes(t),this.diagnostics}},JL=new Set(["set","update","asReadonly"]),ZL=new Set(["name","length","prototype"]),eO=class extends Xr{constructor(){super(...arguments),this.code=se.INTERPOLATED_SIGNAL_NOT_INVOKED}visitNode(t,e,n){return n instanceof be?n.expressions.filter(r=>r instanceof de).flatMap(r=>rO(t,r,e)):[]}};function tO(t){return ZL.has(t)}function nO(t){return JL.has(t)}function rO(t,e,n){let r=t.templateTypeChecker.getSymbolOfNode(e,n);if(r!==null&&r.kind===Dn.Expression&&DS(r)){let i=t.templateTypeChecker.getTemplateMappingAtTcbLocation(r.tcbLocation),o=`${e.name} is a function and should be invoked: ${e.name}()`;return[t.makeTemplateDiagnostic(i.span,o)]}let s=t.templateTypeChecker.getSymbolOfNode(e.receiver,n);if((tO(e.name)||nO(e.name))&&s!==null&&s.kind===Dn.Expression&&DS(s)){let i=t.templateTypeChecker.getTemplateMappingAtTcbLocation(s.tcbLocation),o=`${e.receiver.name} is a function and should be invoked: ${e.receiver.name}()`;return[t.makeTemplateDiagnostic(i.span,o)]}return[]}var sO={code:se.INTERPOLATED_SIGNAL_NOT_INVOKED,name:nn.INTERPOLATED_SIGNAL_NOT_INVOKED,create:()=>new eO},iO=class extends Xr{constructor(){super(...arguments),this.code=se.INVALID_BANANA_IN_BOX}visitNode(t,e,n){if(!(n instanceof Pr))return[];let r=n.name;if(!r.startsWith("[")||!r.endsWith("]"))return[];let i=n.sourceSpan.toString().replace(`(${r})`,`[(${r.slice(1,-1)})]`);return[t.makeTemplateDiagnostic(n.sourceSpan,`In the two-way binding syntax the parentheses should be inside the brackets, ex. '${i}'.
        Find more at https://angular.io/guide/two-way-binding`)]}},oO={code:se.INVALID_BANANA_IN_BOX,name:nn.INVALID_BANANA_IN_BOX,create:()=>new iO},RS=new Map([["ngIf",{directive:"NgIf",builtIn:"@if"}],["ngFor",{directive:"NgFor",builtIn:"@for"}],["ngSwitchCase",{directive:"NgSwitchCase",builtIn:"@switch with @case"}],["ngSwitchDefault",{directive:"NgSwitchDefault",builtIn:"@switch with @default"}]]),aO=class extends Xr{constructor(){super(...arguments),this.code=se.MISSING_CONTROL_FLOW_DIRECTIVE}run(t,e,n){let r=t.templateTypeChecker.getDirectiveMetadata(e);return!r||!r.isStandalone?[]:super.run(t,e,n)}visitNode(t,e,n){if(!(n instanceof ce))return[];let r=n.templateAttrs.find(c=>RS.has(c.name));if(!r)return[];let s=t.templateTypeChecker.getSymbolOfNode(n,e);if(s===null||s.directives.length>0)return[];let i=r.keySpan||r.sourceSpan,o=RS.get(r.name),a=`The \`*${r.name}\` directive was used in the template, but neither the \`${o?.directive}\` directive nor the \`CommonModule\` was imported. Use Angular's built-in control flow ${o?.builtIn} or make sure that either the \`${o?.directive}\` directive or the \`CommonModule\` is included in the \`@Component.imports\` array of this component.`;return[t.makeTemplateDiagnostic(i,a)]}},lO={code:se.MISSING_CONTROL_FLOW_DIRECTIVE,name:nn.MISSING_CONTROL_FLOW_DIRECTIVE,create:t=>new aO},cO=class extends Xr{constructor(){super(...arguments),this.code=se.MISSING_NGFOROF_LET}visitNode(t,e,n){let r=n instanceof ce;if(!(n instanceof ce))return[];if(n.templateAttrs.length===0)return[];let s=n.templateAttrs.find(a=>a.name==="ngFor");return s===void 0?[]:n.variables.length>0?[]:[t.makeTemplateDiagnostic(s.sourceSpan,"Your ngFor is missing a value. Did you forget to add the `let` keyword?")]}},uO={code:se.MISSING_NGFOROF_LET,name:nn.MISSING_NGFOROF_LET,create:()=>new cO},pO=class extends Xr{constructor(){super(...arguments),this.code=se.NULLISH_COALESCING_NOT_NULLABLE}visitNode(t,e,n){if(!(n instanceof ot)||n.operation!=="??")return[];let r=t.templateTypeChecker.getSymbolOfNode(n.left,e);if(r===null||r.kind!==Dn.Expression)return[];let s=r.tsType;if(s.flags&(tf.default.TypeFlags.Any|tf.default.TypeFlags.Unknown))return[];if(s.getNonNullableType()!==s)return[];let i=t.templateTypeChecker.getSymbolOfNode(n,e);if(i.kind!==Dn.Expression)return[];let o=t.templateTypeChecker.getTemplateMappingAtTcbLocation(i.tcbLocation);return o===null?[]:[t.makeTemplateDiagnostic(o.span,"The left side of this nullish coalescing operation does not include 'null' or 'undefined' in its type, therefore the '??' operator can be safely removed.")]}},hO={code:se.NULLISH_COALESCING_NOT_NULLABLE,name:nn.NULLISH_COALESCING_NOT_NULLABLE,create:t=>(t.strictNullChecks===void 0?!!t.strict:!!t.strictNullChecks)?new pO:null},fO=class extends Xr{constructor(){super(...arguments),this.code=se.OPTIONAL_CHAIN_NOT_NULLABLE}visitNode(t,e,n){if(!(n instanceof Tn)&&!(n instanceof Tt)&&!(n instanceof xn))return[];let r=t.templateTypeChecker.getSymbolOfNode(n.receiver,e);if(r===null||r.kind!==Dn.Expression)return[];let s=r.tsType;if(s.flags&(nf.default.TypeFlags.Any|nf.default.TypeFlags.Unknown))return[];if(s.getNonNullableType()!==s)return[];let i=t.templateTypeChecker.getSymbolOfNode(n,e);if(i.kind!==Dn.Expression)return[];let o=t.templateTypeChecker.getTemplateMappingAtTcbLocation(i.tcbLocation);if(o===null)return[];let a=n instanceof Tt?"the '?.' operator can be replaced with the '.' operator":"the '?.' operator can be safely removed";return[t.makeTemplateDiagnostic(o.span,`The left side of this optional chain operation does not include 'null' or 'undefined' in its type, therefore ${a}.`)]}},dO={code:se.OPTIONAL_CHAIN_NOT_NULLABLE,name:nn.OPTIONAL_CHAIN_NOT_NULLABLE,create:t=>(t.strictNullChecks===void 0?!!t.strict:!!t.strictNullChecks)?new fO:null},PS=["px","%","em"],mO=class extends Xr{constructor(){super(...arguments),this.code=se.SUFFIX_NOT_SUPPORTED}visitNode(t,e,n){return n instanceof Jt?!n.keySpan.toString().startsWith("attr.")||!PS.some(s=>n.name.endsWith(`.${s}`))?[]:[t.makeTemplateDiagnostic(n.keySpan,`The ${PS.map(s=>`'.${s}'`).join(", ")} suffixes are only supported on style bindings.`)]:[]}},gO={code:se.SUFFIX_NOT_SUPPORTED,name:nn.SUFFIX_NOT_SUPPORTED,create:()=>new mO},vO=class extends Xr{constructor(){super(...arguments),this.code=se.TEXT_ATTRIBUTE_NOT_BINDING}visitNode(t,e,n){if(!(n instanceof Bt))return[];let r=n.name;if(!r.startsWith("attr.")&&!r.startsWith("style.")&&!r.startsWith("class."))return[];let s;if(r.startsWith("attr.")){let o=r.replace("attr.","");s="Static attributes should be written without the 'attr.' prefix.",n.value&&(s+=` For example, ${o}="${n.value}".`)}else{let o=`[${r}]`,a=n.value==="true"||n.value==="false"?n.value:`'${n.value}'`;s="Attribute, style, and class bindings should be enclosed with square braces.",n.value&&(s+=` For example, '${o}="${a}"'.`)}return[t.makeTemplateDiagnostic(n.sourceSpan,s)]}},yO={code:se.TEXT_ATTRIBUTE_NOT_BINDING,name:nn.TEXT_ATTRIBUTE_NOT_BINDING,create:()=>new vO},kS;(function(t){t.Warning="warning",t.Error="error",t.Suppress="suppress"})(kS||(kS={}));var SO=[oO,hO,dO,lO,yO,uO,gO,sO],l8=new Set([nn.CONTROL_FLOW_PREVENTING_CONTENT_PROJECTION,...SO.map(t=>t.name)]);var MS;(function(t){t[t.Fresh=0]="Fresh",t[t.IncrementalTypeScript=1]="IncrementalTypeScript",t[t.IncrementalResource=2]="IncrementalResource"})(MS||(MS={}));S();var GS=require("module"),eU=(0,GS.createRequire)(k),af;(function(t){t[t.debug=0]="debug",t[t.info=1]="info",t[t.warn=2]="warn",t[t.error=3]="error"})(af||(af={}));var lf="\x1B[0m",AO="\x1B[31m",bO="\x1B[33m",NO="\x1B[36m",tU=`${NO}Debug:${lf}`,nU=`${bO}Warning:${lf}`,rU=`${AO}Error:${lf}`;var OU=(0,HS.createRequire)(k),KU=new po("17.3.7");ff(new vf);0&&(module.exports={angularJitApplicationTransform});
/*! Bundled license information:

@angular/compiler-cli/bundles/chunk-UM6JO3VZ.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler/fesm2022/compiler.mjs:
  (**
   * @license Angular v17.3.7
   * (c) 2010-2024 Google LLC. https://angular.io/
   * License: MIT
   *)

@angular/compiler/fesm2022/compiler.mjs:
  (**
   *
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/chunk-RWHNANUR.js:
  (*!
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/chunk-64JBPJBS.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/chunk-JVX4FN2F.js:
  (*!
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/chunk-7IGIAFDK.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/chunk-XIYC7KSQ.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/chunk-EM4I4HTR.js:
  (*!
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/chunk-LYJKWJUC.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/index.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)
*/
